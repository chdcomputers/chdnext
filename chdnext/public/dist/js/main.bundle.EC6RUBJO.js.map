{
  "version": 3,
  "sources": ["../../../../../apps/frappe/node_modules/cropperjs/dist/cropper.js", "../../../../../apps/chdnext/chdnext/public/js/chdnext/file_uploader/ProgressRing.vue", "../../../../../apps/chdnext/chdnext/public/js/chdnext/file_uploader/FilePreview.vue", "../../../../../apps/chdnext/chdnext/public/js/chdnext/file_uploader/TreeNode.vue", "../../../../../apps/chdnext/chdnext/public/js/chdnext/file_uploader/FileBrowser.vue", "../../../../../apps/chdnext/chdnext/public/js/chdnext/file_uploader/WebLink.vue", "../../../../../apps/chdnext/chdnext/public/js/integrations/google_drive_picker.js", "../../../../../apps/chdnext/chdnext/public/js/chdnext/file_uploader/ImageCropper.vue", "../../../../../apps/chdnext/chdnext/public/js/chdnext/file_uploader/FileUploader.vue", "../../../../../apps/chdnext/chdnext/public/js/chdnext/file_uploader/index.js", "../../../../../apps/chdnext/chdnext/public/js/chdnext/upload.js"],
  "sourcesContent": ["/*!\n * Cropper.js v1.5.12\n * https://fengyuanchen.github.io/cropperjs\n *\n * Copyright 2015-present Chen Fengyuan\n * Released under the MIT license\n *\n * Date: 2021-06-12T08:00:17.411Z\n */\n\n(function (global, factory) {\n  typeof exports === 'object' && typeof module !== 'undefined' ? module.exports = factory() :\n  typeof define === 'function' && define.amd ? define(factory) :\n  (global = typeof globalThis !== 'undefined' ? globalThis : global || self, global.Cropper = factory());\n}(this, (function () { 'use strict';\n\n  function ownKeys(object, enumerableOnly) {\n    var keys = Object.keys(object);\n\n    if (Object.getOwnPropertySymbols) {\n      var symbols = Object.getOwnPropertySymbols(object);\n\n      if (enumerableOnly) {\n        symbols = symbols.filter(function (sym) {\n          return Object.getOwnPropertyDescriptor(object, sym).enumerable;\n        });\n      }\n\n      keys.push.apply(keys, symbols);\n    }\n\n    return keys;\n  }\n\n  function _objectSpread2(target) {\n    for (var i = 1; i < arguments.length; i++) {\n      var source = arguments[i] != null ? arguments[i] : {};\n\n      if (i % 2) {\n        ownKeys(Object(source), true).forEach(function (key) {\n          _defineProperty(target, key, source[key]);\n        });\n      } else if (Object.getOwnPropertyDescriptors) {\n        Object.defineProperties(target, Object.getOwnPropertyDescriptors(source));\n      } else {\n        ownKeys(Object(source)).forEach(function (key) {\n          Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key));\n        });\n      }\n    }\n\n    return target;\n  }\n\n  function _typeof(obj) {\n    \"@babel/helpers - typeof\";\n\n    if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") {\n      _typeof = function (obj) {\n        return typeof obj;\n      };\n    } else {\n      _typeof = function (obj) {\n        return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj;\n      };\n    }\n\n    return _typeof(obj);\n  }\n\n  function _classCallCheck(instance, Constructor) {\n    if (!(instance instanceof Constructor)) {\n      throw new TypeError(\"Cannot call a class as a function\");\n    }\n  }\n\n  function _defineProperties(target, props) {\n    for (var i = 0; i < props.length; i++) {\n      var descriptor = props[i];\n      descriptor.enumerable = descriptor.enumerable || false;\n      descriptor.configurable = true;\n      if (\"value\" in descriptor) descriptor.writable = true;\n      Object.defineProperty(target, descriptor.key, descriptor);\n    }\n  }\n\n  function _createClass(Constructor, protoProps, staticProps) {\n    if (protoProps) _defineProperties(Constructor.prototype, protoProps);\n    if (staticProps) _defineProperties(Constructor, staticProps);\n    return Constructor;\n  }\n\n  function _defineProperty(obj, key, value) {\n    if (key in obj) {\n      Object.defineProperty(obj, key, {\n        value: value,\n        enumerable: true,\n        configurable: true,\n        writable: true\n      });\n    } else {\n      obj[key] = value;\n    }\n\n    return obj;\n  }\n\n  function _toConsumableArray(arr) {\n    return _arrayWithoutHoles(arr) || _iterableToArray(arr) || _unsupportedIterableToArray(arr) || _nonIterableSpread();\n  }\n\n  function _arrayWithoutHoles(arr) {\n    if (Array.isArray(arr)) return _arrayLikeToArray(arr);\n  }\n\n  function _iterableToArray(iter) {\n    if (typeof Symbol !== \"undefined\" && iter[Symbol.iterator] != null || iter[\"@@iterator\"] != null) return Array.from(iter);\n  }\n\n  function _unsupportedIterableToArray(o, minLen) {\n    if (!o) return;\n    if (typeof o === \"string\") return _arrayLikeToArray(o, minLen);\n    var n = Object.prototype.toString.call(o).slice(8, -1);\n    if (n === \"Object\" && o.constructor) n = o.constructor.name;\n    if (n === \"Map\" || n === \"Set\") return Array.from(o);\n    if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen);\n  }\n\n  function _arrayLikeToArray(arr, len) {\n    if (len == null || len > arr.length) len = arr.length;\n\n    for (var i = 0, arr2 = new Array(len); i < len; i++) arr2[i] = arr[i];\n\n    return arr2;\n  }\n\n  function _nonIterableSpread() {\n    throw new TypeError(\"Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n  }\n\n  var IS_BROWSER = typeof window !== 'undefined' && typeof window.document !== 'undefined';\n  var WINDOW = IS_BROWSER ? window : {};\n  var IS_TOUCH_DEVICE = IS_BROWSER && WINDOW.document.documentElement ? 'ontouchstart' in WINDOW.document.documentElement : false;\n  var HAS_POINTER_EVENT = IS_BROWSER ? 'PointerEvent' in WINDOW : false;\n  var NAMESPACE = 'cropper'; // Actions\n\n  var ACTION_ALL = 'all';\n  var ACTION_CROP = 'crop';\n  var ACTION_MOVE = 'move';\n  var ACTION_ZOOM = 'zoom';\n  var ACTION_EAST = 'e';\n  var ACTION_WEST = 'w';\n  var ACTION_SOUTH = 's';\n  var ACTION_NORTH = 'n';\n  var ACTION_NORTH_EAST = 'ne';\n  var ACTION_NORTH_WEST = 'nw';\n  var ACTION_SOUTH_EAST = 'se';\n  var ACTION_SOUTH_WEST = 'sw'; // Classes\n\n  var CLASS_CROP = \"\".concat(NAMESPACE, \"-crop\");\n  var CLASS_DISABLED = \"\".concat(NAMESPACE, \"-disabled\");\n  var CLASS_HIDDEN = \"\".concat(NAMESPACE, \"-hidden\");\n  var CLASS_HIDE = \"\".concat(NAMESPACE, \"-hide\");\n  var CLASS_INVISIBLE = \"\".concat(NAMESPACE, \"-invisible\");\n  var CLASS_MODAL = \"\".concat(NAMESPACE, \"-modal\");\n  var CLASS_MOVE = \"\".concat(NAMESPACE, \"-move\"); // Data keys\n\n  var DATA_ACTION = \"\".concat(NAMESPACE, \"Action\");\n  var DATA_PREVIEW = \"\".concat(NAMESPACE, \"Preview\"); // Drag modes\n\n  var DRAG_MODE_CROP = 'crop';\n  var DRAG_MODE_MOVE = 'move';\n  var DRAG_MODE_NONE = 'none'; // Events\n\n  var EVENT_CROP = 'crop';\n  var EVENT_CROP_END = 'cropend';\n  var EVENT_CROP_MOVE = 'cropmove';\n  var EVENT_CROP_START = 'cropstart';\n  var EVENT_DBLCLICK = 'dblclick';\n  var EVENT_TOUCH_START = IS_TOUCH_DEVICE ? 'touchstart' : 'mousedown';\n  var EVENT_TOUCH_MOVE = IS_TOUCH_DEVICE ? 'touchmove' : 'mousemove';\n  var EVENT_TOUCH_END = IS_TOUCH_DEVICE ? 'touchend touchcancel' : 'mouseup';\n  var EVENT_POINTER_DOWN = HAS_POINTER_EVENT ? 'pointerdown' : EVENT_TOUCH_START;\n  var EVENT_POINTER_MOVE = HAS_POINTER_EVENT ? 'pointermove' : EVENT_TOUCH_MOVE;\n  var EVENT_POINTER_UP = HAS_POINTER_EVENT ? 'pointerup pointercancel' : EVENT_TOUCH_END;\n  var EVENT_READY = 'ready';\n  var EVENT_RESIZE = 'resize';\n  var EVENT_WHEEL = 'wheel';\n  var EVENT_ZOOM = 'zoom'; // Mime types\n\n  var MIME_TYPE_JPEG = 'image/jpeg'; // RegExps\n\n  var REGEXP_ACTIONS = /^e|w|s|n|se|sw|ne|nw|all|crop|move|zoom$/;\n  var REGEXP_DATA_URL = /^data:/;\n  var REGEXP_DATA_URL_JPEG = /^data:image\\/jpeg;base64,/;\n  var REGEXP_TAG_NAME = /^img|canvas$/i; // Misc\n  // Inspired by the default width and height of a canvas element.\n\n  var MIN_CONTAINER_WIDTH = 200;\n  var MIN_CONTAINER_HEIGHT = 100;\n\n  var DEFAULTS = {\n    // Define the view mode of the cropper\n    viewMode: 0,\n    // 0, 1, 2, 3\n    // Define the dragging mode of the cropper\n    dragMode: DRAG_MODE_CROP,\n    // 'crop', 'move' or 'none'\n    // Define the initial aspect ratio of the crop box\n    initialAspectRatio: NaN,\n    // Define the aspect ratio of the crop box\n    aspectRatio: NaN,\n    // An object with the previous cropping result data\n    data: null,\n    // A selector for adding extra containers to preview\n    preview: '',\n    // Re-render the cropper when resize the window\n    responsive: true,\n    // Restore the cropped area after resize the window\n    restore: true,\n    // Check if the current image is a cross-origin image\n    checkCrossOrigin: true,\n    // Check the current image's Exif Orientation information\n    checkOrientation: true,\n    // Show the black modal\n    modal: true,\n    // Show the dashed lines for guiding\n    guides: true,\n    // Show the center indicator for guiding\n    center: true,\n    // Show the white modal to highlight the crop box\n    highlight: true,\n    // Show the grid background\n    background: true,\n    // Enable to crop the image automatically when initialize\n    autoCrop: true,\n    // Define the percentage of automatic cropping area when initializes\n    autoCropArea: 0.8,\n    // Enable to move the image\n    movable: true,\n    // Enable to rotate the image\n    rotatable: true,\n    // Enable to scale the image\n    scalable: true,\n    // Enable to zoom the image\n    zoomable: true,\n    // Enable to zoom the image by dragging touch\n    zoomOnTouch: true,\n    // Enable to zoom the image by wheeling mouse\n    zoomOnWheel: true,\n    // Define zoom ratio when zoom the image by wheeling mouse\n    wheelZoomRatio: 0.1,\n    // Enable to move the crop box\n    cropBoxMovable: true,\n    // Enable to resize the crop box\n    cropBoxResizable: true,\n    // Toggle drag mode between \"crop\" and \"move\" when click twice on the cropper\n    toggleDragModeOnDblclick: true,\n    // Size limitation\n    minCanvasWidth: 0,\n    minCanvasHeight: 0,\n    minCropBoxWidth: 0,\n    minCropBoxHeight: 0,\n    minContainerWidth: MIN_CONTAINER_WIDTH,\n    minContainerHeight: MIN_CONTAINER_HEIGHT,\n    // Shortcuts of events\n    ready: null,\n    cropstart: null,\n    cropmove: null,\n    cropend: null,\n    crop: null,\n    zoom: null\n  };\n\n  var TEMPLATE = '<div class=\"cropper-container\" touch-action=\"none\">' + '<div class=\"cropper-wrap-box\">' + '<div class=\"cropper-canvas\"></div>' + '</div>' + '<div class=\"cropper-drag-box\"></div>' + '<div class=\"cropper-crop-box\">' + '<span class=\"cropper-view-box\"></span>' + '<span class=\"cropper-dashed dashed-h\"></span>' + '<span class=\"cropper-dashed dashed-v\"></span>' + '<span class=\"cropper-center\"></span>' + '<span class=\"cropper-face\"></span>' + '<span class=\"cropper-line line-e\" data-cropper-action=\"e\"></span>' + '<span class=\"cropper-line line-n\" data-cropper-action=\"n\"></span>' + '<span class=\"cropper-line line-w\" data-cropper-action=\"w\"></span>' + '<span class=\"cropper-line line-s\" data-cropper-action=\"s\"></span>' + '<span class=\"cropper-point point-e\" data-cropper-action=\"e\"></span>' + '<span class=\"cropper-point point-n\" data-cropper-action=\"n\"></span>' + '<span class=\"cropper-point point-w\" data-cropper-action=\"w\"></span>' + '<span class=\"cropper-point point-s\" data-cropper-action=\"s\"></span>' + '<span class=\"cropper-point point-ne\" data-cropper-action=\"ne\"></span>' + '<span class=\"cropper-point point-nw\" data-cropper-action=\"nw\"></span>' + '<span class=\"cropper-point point-sw\" data-cropper-action=\"sw\"></span>' + '<span class=\"cropper-point point-se\" data-cropper-action=\"se\"></span>' + '</div>' + '</div>';\n\n  /**\n   * Check if the given value is not a number.\n   */\n\n  var isNaN = Number.isNaN || WINDOW.isNaN;\n  /**\n   * Check if the given value is a number.\n   * @param {*} value - The value to check.\n   * @returns {boolean} Returns `true` if the given value is a number, else `false`.\n   */\n\n  function isNumber(value) {\n    return typeof value === 'number' && !isNaN(value);\n  }\n  /**\n   * Check if the given value is a positive number.\n   * @param {*} value - The value to check.\n   * @returns {boolean} Returns `true` if the given value is a positive number, else `false`.\n   */\n\n  var isPositiveNumber = function isPositiveNumber(value) {\n    return value > 0 && value < Infinity;\n  };\n  /**\n   * Check if the given value is undefined.\n   * @param {*} value - The value to check.\n   * @returns {boolean} Returns `true` if the given value is undefined, else `false`.\n   */\n\n  function isUndefined(value) {\n    return typeof value === 'undefined';\n  }\n  /**\n   * Check if the given value is an object.\n   * @param {*} value - The value to check.\n   * @returns {boolean} Returns `true` if the given value is an object, else `false`.\n   */\n\n  function isObject(value) {\n    return _typeof(value) === 'object' && value !== null;\n  }\n  var hasOwnProperty = Object.prototype.hasOwnProperty;\n  /**\n   * Check if the given value is a plain object.\n   * @param {*} value - The value to check.\n   * @returns {boolean} Returns `true` if the given value is a plain object, else `false`.\n   */\n\n  function isPlainObject(value) {\n    if (!isObject(value)) {\n      return false;\n    }\n\n    try {\n      var _constructor = value.constructor;\n      var prototype = _constructor.prototype;\n      return _constructor && prototype && hasOwnProperty.call(prototype, 'isPrototypeOf');\n    } catch (error) {\n      return false;\n    }\n  }\n  /**\n   * Check if the given value is a function.\n   * @param {*} value - The value to check.\n   * @returns {boolean} Returns `true` if the given value is a function, else `false`.\n   */\n\n  function isFunction(value) {\n    return typeof value === 'function';\n  }\n  var slice = Array.prototype.slice;\n  /**\n   * Convert array-like or iterable object to an array.\n   * @param {*} value - The value to convert.\n   * @returns {Array} Returns a new array.\n   */\n\n  function toArray(value) {\n    return Array.from ? Array.from(value) : slice.call(value);\n  }\n  /**\n   * Iterate the given data.\n   * @param {*} data - The data to iterate.\n   * @param {Function} callback - The process function for each element.\n   * @returns {*} The original data.\n   */\n\n  function forEach(data, callback) {\n    if (data && isFunction(callback)) {\n      if (Array.isArray(data) || isNumber(data.length)\n      /* array-like */\n      ) {\n          toArray(data).forEach(function (value, key) {\n            callback.call(data, value, key, data);\n          });\n        } else if (isObject(data)) {\n        Object.keys(data).forEach(function (key) {\n          callback.call(data, data[key], key, data);\n        });\n      }\n    }\n\n    return data;\n  }\n  /**\n   * Extend the given object.\n   * @param {*} target - The target object to extend.\n   * @param {*} args - The rest objects for merging to the target object.\n   * @returns {Object} The extended object.\n   */\n\n  var assign = Object.assign || function assign(target) {\n    for (var _len = arguments.length, args = new Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) {\n      args[_key - 1] = arguments[_key];\n    }\n\n    if (isObject(target) && args.length > 0) {\n      args.forEach(function (arg) {\n        if (isObject(arg)) {\n          Object.keys(arg).forEach(function (key) {\n            target[key] = arg[key];\n          });\n        }\n      });\n    }\n\n    return target;\n  };\n  var REGEXP_DECIMALS = /\\.\\d*(?:0|9){12}\\d*$/;\n  /**\n   * Normalize decimal number.\n   * Check out {@link https://0.30000000000000004.com/}\n   * @param {number} value - The value to normalize.\n   * @param {number} [times=100000000000] - The times for normalizing.\n   * @returns {number} Returns the normalized number.\n   */\n\n  function normalizeDecimalNumber(value) {\n    var times = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 100000000000;\n    return REGEXP_DECIMALS.test(value) ? Math.round(value * times) / times : value;\n  }\n  var REGEXP_SUFFIX = /^width|height|left|top|marginLeft|marginTop$/;\n  /**\n   * Apply styles to the given element.\n   * @param {Element} element - The target element.\n   * @param {Object} styles - The styles for applying.\n   */\n\n  function setStyle(element, styles) {\n    var style = element.style;\n    forEach(styles, function (value, property) {\n      if (REGEXP_SUFFIX.test(property) && isNumber(value)) {\n        value = \"\".concat(value, \"px\");\n      }\n\n      style[property] = value;\n    });\n  }\n  /**\n   * Check if the given element has a special class.\n   * @param {Element} element - The element to check.\n   * @param {string} value - The class to search.\n   * @returns {boolean} Returns `true` if the special class was found.\n   */\n\n  function hasClass(element, value) {\n    return element.classList ? element.classList.contains(value) : element.className.indexOf(value) > -1;\n  }\n  /**\n   * Add classes to the given element.\n   * @param {Element} element - The target element.\n   * @param {string} value - The classes to be added.\n   */\n\n  function addClass(element, value) {\n    if (!value) {\n      return;\n    }\n\n    if (isNumber(element.length)) {\n      forEach(element, function (elem) {\n        addClass(elem, value);\n      });\n      return;\n    }\n\n    if (element.classList) {\n      element.classList.add(value);\n      return;\n    }\n\n    var className = element.className.trim();\n\n    if (!className) {\n      element.className = value;\n    } else if (className.indexOf(value) < 0) {\n      element.className = \"\".concat(className, \" \").concat(value);\n    }\n  }\n  /**\n   * Remove classes from the given element.\n   * @param {Element} element - The target element.\n   * @param {string} value - The classes to be removed.\n   */\n\n  function removeClass(element, value) {\n    if (!value) {\n      return;\n    }\n\n    if (isNumber(element.length)) {\n      forEach(element, function (elem) {\n        removeClass(elem, value);\n      });\n      return;\n    }\n\n    if (element.classList) {\n      element.classList.remove(value);\n      return;\n    }\n\n    if (element.className.indexOf(value) >= 0) {\n      element.className = element.className.replace(value, '');\n    }\n  }\n  /**\n   * Add or remove classes from the given element.\n   * @param {Element} element - The target element.\n   * @param {string} value - The classes to be toggled.\n   * @param {boolean} added - Add only.\n   */\n\n  function toggleClass(element, value, added) {\n    if (!value) {\n      return;\n    }\n\n    if (isNumber(element.length)) {\n      forEach(element, function (elem) {\n        toggleClass(elem, value, added);\n      });\n      return;\n    } // IE10-11 doesn't support the second parameter of `classList.toggle`\n\n\n    if (added) {\n      addClass(element, value);\n    } else {\n      removeClass(element, value);\n    }\n  }\n  var REGEXP_CAMEL_CASE = /([a-z\\d])([A-Z])/g;\n  /**\n   * Transform the given string from camelCase to kebab-case\n   * @param {string} value - The value to transform.\n   * @returns {string} The transformed value.\n   */\n\n  function toParamCase(value) {\n    return value.replace(REGEXP_CAMEL_CASE, '$1-$2').toLowerCase();\n  }\n  /**\n   * Get data from the given element.\n   * @param {Element} element - The target element.\n   * @param {string} name - The data key to get.\n   * @returns {string} The data value.\n   */\n\n  function getData(element, name) {\n    if (isObject(element[name])) {\n      return element[name];\n    }\n\n    if (element.dataset) {\n      return element.dataset[name];\n    }\n\n    return element.getAttribute(\"data-\".concat(toParamCase(name)));\n  }\n  /**\n   * Set data to the given element.\n   * @param {Element} element - The target element.\n   * @param {string} name - The data key to set.\n   * @param {string} data - The data value.\n   */\n\n  function setData(element, name, data) {\n    if (isObject(data)) {\n      element[name] = data;\n    } else if (element.dataset) {\n      element.dataset[name] = data;\n    } else {\n      element.setAttribute(\"data-\".concat(toParamCase(name)), data);\n    }\n  }\n  /**\n   * Remove data from the given element.\n   * @param {Element} element - The target element.\n   * @param {string} name - The data key to remove.\n   */\n\n  function removeData(element, name) {\n    if (isObject(element[name])) {\n      try {\n        delete element[name];\n      } catch (error) {\n        element[name] = undefined;\n      }\n    } else if (element.dataset) {\n      // #128 Safari not allows to delete dataset property\n      try {\n        delete element.dataset[name];\n      } catch (error) {\n        element.dataset[name] = undefined;\n      }\n    } else {\n      element.removeAttribute(\"data-\".concat(toParamCase(name)));\n    }\n  }\n  var REGEXP_SPACES = /\\s\\s*/;\n\n  var onceSupported = function () {\n    var supported = false;\n\n    if (IS_BROWSER) {\n      var once = false;\n\n      var listener = function listener() {};\n\n      var options = Object.defineProperty({}, 'once', {\n        get: function get() {\n          supported = true;\n          return once;\n        },\n\n        /**\n         * This setter can fix a `TypeError` in strict mode\n         * {@link https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Errors/Getter_only}\n         * @param {boolean} value - The value to set\n         */\n        set: function set(value) {\n          once = value;\n        }\n      });\n      WINDOW.addEventListener('test', listener, options);\n      WINDOW.removeEventListener('test', listener, options);\n    }\n\n    return supported;\n  }();\n  /**\n   * Remove event listener from the target element.\n   * @param {Element} element - The event target.\n   * @param {string} type - The event type(s).\n   * @param {Function} listener - The event listener.\n   * @param {Object} options - The event options.\n   */\n\n\n  function removeListener(element, type, listener) {\n    var options = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : {};\n    var handler = listener;\n    type.trim().split(REGEXP_SPACES).forEach(function (event) {\n      if (!onceSupported) {\n        var listeners = element.listeners;\n\n        if (listeners && listeners[event] && listeners[event][listener]) {\n          handler = listeners[event][listener];\n          delete listeners[event][listener];\n\n          if (Object.keys(listeners[event]).length === 0) {\n            delete listeners[event];\n          }\n\n          if (Object.keys(listeners).length === 0) {\n            delete element.listeners;\n          }\n        }\n      }\n\n      element.removeEventListener(event, handler, options);\n    });\n  }\n  /**\n   * Add event listener to the target element.\n   * @param {Element} element - The event target.\n   * @param {string} type - The event type(s).\n   * @param {Function} listener - The event listener.\n   * @param {Object} options - The event options.\n   */\n\n  function addListener(element, type, listener) {\n    var options = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : {};\n    var _handler = listener;\n    type.trim().split(REGEXP_SPACES).forEach(function (event) {\n      if (options.once && !onceSupported) {\n        var _element$listeners = element.listeners,\n            listeners = _element$listeners === void 0 ? {} : _element$listeners;\n\n        _handler = function handler() {\n          delete listeners[event][listener];\n          element.removeEventListener(event, _handler, options);\n\n          for (var _len2 = arguments.length, args = new Array(_len2), _key2 = 0; _key2 < _len2; _key2++) {\n            args[_key2] = arguments[_key2];\n          }\n\n          listener.apply(element, args);\n        };\n\n        if (!listeners[event]) {\n          listeners[event] = {};\n        }\n\n        if (listeners[event][listener]) {\n          element.removeEventListener(event, listeners[event][listener], options);\n        }\n\n        listeners[event][listener] = _handler;\n        element.listeners = listeners;\n      }\n\n      element.addEventListener(event, _handler, options);\n    });\n  }\n  /**\n   * Dispatch event on the target element.\n   * @param {Element} element - The event target.\n   * @param {string} type - The event type(s).\n   * @param {Object} data - The additional event data.\n   * @returns {boolean} Indicate if the event is default prevented or not.\n   */\n\n  function dispatchEvent(element, type, data) {\n    var event; // Event and CustomEvent on IE9-11 are global objects, not constructors\n\n    if (isFunction(Event) && isFunction(CustomEvent)) {\n      event = new CustomEvent(type, {\n        detail: data,\n        bubbles: true,\n        cancelable: true\n      });\n    } else {\n      event = document.createEvent('CustomEvent');\n      event.initCustomEvent(type, true, true, data);\n    }\n\n    return element.dispatchEvent(event);\n  }\n  /**\n   * Get the offset base on the document.\n   * @param {Element} element - The target element.\n   * @returns {Object} The offset data.\n   */\n\n  function getOffset(element) {\n    var box = element.getBoundingClientRect();\n    return {\n      left: box.left + (window.pageXOffset - document.documentElement.clientLeft),\n      top: box.top + (window.pageYOffset - document.documentElement.clientTop)\n    };\n  }\n  var location = WINDOW.location;\n  var REGEXP_ORIGINS = /^(\\w+:)\\/\\/([^:/?#]*):?(\\d*)/i;\n  /**\n   * Check if the given URL is a cross origin URL.\n   * @param {string} url - The target URL.\n   * @returns {boolean} Returns `true` if the given URL is a cross origin URL, else `false`.\n   */\n\n  function isCrossOriginURL(url) {\n    var parts = url.match(REGEXP_ORIGINS);\n    return parts !== null && (parts[1] !== location.protocol || parts[2] !== location.hostname || parts[3] !== location.port);\n  }\n  /**\n   * Add timestamp to the given URL.\n   * @param {string} url - The target URL.\n   * @returns {string} The result URL.\n   */\n\n  function addTimestamp(url) {\n    var timestamp = \"timestamp=\".concat(new Date().getTime());\n    return url + (url.indexOf('?') === -1 ? '?' : '&') + timestamp;\n  }\n  /**\n   * Get transforms base on the given object.\n   * @param {Object} obj - The target object.\n   * @returns {string} A string contains transform values.\n   */\n\n  function getTransforms(_ref) {\n    var rotate = _ref.rotate,\n        scaleX = _ref.scaleX,\n        scaleY = _ref.scaleY,\n        translateX = _ref.translateX,\n        translateY = _ref.translateY;\n    var values = [];\n\n    if (isNumber(translateX) && translateX !== 0) {\n      values.push(\"translateX(\".concat(translateX, \"px)\"));\n    }\n\n    if (isNumber(translateY) && translateY !== 0) {\n      values.push(\"translateY(\".concat(translateY, \"px)\"));\n    } // Rotate should come first before scale to match orientation transform\n\n\n    if (isNumber(rotate) && rotate !== 0) {\n      values.push(\"rotate(\".concat(rotate, \"deg)\"));\n    }\n\n    if (isNumber(scaleX) && scaleX !== 1) {\n      values.push(\"scaleX(\".concat(scaleX, \")\"));\n    }\n\n    if (isNumber(scaleY) && scaleY !== 1) {\n      values.push(\"scaleY(\".concat(scaleY, \")\"));\n    }\n\n    var transform = values.length ? values.join(' ') : 'none';\n    return {\n      WebkitTransform: transform,\n      msTransform: transform,\n      transform: transform\n    };\n  }\n  /**\n   * Get the max ratio of a group of pointers.\n   * @param {string} pointers - The target pointers.\n   * @returns {number} The result ratio.\n   */\n\n  function getMaxZoomRatio(pointers) {\n    var pointers2 = _objectSpread2({}, pointers);\n\n    var maxRatio = 0;\n    forEach(pointers, function (pointer, pointerId) {\n      delete pointers2[pointerId];\n      forEach(pointers2, function (pointer2) {\n        var x1 = Math.abs(pointer.startX - pointer2.startX);\n        var y1 = Math.abs(pointer.startY - pointer2.startY);\n        var x2 = Math.abs(pointer.endX - pointer2.endX);\n        var y2 = Math.abs(pointer.endY - pointer2.endY);\n        var z1 = Math.sqrt(x1 * x1 + y1 * y1);\n        var z2 = Math.sqrt(x2 * x2 + y2 * y2);\n        var ratio = (z2 - z1) / z1;\n\n        if (Math.abs(ratio) > Math.abs(maxRatio)) {\n          maxRatio = ratio;\n        }\n      });\n    });\n    return maxRatio;\n  }\n  /**\n   * Get a pointer from an event object.\n   * @param {Object} event - The target event object.\n   * @param {boolean} endOnly - Indicates if only returns the end point coordinate or not.\n   * @returns {Object} The result pointer contains start and/or end point coordinates.\n   */\n\n  function getPointer(_ref2, endOnly) {\n    var pageX = _ref2.pageX,\n        pageY = _ref2.pageY;\n    var end = {\n      endX: pageX,\n      endY: pageY\n    };\n    return endOnly ? end : _objectSpread2({\n      startX: pageX,\n      startY: pageY\n    }, end);\n  }\n  /**\n   * Get the center point coordinate of a group of pointers.\n   * @param {Object} pointers - The target pointers.\n   * @returns {Object} The center point coordinate.\n   */\n\n  function getPointersCenter(pointers) {\n    var pageX = 0;\n    var pageY = 0;\n    var count = 0;\n    forEach(pointers, function (_ref3) {\n      var startX = _ref3.startX,\n          startY = _ref3.startY;\n      pageX += startX;\n      pageY += startY;\n      count += 1;\n    });\n    pageX /= count;\n    pageY /= count;\n    return {\n      pageX: pageX,\n      pageY: pageY\n    };\n  }\n  /**\n   * Get the max sizes in a rectangle under the given aspect ratio.\n   * @param {Object} data - The original sizes.\n   * @param {string} [type='contain'] - The adjust type.\n   * @returns {Object} The result sizes.\n   */\n\n  function getAdjustedSizes(_ref4) // or 'cover'\n  {\n    var aspectRatio = _ref4.aspectRatio,\n        height = _ref4.height,\n        width = _ref4.width;\n    var type = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 'contain';\n    var isValidWidth = isPositiveNumber(width);\n    var isValidHeight = isPositiveNumber(height);\n\n    if (isValidWidth && isValidHeight) {\n      var adjustedWidth = height * aspectRatio;\n\n      if (type === 'contain' && adjustedWidth > width || type === 'cover' && adjustedWidth < width) {\n        height = width / aspectRatio;\n      } else {\n        width = height * aspectRatio;\n      }\n    } else if (isValidWidth) {\n      height = width / aspectRatio;\n    } else if (isValidHeight) {\n      width = height * aspectRatio;\n    }\n\n    return {\n      width: width,\n      height: height\n    };\n  }\n  /**\n   * Get the new sizes of a rectangle after rotated.\n   * @param {Object} data - The original sizes.\n   * @returns {Object} The result sizes.\n   */\n\n  function getRotatedSizes(_ref5) {\n    var width = _ref5.width,\n        height = _ref5.height,\n        degree = _ref5.degree;\n    degree = Math.abs(degree) % 180;\n\n    if (degree === 90) {\n      return {\n        width: height,\n        height: width\n      };\n    }\n\n    var arc = degree % 90 * Math.PI / 180;\n    var sinArc = Math.sin(arc);\n    var cosArc = Math.cos(arc);\n    var newWidth = width * cosArc + height * sinArc;\n    var newHeight = width * sinArc + height * cosArc;\n    return degree > 90 ? {\n      width: newHeight,\n      height: newWidth\n    } : {\n      width: newWidth,\n      height: newHeight\n    };\n  }\n  /**\n   * Get a canvas which drew the given image.\n   * @param {HTMLImageElement} image - The image for drawing.\n   * @param {Object} imageData - The image data.\n   * @param {Object} canvasData - The canvas data.\n   * @param {Object} options - The options.\n   * @returns {HTMLCanvasElement} The result canvas.\n   */\n\n  function getSourceCanvas(image, _ref6, _ref7, _ref8) {\n    var imageAspectRatio = _ref6.aspectRatio,\n        imageNaturalWidth = _ref6.naturalWidth,\n        imageNaturalHeight = _ref6.naturalHeight,\n        _ref6$rotate = _ref6.rotate,\n        rotate = _ref6$rotate === void 0 ? 0 : _ref6$rotate,\n        _ref6$scaleX = _ref6.scaleX,\n        scaleX = _ref6$scaleX === void 0 ? 1 : _ref6$scaleX,\n        _ref6$scaleY = _ref6.scaleY,\n        scaleY = _ref6$scaleY === void 0 ? 1 : _ref6$scaleY;\n    var aspectRatio = _ref7.aspectRatio,\n        naturalWidth = _ref7.naturalWidth,\n        naturalHeight = _ref7.naturalHeight;\n    var _ref8$fillColor = _ref8.fillColor,\n        fillColor = _ref8$fillColor === void 0 ? 'transparent' : _ref8$fillColor,\n        _ref8$imageSmoothingE = _ref8.imageSmoothingEnabled,\n        imageSmoothingEnabled = _ref8$imageSmoothingE === void 0 ? true : _ref8$imageSmoothingE,\n        _ref8$imageSmoothingQ = _ref8.imageSmoothingQuality,\n        imageSmoothingQuality = _ref8$imageSmoothingQ === void 0 ? 'low' : _ref8$imageSmoothingQ,\n        _ref8$maxWidth = _ref8.maxWidth,\n        maxWidth = _ref8$maxWidth === void 0 ? Infinity : _ref8$maxWidth,\n        _ref8$maxHeight = _ref8.maxHeight,\n        maxHeight = _ref8$maxHeight === void 0 ? Infinity : _ref8$maxHeight,\n        _ref8$minWidth = _ref8.minWidth,\n        minWidth = _ref8$minWidth === void 0 ? 0 : _ref8$minWidth,\n        _ref8$minHeight = _ref8.minHeight,\n        minHeight = _ref8$minHeight === void 0 ? 0 : _ref8$minHeight;\n    var canvas = document.createElement('canvas');\n    var context = canvas.getContext('2d');\n    var maxSizes = getAdjustedSizes({\n      aspectRatio: aspectRatio,\n      width: maxWidth,\n      height: maxHeight\n    });\n    var minSizes = getAdjustedSizes({\n      aspectRatio: aspectRatio,\n      width: minWidth,\n      height: minHeight\n    }, 'cover');\n    var width = Math.min(maxSizes.width, Math.max(minSizes.width, naturalWidth));\n    var height = Math.min(maxSizes.height, Math.max(minSizes.height, naturalHeight)); // Note: should always use image's natural sizes for drawing as\n    // imageData.naturalWidth === canvasData.naturalHeight when rotate % 180 === 90\n\n    var destMaxSizes = getAdjustedSizes({\n      aspectRatio: imageAspectRatio,\n      width: maxWidth,\n      height: maxHeight\n    });\n    var destMinSizes = getAdjustedSizes({\n      aspectRatio: imageAspectRatio,\n      width: minWidth,\n      height: minHeight\n    }, 'cover');\n    var destWidth = Math.min(destMaxSizes.width, Math.max(destMinSizes.width, imageNaturalWidth));\n    var destHeight = Math.min(destMaxSizes.height, Math.max(destMinSizes.height, imageNaturalHeight));\n    var params = [-destWidth / 2, -destHeight / 2, destWidth, destHeight];\n    canvas.width = normalizeDecimalNumber(width);\n    canvas.height = normalizeDecimalNumber(height);\n    context.fillStyle = fillColor;\n    context.fillRect(0, 0, width, height);\n    context.save();\n    context.translate(width / 2, height / 2);\n    context.rotate(rotate * Math.PI / 180);\n    context.scale(scaleX, scaleY);\n    context.imageSmoothingEnabled = imageSmoothingEnabled;\n    context.imageSmoothingQuality = imageSmoothingQuality;\n    context.drawImage.apply(context, [image].concat(_toConsumableArray(params.map(function (param) {\n      return Math.floor(normalizeDecimalNumber(param));\n    }))));\n    context.restore();\n    return canvas;\n  }\n  var fromCharCode = String.fromCharCode;\n  /**\n   * Get string from char code in data view.\n   * @param {DataView} dataView - The data view for read.\n   * @param {number} start - The start index.\n   * @param {number} length - The read length.\n   * @returns {string} The read result.\n   */\n\n  function getStringFromCharCode(dataView, start, length) {\n    var str = '';\n    length += start;\n\n    for (var i = start; i < length; i += 1) {\n      str += fromCharCode(dataView.getUint8(i));\n    }\n\n    return str;\n  }\n  var REGEXP_DATA_URL_HEAD = /^data:.*,/;\n  /**\n   * Transform Data URL to array buffer.\n   * @param {string} dataURL - The Data URL to transform.\n   * @returns {ArrayBuffer} The result array buffer.\n   */\n\n  function dataURLToArrayBuffer(dataURL) {\n    var base64 = dataURL.replace(REGEXP_DATA_URL_HEAD, '');\n    var binary = atob(base64);\n    var arrayBuffer = new ArrayBuffer(binary.length);\n    var uint8 = new Uint8Array(arrayBuffer);\n    forEach(uint8, function (value, i) {\n      uint8[i] = binary.charCodeAt(i);\n    });\n    return arrayBuffer;\n  }\n  /**\n   * Transform array buffer to Data URL.\n   * @param {ArrayBuffer} arrayBuffer - The array buffer to transform.\n   * @param {string} mimeType - The mime type of the Data URL.\n   * @returns {string} The result Data URL.\n   */\n\n  function arrayBufferToDataURL(arrayBuffer, mimeType) {\n    var chunks = []; // Chunk Typed Array for better performance (#435)\n\n    var chunkSize = 8192;\n    var uint8 = new Uint8Array(arrayBuffer);\n\n    while (uint8.length > 0) {\n      // XXX: Babel's `toConsumableArray` helper will throw error in IE or Safari 9\n      // eslint-disable-next-line prefer-spread\n      chunks.push(fromCharCode.apply(null, toArray(uint8.subarray(0, chunkSize))));\n      uint8 = uint8.subarray(chunkSize);\n    }\n\n    return \"data:\".concat(mimeType, \";base64,\").concat(btoa(chunks.join('')));\n  }\n  /**\n   * Get orientation value from given array buffer.\n   * @param {ArrayBuffer} arrayBuffer - The array buffer to read.\n   * @returns {number} The read orientation value.\n   */\n\n  function resetAndGetOrientation(arrayBuffer) {\n    var dataView = new DataView(arrayBuffer);\n    var orientation; // Ignores range error when the image does not have correct Exif information\n\n    try {\n      var littleEndian;\n      var app1Start;\n      var ifdStart; // Only handle JPEG image (start by 0xFFD8)\n\n      if (dataView.getUint8(0) === 0xFF && dataView.getUint8(1) === 0xD8) {\n        var length = dataView.byteLength;\n        var offset = 2;\n\n        while (offset + 1 < length) {\n          if (dataView.getUint8(offset) === 0xFF && dataView.getUint8(offset + 1) === 0xE1) {\n            app1Start = offset;\n            break;\n          }\n\n          offset += 1;\n        }\n      }\n\n      if (app1Start) {\n        var exifIDCode = app1Start + 4;\n        var tiffOffset = app1Start + 10;\n\n        if (getStringFromCharCode(dataView, exifIDCode, 4) === 'Exif') {\n          var endianness = dataView.getUint16(tiffOffset);\n          littleEndian = endianness === 0x4949;\n\n          if (littleEndian || endianness === 0x4D4D\n          /* bigEndian */\n          ) {\n              if (dataView.getUint16(tiffOffset + 2, littleEndian) === 0x002A) {\n                var firstIFDOffset = dataView.getUint32(tiffOffset + 4, littleEndian);\n\n                if (firstIFDOffset >= 0x00000008) {\n                  ifdStart = tiffOffset + firstIFDOffset;\n                }\n              }\n            }\n        }\n      }\n\n      if (ifdStart) {\n        var _length = dataView.getUint16(ifdStart, littleEndian);\n\n        var _offset;\n\n        var i;\n\n        for (i = 0; i < _length; i += 1) {\n          _offset = ifdStart + i * 12 + 2;\n\n          if (dataView.getUint16(_offset, littleEndian) === 0x0112\n          /* Orientation */\n          ) {\n              // 8 is the offset of the current tag's value\n              _offset += 8; // Get the original orientation value\n\n              orientation = dataView.getUint16(_offset, littleEndian); // Override the orientation with its default value\n\n              dataView.setUint16(_offset, 1, littleEndian);\n              break;\n            }\n        }\n      }\n    } catch (error) {\n      orientation = 1;\n    }\n\n    return orientation;\n  }\n  /**\n   * Parse Exif Orientation value.\n   * @param {number} orientation - The orientation to parse.\n   * @returns {Object} The parsed result.\n   */\n\n  function parseOrientation(orientation) {\n    var rotate = 0;\n    var scaleX = 1;\n    var scaleY = 1;\n\n    switch (orientation) {\n      // Flip horizontal\n      case 2:\n        scaleX = -1;\n        break;\n      // Rotate left 180\u00B0\n\n      case 3:\n        rotate = -180;\n        break;\n      // Flip vertical\n\n      case 4:\n        scaleY = -1;\n        break;\n      // Flip vertical and rotate right 90\u00B0\n\n      case 5:\n        rotate = 90;\n        scaleY = -1;\n        break;\n      // Rotate right 90\u00B0\n\n      case 6:\n        rotate = 90;\n        break;\n      // Flip horizontal and rotate right 90\u00B0\n\n      case 7:\n        rotate = 90;\n        scaleX = -1;\n        break;\n      // Rotate left 90\u00B0\n\n      case 8:\n        rotate = -90;\n        break;\n    }\n\n    return {\n      rotate: rotate,\n      scaleX: scaleX,\n      scaleY: scaleY\n    };\n  }\n\n  var render = {\n    render: function render() {\n      this.initContainer();\n      this.initCanvas();\n      this.initCropBox();\n      this.renderCanvas();\n\n      if (this.cropped) {\n        this.renderCropBox();\n      }\n    },\n    initContainer: function initContainer() {\n      var element = this.element,\n          options = this.options,\n          container = this.container,\n          cropper = this.cropper;\n      var minWidth = Number(options.minContainerWidth);\n      var minHeight = Number(options.minContainerHeight);\n      addClass(cropper, CLASS_HIDDEN);\n      removeClass(element, CLASS_HIDDEN);\n      var containerData = {\n        width: Math.max(container.offsetWidth, minWidth >= 0 ? minWidth : MIN_CONTAINER_WIDTH),\n        height: Math.max(container.offsetHeight, minHeight >= 0 ? minHeight : MIN_CONTAINER_HEIGHT)\n      };\n      this.containerData = containerData;\n      setStyle(cropper, {\n        width: containerData.width,\n        height: containerData.height\n      });\n      addClass(element, CLASS_HIDDEN);\n      removeClass(cropper, CLASS_HIDDEN);\n    },\n    // Canvas (image wrapper)\n    initCanvas: function initCanvas() {\n      var containerData = this.containerData,\n          imageData = this.imageData;\n      var viewMode = this.options.viewMode;\n      var rotated = Math.abs(imageData.rotate) % 180 === 90;\n      var naturalWidth = rotated ? imageData.naturalHeight : imageData.naturalWidth;\n      var naturalHeight = rotated ? imageData.naturalWidth : imageData.naturalHeight;\n      var aspectRatio = naturalWidth / naturalHeight;\n      var canvasWidth = containerData.width;\n      var canvasHeight = containerData.height;\n\n      if (containerData.height * aspectRatio > containerData.width) {\n        if (viewMode === 3) {\n          canvasWidth = containerData.height * aspectRatio;\n        } else {\n          canvasHeight = containerData.width / aspectRatio;\n        }\n      } else if (viewMode === 3) {\n        canvasHeight = containerData.width / aspectRatio;\n      } else {\n        canvasWidth = containerData.height * aspectRatio;\n      }\n\n      var canvasData = {\n        aspectRatio: aspectRatio,\n        naturalWidth: naturalWidth,\n        naturalHeight: naturalHeight,\n        width: canvasWidth,\n        height: canvasHeight\n      };\n      this.canvasData = canvasData;\n      this.limited = viewMode === 1 || viewMode === 2;\n      this.limitCanvas(true, true);\n      canvasData.width = Math.min(Math.max(canvasData.width, canvasData.minWidth), canvasData.maxWidth);\n      canvasData.height = Math.min(Math.max(canvasData.height, canvasData.minHeight), canvasData.maxHeight);\n      canvasData.left = (containerData.width - canvasData.width) / 2;\n      canvasData.top = (containerData.height - canvasData.height) / 2;\n      canvasData.oldLeft = canvasData.left;\n      canvasData.oldTop = canvasData.top;\n      this.initialCanvasData = assign({}, canvasData);\n    },\n    limitCanvas: function limitCanvas(sizeLimited, positionLimited) {\n      var options = this.options,\n          containerData = this.containerData,\n          canvasData = this.canvasData,\n          cropBoxData = this.cropBoxData;\n      var viewMode = options.viewMode;\n      var aspectRatio = canvasData.aspectRatio;\n      var cropped = this.cropped && cropBoxData;\n\n      if (sizeLimited) {\n        var minCanvasWidth = Number(options.minCanvasWidth) || 0;\n        var minCanvasHeight = Number(options.minCanvasHeight) || 0;\n\n        if (viewMode > 1) {\n          minCanvasWidth = Math.max(minCanvasWidth, containerData.width);\n          minCanvasHeight = Math.max(minCanvasHeight, containerData.height);\n\n          if (viewMode === 3) {\n            if (minCanvasHeight * aspectRatio > minCanvasWidth) {\n              minCanvasWidth = minCanvasHeight * aspectRatio;\n            } else {\n              minCanvasHeight = minCanvasWidth / aspectRatio;\n            }\n          }\n        } else if (viewMode > 0) {\n          if (minCanvasWidth) {\n            minCanvasWidth = Math.max(minCanvasWidth, cropped ? cropBoxData.width : 0);\n          } else if (minCanvasHeight) {\n            minCanvasHeight = Math.max(minCanvasHeight, cropped ? cropBoxData.height : 0);\n          } else if (cropped) {\n            minCanvasWidth = cropBoxData.width;\n            minCanvasHeight = cropBoxData.height;\n\n            if (minCanvasHeight * aspectRatio > minCanvasWidth) {\n              minCanvasWidth = minCanvasHeight * aspectRatio;\n            } else {\n              minCanvasHeight = minCanvasWidth / aspectRatio;\n            }\n          }\n        }\n\n        var _getAdjustedSizes = getAdjustedSizes({\n          aspectRatio: aspectRatio,\n          width: minCanvasWidth,\n          height: minCanvasHeight\n        });\n\n        minCanvasWidth = _getAdjustedSizes.width;\n        minCanvasHeight = _getAdjustedSizes.height;\n        canvasData.minWidth = minCanvasWidth;\n        canvasData.minHeight = minCanvasHeight;\n        canvasData.maxWidth = Infinity;\n        canvasData.maxHeight = Infinity;\n      }\n\n      if (positionLimited) {\n        if (viewMode > (cropped ? 0 : 1)) {\n          var newCanvasLeft = containerData.width - canvasData.width;\n          var newCanvasTop = containerData.height - canvasData.height;\n          canvasData.minLeft = Math.min(0, newCanvasLeft);\n          canvasData.minTop = Math.min(0, newCanvasTop);\n          canvasData.maxLeft = Math.max(0, newCanvasLeft);\n          canvasData.maxTop = Math.max(0, newCanvasTop);\n\n          if (cropped && this.limited) {\n            canvasData.minLeft = Math.min(cropBoxData.left, cropBoxData.left + (cropBoxData.width - canvasData.width));\n            canvasData.minTop = Math.min(cropBoxData.top, cropBoxData.top + (cropBoxData.height - canvasData.height));\n            canvasData.maxLeft = cropBoxData.left;\n            canvasData.maxTop = cropBoxData.top;\n\n            if (viewMode === 2) {\n              if (canvasData.width >= containerData.width) {\n                canvasData.minLeft = Math.min(0, newCanvasLeft);\n                canvasData.maxLeft = Math.max(0, newCanvasLeft);\n              }\n\n              if (canvasData.height >= containerData.height) {\n                canvasData.minTop = Math.min(0, newCanvasTop);\n                canvasData.maxTop = Math.max(0, newCanvasTop);\n              }\n            }\n          }\n        } else {\n          canvasData.minLeft = -canvasData.width;\n          canvasData.minTop = -canvasData.height;\n          canvasData.maxLeft = containerData.width;\n          canvasData.maxTop = containerData.height;\n        }\n      }\n    },\n    renderCanvas: function renderCanvas(changed, transformed) {\n      var canvasData = this.canvasData,\n          imageData = this.imageData;\n\n      if (transformed) {\n        var _getRotatedSizes = getRotatedSizes({\n          width: imageData.naturalWidth * Math.abs(imageData.scaleX || 1),\n          height: imageData.naturalHeight * Math.abs(imageData.scaleY || 1),\n          degree: imageData.rotate || 0\n        }),\n            naturalWidth = _getRotatedSizes.width,\n            naturalHeight = _getRotatedSizes.height;\n\n        var width = canvasData.width * (naturalWidth / canvasData.naturalWidth);\n        var height = canvasData.height * (naturalHeight / canvasData.naturalHeight);\n        canvasData.left -= (width - canvasData.width) / 2;\n        canvasData.top -= (height - canvasData.height) / 2;\n        canvasData.width = width;\n        canvasData.height = height;\n        canvasData.aspectRatio = naturalWidth / naturalHeight;\n        canvasData.naturalWidth = naturalWidth;\n        canvasData.naturalHeight = naturalHeight;\n        this.limitCanvas(true, false);\n      }\n\n      if (canvasData.width > canvasData.maxWidth || canvasData.width < canvasData.minWidth) {\n        canvasData.left = canvasData.oldLeft;\n      }\n\n      if (canvasData.height > canvasData.maxHeight || canvasData.height < canvasData.minHeight) {\n        canvasData.top = canvasData.oldTop;\n      }\n\n      canvasData.width = Math.min(Math.max(canvasData.width, canvasData.minWidth), canvasData.maxWidth);\n      canvasData.height = Math.min(Math.max(canvasData.height, canvasData.minHeight), canvasData.maxHeight);\n      this.limitCanvas(false, true);\n      canvasData.left = Math.min(Math.max(canvasData.left, canvasData.minLeft), canvasData.maxLeft);\n      canvasData.top = Math.min(Math.max(canvasData.top, canvasData.minTop), canvasData.maxTop);\n      canvasData.oldLeft = canvasData.left;\n      canvasData.oldTop = canvasData.top;\n      setStyle(this.canvas, assign({\n        width: canvasData.width,\n        height: canvasData.height\n      }, getTransforms({\n        translateX: canvasData.left,\n        translateY: canvasData.top\n      })));\n      this.renderImage(changed);\n\n      if (this.cropped && this.limited) {\n        this.limitCropBox(true, true);\n      }\n    },\n    renderImage: function renderImage(changed) {\n      var canvasData = this.canvasData,\n          imageData = this.imageData;\n      var width = imageData.naturalWidth * (canvasData.width / canvasData.naturalWidth);\n      var height = imageData.naturalHeight * (canvasData.height / canvasData.naturalHeight);\n      assign(imageData, {\n        width: width,\n        height: height,\n        left: (canvasData.width - width) / 2,\n        top: (canvasData.height - height) / 2\n      });\n      setStyle(this.image, assign({\n        width: imageData.width,\n        height: imageData.height\n      }, getTransforms(assign({\n        translateX: imageData.left,\n        translateY: imageData.top\n      }, imageData))));\n\n      if (changed) {\n        this.output();\n      }\n    },\n    initCropBox: function initCropBox() {\n      var options = this.options,\n          canvasData = this.canvasData;\n      var aspectRatio = options.aspectRatio || options.initialAspectRatio;\n      var autoCropArea = Number(options.autoCropArea) || 0.8;\n      var cropBoxData = {\n        width: canvasData.width,\n        height: canvasData.height\n      };\n\n      if (aspectRatio) {\n        if (canvasData.height * aspectRatio > canvasData.width) {\n          cropBoxData.height = cropBoxData.width / aspectRatio;\n        } else {\n          cropBoxData.width = cropBoxData.height * aspectRatio;\n        }\n      }\n\n      this.cropBoxData = cropBoxData;\n      this.limitCropBox(true, true); // Initialize auto crop area\n\n      cropBoxData.width = Math.min(Math.max(cropBoxData.width, cropBoxData.minWidth), cropBoxData.maxWidth);\n      cropBoxData.height = Math.min(Math.max(cropBoxData.height, cropBoxData.minHeight), cropBoxData.maxHeight); // The width/height of auto crop area must large than \"minWidth/Height\"\n\n      cropBoxData.width = Math.max(cropBoxData.minWidth, cropBoxData.width * autoCropArea);\n      cropBoxData.height = Math.max(cropBoxData.minHeight, cropBoxData.height * autoCropArea);\n      cropBoxData.left = canvasData.left + (canvasData.width - cropBoxData.width) / 2;\n      cropBoxData.top = canvasData.top + (canvasData.height - cropBoxData.height) / 2;\n      cropBoxData.oldLeft = cropBoxData.left;\n      cropBoxData.oldTop = cropBoxData.top;\n      this.initialCropBoxData = assign({}, cropBoxData);\n    },\n    limitCropBox: function limitCropBox(sizeLimited, positionLimited) {\n      var options = this.options,\n          containerData = this.containerData,\n          canvasData = this.canvasData,\n          cropBoxData = this.cropBoxData,\n          limited = this.limited;\n      var aspectRatio = options.aspectRatio;\n\n      if (sizeLimited) {\n        var minCropBoxWidth = Number(options.minCropBoxWidth) || 0;\n        var minCropBoxHeight = Number(options.minCropBoxHeight) || 0;\n        var maxCropBoxWidth = limited ? Math.min(containerData.width, canvasData.width, canvasData.width + canvasData.left, containerData.width - canvasData.left) : containerData.width;\n        var maxCropBoxHeight = limited ? Math.min(containerData.height, canvasData.height, canvasData.height + canvasData.top, containerData.height - canvasData.top) : containerData.height; // The min/maxCropBoxWidth/Height must be less than container's width/height\n\n        minCropBoxWidth = Math.min(minCropBoxWidth, containerData.width);\n        minCropBoxHeight = Math.min(minCropBoxHeight, containerData.height);\n\n        if (aspectRatio) {\n          if (minCropBoxWidth && minCropBoxHeight) {\n            if (minCropBoxHeight * aspectRatio > minCropBoxWidth) {\n              minCropBoxHeight = minCropBoxWidth / aspectRatio;\n            } else {\n              minCropBoxWidth = minCropBoxHeight * aspectRatio;\n            }\n          } else if (minCropBoxWidth) {\n            minCropBoxHeight = minCropBoxWidth / aspectRatio;\n          } else if (minCropBoxHeight) {\n            minCropBoxWidth = minCropBoxHeight * aspectRatio;\n          }\n\n          if (maxCropBoxHeight * aspectRatio > maxCropBoxWidth) {\n            maxCropBoxHeight = maxCropBoxWidth / aspectRatio;\n          } else {\n            maxCropBoxWidth = maxCropBoxHeight * aspectRatio;\n          }\n        } // The minWidth/Height must be less than maxWidth/Height\n\n\n        cropBoxData.minWidth = Math.min(minCropBoxWidth, maxCropBoxWidth);\n        cropBoxData.minHeight = Math.min(minCropBoxHeight, maxCropBoxHeight);\n        cropBoxData.maxWidth = maxCropBoxWidth;\n        cropBoxData.maxHeight = maxCropBoxHeight;\n      }\n\n      if (positionLimited) {\n        if (limited) {\n          cropBoxData.minLeft = Math.max(0, canvasData.left);\n          cropBoxData.minTop = Math.max(0, canvasData.top);\n          cropBoxData.maxLeft = Math.min(containerData.width, canvasData.left + canvasData.width) - cropBoxData.width;\n          cropBoxData.maxTop = Math.min(containerData.height, canvasData.top + canvasData.height) - cropBoxData.height;\n        } else {\n          cropBoxData.minLeft = 0;\n          cropBoxData.minTop = 0;\n          cropBoxData.maxLeft = containerData.width - cropBoxData.width;\n          cropBoxData.maxTop = containerData.height - cropBoxData.height;\n        }\n      }\n    },\n    renderCropBox: function renderCropBox() {\n      var options = this.options,\n          containerData = this.containerData,\n          cropBoxData = this.cropBoxData;\n\n      if (cropBoxData.width > cropBoxData.maxWidth || cropBoxData.width < cropBoxData.minWidth) {\n        cropBoxData.left = cropBoxData.oldLeft;\n      }\n\n      if (cropBoxData.height > cropBoxData.maxHeight || cropBoxData.height < cropBoxData.minHeight) {\n        cropBoxData.top = cropBoxData.oldTop;\n      }\n\n      cropBoxData.width = Math.min(Math.max(cropBoxData.width, cropBoxData.minWidth), cropBoxData.maxWidth);\n      cropBoxData.height = Math.min(Math.max(cropBoxData.height, cropBoxData.minHeight), cropBoxData.maxHeight);\n      this.limitCropBox(false, true);\n      cropBoxData.left = Math.min(Math.max(cropBoxData.left, cropBoxData.minLeft), cropBoxData.maxLeft);\n      cropBoxData.top = Math.min(Math.max(cropBoxData.top, cropBoxData.minTop), cropBoxData.maxTop);\n      cropBoxData.oldLeft = cropBoxData.left;\n      cropBoxData.oldTop = cropBoxData.top;\n\n      if (options.movable && options.cropBoxMovable) {\n        // Turn to move the canvas when the crop box is equal to the container\n        setData(this.face, DATA_ACTION, cropBoxData.width >= containerData.width && cropBoxData.height >= containerData.height ? ACTION_MOVE : ACTION_ALL);\n      }\n\n      setStyle(this.cropBox, assign({\n        width: cropBoxData.width,\n        height: cropBoxData.height\n      }, getTransforms({\n        translateX: cropBoxData.left,\n        translateY: cropBoxData.top\n      })));\n\n      if (this.cropped && this.limited) {\n        this.limitCanvas(true, true);\n      }\n\n      if (!this.disabled) {\n        this.output();\n      }\n    },\n    output: function output() {\n      this.preview();\n      dispatchEvent(this.element, EVENT_CROP, this.getData());\n    }\n  };\n\n  var preview = {\n    initPreview: function initPreview() {\n      var element = this.element,\n          crossOrigin = this.crossOrigin;\n      var preview = this.options.preview;\n      var url = crossOrigin ? this.crossOriginUrl : this.url;\n      var alt = element.alt || 'The image to preview';\n      var image = document.createElement('img');\n\n      if (crossOrigin) {\n        image.crossOrigin = crossOrigin;\n      }\n\n      image.src = url;\n      image.alt = alt;\n      this.viewBox.appendChild(image);\n      this.viewBoxImage = image;\n\n      if (!preview) {\n        return;\n      }\n\n      var previews = preview;\n\n      if (typeof preview === 'string') {\n        previews = element.ownerDocument.querySelectorAll(preview);\n      } else if (preview.querySelector) {\n        previews = [preview];\n      }\n\n      this.previews = previews;\n      forEach(previews, function (el) {\n        var img = document.createElement('img'); // Save the original size for recover\n\n        setData(el, DATA_PREVIEW, {\n          width: el.offsetWidth,\n          height: el.offsetHeight,\n          html: el.innerHTML\n        });\n\n        if (crossOrigin) {\n          img.crossOrigin = crossOrigin;\n        }\n\n        img.src = url;\n        img.alt = alt;\n        /**\n         * Override img element styles\n         * Add `display:block` to avoid margin top issue\n         * Add `height:auto` to override `height` attribute on IE8\n         * (Occur only when margin-top <= -height)\n         */\n\n        img.style.cssText = 'display:block;' + 'width:100%;' + 'height:auto;' + 'min-width:0!important;' + 'min-height:0!important;' + 'max-width:none!important;' + 'max-height:none!important;' + 'image-orientation:0deg!important;\"';\n        el.innerHTML = '';\n        el.appendChild(img);\n      });\n    },\n    resetPreview: function resetPreview() {\n      forEach(this.previews, function (element) {\n        var data = getData(element, DATA_PREVIEW);\n        setStyle(element, {\n          width: data.width,\n          height: data.height\n        });\n        element.innerHTML = data.html;\n        removeData(element, DATA_PREVIEW);\n      });\n    },\n    preview: function preview() {\n      var imageData = this.imageData,\n          canvasData = this.canvasData,\n          cropBoxData = this.cropBoxData;\n      var cropBoxWidth = cropBoxData.width,\n          cropBoxHeight = cropBoxData.height;\n      var width = imageData.width,\n          height = imageData.height;\n      var left = cropBoxData.left - canvasData.left - imageData.left;\n      var top = cropBoxData.top - canvasData.top - imageData.top;\n\n      if (!this.cropped || this.disabled) {\n        return;\n      }\n\n      setStyle(this.viewBoxImage, assign({\n        width: width,\n        height: height\n      }, getTransforms(assign({\n        translateX: -left,\n        translateY: -top\n      }, imageData))));\n      forEach(this.previews, function (element) {\n        var data = getData(element, DATA_PREVIEW);\n        var originalWidth = data.width;\n        var originalHeight = data.height;\n        var newWidth = originalWidth;\n        var newHeight = originalHeight;\n        var ratio = 1;\n\n        if (cropBoxWidth) {\n          ratio = originalWidth / cropBoxWidth;\n          newHeight = cropBoxHeight * ratio;\n        }\n\n        if (cropBoxHeight && newHeight > originalHeight) {\n          ratio = originalHeight / cropBoxHeight;\n          newWidth = cropBoxWidth * ratio;\n          newHeight = originalHeight;\n        }\n\n        setStyle(element, {\n          width: newWidth,\n          height: newHeight\n        });\n        setStyle(element.getElementsByTagName('img')[0], assign({\n          width: width * ratio,\n          height: height * ratio\n        }, getTransforms(assign({\n          translateX: -left * ratio,\n          translateY: -top * ratio\n        }, imageData))));\n      });\n    }\n  };\n\n  var events = {\n    bind: function bind() {\n      var element = this.element,\n          options = this.options,\n          cropper = this.cropper;\n\n      if (isFunction(options.cropstart)) {\n        addListener(element, EVENT_CROP_START, options.cropstart);\n      }\n\n      if (isFunction(options.cropmove)) {\n        addListener(element, EVENT_CROP_MOVE, options.cropmove);\n      }\n\n      if (isFunction(options.cropend)) {\n        addListener(element, EVENT_CROP_END, options.cropend);\n      }\n\n      if (isFunction(options.crop)) {\n        addListener(element, EVENT_CROP, options.crop);\n      }\n\n      if (isFunction(options.zoom)) {\n        addListener(element, EVENT_ZOOM, options.zoom);\n      }\n\n      addListener(cropper, EVENT_POINTER_DOWN, this.onCropStart = this.cropStart.bind(this));\n\n      if (options.zoomable && options.zoomOnWheel) {\n        addListener(cropper, EVENT_WHEEL, this.onWheel = this.wheel.bind(this), {\n          passive: false,\n          capture: true\n        });\n      }\n\n      if (options.toggleDragModeOnDblclick) {\n        addListener(cropper, EVENT_DBLCLICK, this.onDblclick = this.dblclick.bind(this));\n      }\n\n      addListener(element.ownerDocument, EVENT_POINTER_MOVE, this.onCropMove = this.cropMove.bind(this));\n      addListener(element.ownerDocument, EVENT_POINTER_UP, this.onCropEnd = this.cropEnd.bind(this));\n\n      if (options.responsive) {\n        addListener(window, EVENT_RESIZE, this.onResize = this.resize.bind(this));\n      }\n    },\n    unbind: function unbind() {\n      var element = this.element,\n          options = this.options,\n          cropper = this.cropper;\n\n      if (isFunction(options.cropstart)) {\n        removeListener(element, EVENT_CROP_START, options.cropstart);\n      }\n\n      if (isFunction(options.cropmove)) {\n        removeListener(element, EVENT_CROP_MOVE, options.cropmove);\n      }\n\n      if (isFunction(options.cropend)) {\n        removeListener(element, EVENT_CROP_END, options.cropend);\n      }\n\n      if (isFunction(options.crop)) {\n        removeListener(element, EVENT_CROP, options.crop);\n      }\n\n      if (isFunction(options.zoom)) {\n        removeListener(element, EVENT_ZOOM, options.zoom);\n      }\n\n      removeListener(cropper, EVENT_POINTER_DOWN, this.onCropStart);\n\n      if (options.zoomable && options.zoomOnWheel) {\n        removeListener(cropper, EVENT_WHEEL, this.onWheel, {\n          passive: false,\n          capture: true\n        });\n      }\n\n      if (options.toggleDragModeOnDblclick) {\n        removeListener(cropper, EVENT_DBLCLICK, this.onDblclick);\n      }\n\n      removeListener(element.ownerDocument, EVENT_POINTER_MOVE, this.onCropMove);\n      removeListener(element.ownerDocument, EVENT_POINTER_UP, this.onCropEnd);\n\n      if (options.responsive) {\n        removeListener(window, EVENT_RESIZE, this.onResize);\n      }\n    }\n  };\n\n  var handlers = {\n    resize: function resize() {\n      if (this.disabled) {\n        return;\n      }\n\n      var options = this.options,\n          container = this.container,\n          containerData = this.containerData;\n      var ratioX = container.offsetWidth / containerData.width;\n      var ratioY = container.offsetHeight / containerData.height;\n      var ratio = Math.abs(ratioX - 1) > Math.abs(ratioY - 1) ? ratioX : ratioY; // Resize when width changed or height changed\n\n      if (ratio !== 1) {\n        var canvasData;\n        var cropBoxData;\n\n        if (options.restore) {\n          canvasData = this.getCanvasData();\n          cropBoxData = this.getCropBoxData();\n        }\n\n        this.render();\n\n        if (options.restore) {\n          this.setCanvasData(forEach(canvasData, function (n, i) {\n            canvasData[i] = n * ratio;\n          }));\n          this.setCropBoxData(forEach(cropBoxData, function (n, i) {\n            cropBoxData[i] = n * ratio;\n          }));\n        }\n      }\n    },\n    dblclick: function dblclick() {\n      if (this.disabled || this.options.dragMode === DRAG_MODE_NONE) {\n        return;\n      }\n\n      this.setDragMode(hasClass(this.dragBox, CLASS_CROP) ? DRAG_MODE_MOVE : DRAG_MODE_CROP);\n    },\n    wheel: function wheel(event) {\n      var _this = this;\n\n      var ratio = Number(this.options.wheelZoomRatio) || 0.1;\n      var delta = 1;\n\n      if (this.disabled) {\n        return;\n      }\n\n      event.preventDefault(); // Limit wheel speed to prevent zoom too fast (#21)\n\n      if (this.wheeling) {\n        return;\n      }\n\n      this.wheeling = true;\n      setTimeout(function () {\n        _this.wheeling = false;\n      }, 50);\n\n      if (event.deltaY) {\n        delta = event.deltaY > 0 ? 1 : -1;\n      } else if (event.wheelDelta) {\n        delta = -event.wheelDelta / 120;\n      } else if (event.detail) {\n        delta = event.detail > 0 ? 1 : -1;\n      }\n\n      this.zoom(-delta * ratio, event);\n    },\n    cropStart: function cropStart(event) {\n      var buttons = event.buttons,\n          button = event.button;\n\n      if (this.disabled // Handle mouse event and pointer event and ignore touch event\n      || (event.type === 'mousedown' || event.type === 'pointerdown' && event.pointerType === 'mouse') && ( // No primary button (Usually the left button)\n      isNumber(buttons) && buttons !== 1 || isNumber(button) && button !== 0 // Open context menu\n      || event.ctrlKey)) {\n        return;\n      }\n\n      var options = this.options,\n          pointers = this.pointers;\n      var action;\n\n      if (event.changedTouches) {\n        // Handle touch event\n        forEach(event.changedTouches, function (touch) {\n          pointers[touch.identifier] = getPointer(touch);\n        });\n      } else {\n        // Handle mouse event and pointer event\n        pointers[event.pointerId || 0] = getPointer(event);\n      }\n\n      if (Object.keys(pointers).length > 1 && options.zoomable && options.zoomOnTouch) {\n        action = ACTION_ZOOM;\n      } else {\n        action = getData(event.target, DATA_ACTION);\n      }\n\n      if (!REGEXP_ACTIONS.test(action)) {\n        return;\n      }\n\n      if (dispatchEvent(this.element, EVENT_CROP_START, {\n        originalEvent: event,\n        action: action\n      }) === false) {\n        return;\n      } // This line is required for preventing page zooming in iOS browsers\n\n\n      event.preventDefault();\n      this.action = action;\n      this.cropping = false;\n\n      if (action === ACTION_CROP) {\n        this.cropping = true;\n        addClass(this.dragBox, CLASS_MODAL);\n      }\n    },\n    cropMove: function cropMove(event) {\n      var action = this.action;\n\n      if (this.disabled || !action) {\n        return;\n      }\n\n      var pointers = this.pointers;\n      event.preventDefault();\n\n      if (dispatchEvent(this.element, EVENT_CROP_MOVE, {\n        originalEvent: event,\n        action: action\n      }) === false) {\n        return;\n      }\n\n      if (event.changedTouches) {\n        forEach(event.changedTouches, function (touch) {\n          // The first parameter should not be undefined (#432)\n          assign(pointers[touch.identifier] || {}, getPointer(touch, true));\n        });\n      } else {\n        assign(pointers[event.pointerId || 0] || {}, getPointer(event, true));\n      }\n\n      this.change(event);\n    },\n    cropEnd: function cropEnd(event) {\n      if (this.disabled) {\n        return;\n      }\n\n      var action = this.action,\n          pointers = this.pointers;\n\n      if (event.changedTouches) {\n        forEach(event.changedTouches, function (touch) {\n          delete pointers[touch.identifier];\n        });\n      } else {\n        delete pointers[event.pointerId || 0];\n      }\n\n      if (!action) {\n        return;\n      }\n\n      event.preventDefault();\n\n      if (!Object.keys(pointers).length) {\n        this.action = '';\n      }\n\n      if (this.cropping) {\n        this.cropping = false;\n        toggleClass(this.dragBox, CLASS_MODAL, this.cropped && this.options.modal);\n      }\n\n      dispatchEvent(this.element, EVENT_CROP_END, {\n        originalEvent: event,\n        action: action\n      });\n    }\n  };\n\n  var change = {\n    change: function change(event) {\n      var options = this.options,\n          canvasData = this.canvasData,\n          containerData = this.containerData,\n          cropBoxData = this.cropBoxData,\n          pointers = this.pointers;\n      var action = this.action;\n      var aspectRatio = options.aspectRatio;\n      var left = cropBoxData.left,\n          top = cropBoxData.top,\n          width = cropBoxData.width,\n          height = cropBoxData.height;\n      var right = left + width;\n      var bottom = top + height;\n      var minLeft = 0;\n      var minTop = 0;\n      var maxWidth = containerData.width;\n      var maxHeight = containerData.height;\n      var renderable = true;\n      var offset; // Locking aspect ratio in \"free mode\" by holding shift key\n\n      if (!aspectRatio && event.shiftKey) {\n        aspectRatio = width && height ? width / height : 1;\n      }\n\n      if (this.limited) {\n        minLeft = cropBoxData.minLeft;\n        minTop = cropBoxData.minTop;\n        maxWidth = minLeft + Math.min(containerData.width, canvasData.width, canvasData.left + canvasData.width);\n        maxHeight = minTop + Math.min(containerData.height, canvasData.height, canvasData.top + canvasData.height);\n      }\n\n      var pointer = pointers[Object.keys(pointers)[0]];\n      var range = {\n        x: pointer.endX - pointer.startX,\n        y: pointer.endY - pointer.startY\n      };\n\n      var check = function check(side) {\n        switch (side) {\n          case ACTION_EAST:\n            if (right + range.x > maxWidth) {\n              range.x = maxWidth - right;\n            }\n\n            break;\n\n          case ACTION_WEST:\n            if (left + range.x < minLeft) {\n              range.x = minLeft - left;\n            }\n\n            break;\n\n          case ACTION_NORTH:\n            if (top + range.y < minTop) {\n              range.y = minTop - top;\n            }\n\n            break;\n\n          case ACTION_SOUTH:\n            if (bottom + range.y > maxHeight) {\n              range.y = maxHeight - bottom;\n            }\n\n            break;\n        }\n      };\n\n      switch (action) {\n        // Move crop box\n        case ACTION_ALL:\n          left += range.x;\n          top += range.y;\n          break;\n        // Resize crop box\n\n        case ACTION_EAST:\n          if (range.x >= 0 && (right >= maxWidth || aspectRatio && (top <= minTop || bottom >= maxHeight))) {\n            renderable = false;\n            break;\n          }\n\n          check(ACTION_EAST);\n          width += range.x;\n\n          if (width < 0) {\n            action = ACTION_WEST;\n            width = -width;\n            left -= width;\n          }\n\n          if (aspectRatio) {\n            height = width / aspectRatio;\n            top += (cropBoxData.height - height) / 2;\n          }\n\n          break;\n\n        case ACTION_NORTH:\n          if (range.y <= 0 && (top <= minTop || aspectRatio && (left <= minLeft || right >= maxWidth))) {\n            renderable = false;\n            break;\n          }\n\n          check(ACTION_NORTH);\n          height -= range.y;\n          top += range.y;\n\n          if (height < 0) {\n            action = ACTION_SOUTH;\n            height = -height;\n            top -= height;\n          }\n\n          if (aspectRatio) {\n            width = height * aspectRatio;\n            left += (cropBoxData.width - width) / 2;\n          }\n\n          break;\n\n        case ACTION_WEST:\n          if (range.x <= 0 && (left <= minLeft || aspectRatio && (top <= minTop || bottom >= maxHeight))) {\n            renderable = false;\n            break;\n          }\n\n          check(ACTION_WEST);\n          width -= range.x;\n          left += range.x;\n\n          if (width < 0) {\n            action = ACTION_EAST;\n            width = -width;\n            left -= width;\n          }\n\n          if (aspectRatio) {\n            height = width / aspectRatio;\n            top += (cropBoxData.height - height) / 2;\n          }\n\n          break;\n\n        case ACTION_SOUTH:\n          if (range.y >= 0 && (bottom >= maxHeight || aspectRatio && (left <= minLeft || right >= maxWidth))) {\n            renderable = false;\n            break;\n          }\n\n          check(ACTION_SOUTH);\n          height += range.y;\n\n          if (height < 0) {\n            action = ACTION_NORTH;\n            height = -height;\n            top -= height;\n          }\n\n          if (aspectRatio) {\n            width = height * aspectRatio;\n            left += (cropBoxData.width - width) / 2;\n          }\n\n          break;\n\n        case ACTION_NORTH_EAST:\n          if (aspectRatio) {\n            if (range.y <= 0 && (top <= minTop || right >= maxWidth)) {\n              renderable = false;\n              break;\n            }\n\n            check(ACTION_NORTH);\n            height -= range.y;\n            top += range.y;\n            width = height * aspectRatio;\n          } else {\n            check(ACTION_NORTH);\n            check(ACTION_EAST);\n\n            if (range.x >= 0) {\n              if (right < maxWidth) {\n                width += range.x;\n              } else if (range.y <= 0 && top <= minTop) {\n                renderable = false;\n              }\n            } else {\n              width += range.x;\n            }\n\n            if (range.y <= 0) {\n              if (top > minTop) {\n                height -= range.y;\n                top += range.y;\n              }\n            } else {\n              height -= range.y;\n              top += range.y;\n            }\n          }\n\n          if (width < 0 && height < 0) {\n            action = ACTION_SOUTH_WEST;\n            height = -height;\n            width = -width;\n            top -= height;\n            left -= width;\n          } else if (width < 0) {\n            action = ACTION_NORTH_WEST;\n            width = -width;\n            left -= width;\n          } else if (height < 0) {\n            action = ACTION_SOUTH_EAST;\n            height = -height;\n            top -= height;\n          }\n\n          break;\n\n        case ACTION_NORTH_WEST:\n          if (aspectRatio) {\n            if (range.y <= 0 && (top <= minTop || left <= minLeft)) {\n              renderable = false;\n              break;\n            }\n\n            check(ACTION_NORTH);\n            height -= range.y;\n            top += range.y;\n            width = height * aspectRatio;\n            left += cropBoxData.width - width;\n          } else {\n            check(ACTION_NORTH);\n            check(ACTION_WEST);\n\n            if (range.x <= 0) {\n              if (left > minLeft) {\n                width -= range.x;\n                left += range.x;\n              } else if (range.y <= 0 && top <= minTop) {\n                renderable = false;\n              }\n            } else {\n              width -= range.x;\n              left += range.x;\n            }\n\n            if (range.y <= 0) {\n              if (top > minTop) {\n                height -= range.y;\n                top += range.y;\n              }\n            } else {\n              height -= range.y;\n              top += range.y;\n            }\n          }\n\n          if (width < 0 && height < 0) {\n            action = ACTION_SOUTH_EAST;\n            height = -height;\n            width = -width;\n            top -= height;\n            left -= width;\n          } else if (width < 0) {\n            action = ACTION_NORTH_EAST;\n            width = -width;\n            left -= width;\n          } else if (height < 0) {\n            action = ACTION_SOUTH_WEST;\n            height = -height;\n            top -= height;\n          }\n\n          break;\n\n        case ACTION_SOUTH_WEST:\n          if (aspectRatio) {\n            if (range.x <= 0 && (left <= minLeft || bottom >= maxHeight)) {\n              renderable = false;\n              break;\n            }\n\n            check(ACTION_WEST);\n            width -= range.x;\n            left += range.x;\n            height = width / aspectRatio;\n          } else {\n            check(ACTION_SOUTH);\n            check(ACTION_WEST);\n\n            if (range.x <= 0) {\n              if (left > minLeft) {\n                width -= range.x;\n                left += range.x;\n              } else if (range.y >= 0 && bottom >= maxHeight) {\n                renderable = false;\n              }\n            } else {\n              width -= range.x;\n              left += range.x;\n            }\n\n            if (range.y >= 0) {\n              if (bottom < maxHeight) {\n                height += range.y;\n              }\n            } else {\n              height += range.y;\n            }\n          }\n\n          if (width < 0 && height < 0) {\n            action = ACTION_NORTH_EAST;\n            height = -height;\n            width = -width;\n            top -= height;\n            left -= width;\n          } else if (width < 0) {\n            action = ACTION_SOUTH_EAST;\n            width = -width;\n            left -= width;\n          } else if (height < 0) {\n            action = ACTION_NORTH_WEST;\n            height = -height;\n            top -= height;\n          }\n\n          break;\n\n        case ACTION_SOUTH_EAST:\n          if (aspectRatio) {\n            if (range.x >= 0 && (right >= maxWidth || bottom >= maxHeight)) {\n              renderable = false;\n              break;\n            }\n\n            check(ACTION_EAST);\n            width += range.x;\n            height = width / aspectRatio;\n          } else {\n            check(ACTION_SOUTH);\n            check(ACTION_EAST);\n\n            if (range.x >= 0) {\n              if (right < maxWidth) {\n                width += range.x;\n              } else if (range.y >= 0 && bottom >= maxHeight) {\n                renderable = false;\n              }\n            } else {\n              width += range.x;\n            }\n\n            if (range.y >= 0) {\n              if (bottom < maxHeight) {\n                height += range.y;\n              }\n            } else {\n              height += range.y;\n            }\n          }\n\n          if (width < 0 && height < 0) {\n            action = ACTION_NORTH_WEST;\n            height = -height;\n            width = -width;\n            top -= height;\n            left -= width;\n          } else if (width < 0) {\n            action = ACTION_SOUTH_WEST;\n            width = -width;\n            left -= width;\n          } else if (height < 0) {\n            action = ACTION_NORTH_EAST;\n            height = -height;\n            top -= height;\n          }\n\n          break;\n        // Move canvas\n\n        case ACTION_MOVE:\n          this.move(range.x, range.y);\n          renderable = false;\n          break;\n        // Zoom canvas\n\n        case ACTION_ZOOM:\n          this.zoom(getMaxZoomRatio(pointers), event);\n          renderable = false;\n          break;\n        // Create crop box\n\n        case ACTION_CROP:\n          if (!range.x || !range.y) {\n            renderable = false;\n            break;\n          }\n\n          offset = getOffset(this.cropper);\n          left = pointer.startX - offset.left;\n          top = pointer.startY - offset.top;\n          width = cropBoxData.minWidth;\n          height = cropBoxData.minHeight;\n\n          if (range.x > 0) {\n            action = range.y > 0 ? ACTION_SOUTH_EAST : ACTION_NORTH_EAST;\n          } else if (range.x < 0) {\n            left -= width;\n            action = range.y > 0 ? ACTION_SOUTH_WEST : ACTION_NORTH_WEST;\n          }\n\n          if (range.y < 0) {\n            top -= height;\n          } // Show the crop box if is hidden\n\n\n          if (!this.cropped) {\n            removeClass(this.cropBox, CLASS_HIDDEN);\n            this.cropped = true;\n\n            if (this.limited) {\n              this.limitCropBox(true, true);\n            }\n          }\n\n          break;\n      }\n\n      if (renderable) {\n        cropBoxData.width = width;\n        cropBoxData.height = height;\n        cropBoxData.left = left;\n        cropBoxData.top = top;\n        this.action = action;\n        this.renderCropBox();\n      } // Override\n\n\n      forEach(pointers, function (p) {\n        p.startX = p.endX;\n        p.startY = p.endY;\n      });\n    }\n  };\n\n  var methods = {\n    // Show the crop box manually\n    crop: function crop() {\n      if (this.ready && !this.cropped && !this.disabled) {\n        this.cropped = true;\n        this.limitCropBox(true, true);\n\n        if (this.options.modal) {\n          addClass(this.dragBox, CLASS_MODAL);\n        }\n\n        removeClass(this.cropBox, CLASS_HIDDEN);\n        this.setCropBoxData(this.initialCropBoxData);\n      }\n\n      return this;\n    },\n    // Reset the image and crop box to their initial states\n    reset: function reset() {\n      if (this.ready && !this.disabled) {\n        this.imageData = assign({}, this.initialImageData);\n        this.canvasData = assign({}, this.initialCanvasData);\n        this.cropBoxData = assign({}, this.initialCropBoxData);\n        this.renderCanvas();\n\n        if (this.cropped) {\n          this.renderCropBox();\n        }\n      }\n\n      return this;\n    },\n    // Clear the crop box\n    clear: function clear() {\n      if (this.cropped && !this.disabled) {\n        assign(this.cropBoxData, {\n          left: 0,\n          top: 0,\n          width: 0,\n          height: 0\n        });\n        this.cropped = false;\n        this.renderCropBox();\n        this.limitCanvas(true, true); // Render canvas after crop box rendered\n\n        this.renderCanvas();\n        removeClass(this.dragBox, CLASS_MODAL);\n        addClass(this.cropBox, CLASS_HIDDEN);\n      }\n\n      return this;\n    },\n\n    /**\n     * Replace the image's src and rebuild the cropper\n     * @param {string} url - The new URL.\n     * @param {boolean} [hasSameSize] - Indicate if the new image has the same size as the old one.\n     * @returns {Cropper} this\n     */\n    replace: function replace(url) {\n      var hasSameSize = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;\n\n      if (!this.disabled && url) {\n        if (this.isImg) {\n          this.element.src = url;\n        }\n\n        if (hasSameSize) {\n          this.url = url;\n          this.image.src = url;\n\n          if (this.ready) {\n            this.viewBoxImage.src = url;\n            forEach(this.previews, function (element) {\n              element.getElementsByTagName('img')[0].src = url;\n            });\n          }\n        } else {\n          if (this.isImg) {\n            this.replaced = true;\n          }\n\n          this.options.data = null;\n          this.uncreate();\n          this.load(url);\n        }\n      }\n\n      return this;\n    },\n    // Enable (unfreeze) the cropper\n    enable: function enable() {\n      if (this.ready && this.disabled) {\n        this.disabled = false;\n        removeClass(this.cropper, CLASS_DISABLED);\n      }\n\n      return this;\n    },\n    // Disable (freeze) the cropper\n    disable: function disable() {\n      if (this.ready && !this.disabled) {\n        this.disabled = true;\n        addClass(this.cropper, CLASS_DISABLED);\n      }\n\n      return this;\n    },\n\n    /**\n     * Destroy the cropper and remove the instance from the image\n     * @returns {Cropper} this\n     */\n    destroy: function destroy() {\n      var element = this.element;\n\n      if (!element[NAMESPACE]) {\n        return this;\n      }\n\n      element[NAMESPACE] = undefined;\n\n      if (this.isImg && this.replaced) {\n        element.src = this.originalUrl;\n      }\n\n      this.uncreate();\n      return this;\n    },\n\n    /**\n     * Move the canvas with relative offsets\n     * @param {number} offsetX - The relative offset distance on the x-axis.\n     * @param {number} [offsetY=offsetX] - The relative offset distance on the y-axis.\n     * @returns {Cropper} this\n     */\n    move: function move(offsetX) {\n      var offsetY = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : offsetX;\n      var _this$canvasData = this.canvasData,\n          left = _this$canvasData.left,\n          top = _this$canvasData.top;\n      return this.moveTo(isUndefined(offsetX) ? offsetX : left + Number(offsetX), isUndefined(offsetY) ? offsetY : top + Number(offsetY));\n    },\n\n    /**\n     * Move the canvas to an absolute point\n     * @param {number} x - The x-axis coordinate.\n     * @param {number} [y=x] - The y-axis coordinate.\n     * @returns {Cropper} this\n     */\n    moveTo: function moveTo(x) {\n      var y = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : x;\n      var canvasData = this.canvasData;\n      var changed = false;\n      x = Number(x);\n      y = Number(y);\n\n      if (this.ready && !this.disabled && this.options.movable) {\n        if (isNumber(x)) {\n          canvasData.left = x;\n          changed = true;\n        }\n\n        if (isNumber(y)) {\n          canvasData.top = y;\n          changed = true;\n        }\n\n        if (changed) {\n          this.renderCanvas(true);\n        }\n      }\n\n      return this;\n    },\n\n    /**\n     * Zoom the canvas with a relative ratio\n     * @param {number} ratio - The target ratio.\n     * @param {Event} _originalEvent - The original event if any.\n     * @returns {Cropper} this\n     */\n    zoom: function zoom(ratio, _originalEvent) {\n      var canvasData = this.canvasData;\n      ratio = Number(ratio);\n\n      if (ratio < 0) {\n        ratio = 1 / (1 - ratio);\n      } else {\n        ratio = 1 + ratio;\n      }\n\n      return this.zoomTo(canvasData.width * ratio / canvasData.naturalWidth, null, _originalEvent);\n    },\n\n    /**\n     * Zoom the canvas to an absolute ratio\n     * @param {number} ratio - The target ratio.\n     * @param {Object} pivot - The zoom pivot point coordinate.\n     * @param {Event} _originalEvent - The original event if any.\n     * @returns {Cropper} this\n     */\n    zoomTo: function zoomTo(ratio, pivot, _originalEvent) {\n      var options = this.options,\n          canvasData = this.canvasData;\n      var width = canvasData.width,\n          height = canvasData.height,\n          naturalWidth = canvasData.naturalWidth,\n          naturalHeight = canvasData.naturalHeight;\n      ratio = Number(ratio);\n\n      if (ratio >= 0 && this.ready && !this.disabled && options.zoomable) {\n        var newWidth = naturalWidth * ratio;\n        var newHeight = naturalHeight * ratio;\n\n        if (dispatchEvent(this.element, EVENT_ZOOM, {\n          ratio: ratio,\n          oldRatio: width / naturalWidth,\n          originalEvent: _originalEvent\n        }) === false) {\n          return this;\n        }\n\n        if (_originalEvent) {\n          var pointers = this.pointers;\n          var offset = getOffset(this.cropper);\n          var center = pointers && Object.keys(pointers).length ? getPointersCenter(pointers) : {\n            pageX: _originalEvent.pageX,\n            pageY: _originalEvent.pageY\n          }; // Zoom from the triggering point of the event\n\n          canvasData.left -= (newWidth - width) * ((center.pageX - offset.left - canvasData.left) / width);\n          canvasData.top -= (newHeight - height) * ((center.pageY - offset.top - canvasData.top) / height);\n        } else if (isPlainObject(pivot) && isNumber(pivot.x) && isNumber(pivot.y)) {\n          canvasData.left -= (newWidth - width) * ((pivot.x - canvasData.left) / width);\n          canvasData.top -= (newHeight - height) * ((pivot.y - canvasData.top) / height);\n        } else {\n          // Zoom from the center of the canvas\n          canvasData.left -= (newWidth - width) / 2;\n          canvasData.top -= (newHeight - height) / 2;\n        }\n\n        canvasData.width = newWidth;\n        canvasData.height = newHeight;\n        this.renderCanvas(true);\n      }\n\n      return this;\n    },\n\n    /**\n     * Rotate the canvas with a relative degree\n     * @param {number} degree - The rotate degree.\n     * @returns {Cropper} this\n     */\n    rotate: function rotate(degree) {\n      return this.rotateTo((this.imageData.rotate || 0) + Number(degree));\n    },\n\n    /**\n     * Rotate the canvas to an absolute degree\n     * @param {number} degree - The rotate degree.\n     * @returns {Cropper} this\n     */\n    rotateTo: function rotateTo(degree) {\n      degree = Number(degree);\n\n      if (isNumber(degree) && this.ready && !this.disabled && this.options.rotatable) {\n        this.imageData.rotate = degree % 360;\n        this.renderCanvas(true, true);\n      }\n\n      return this;\n    },\n\n    /**\n     * Scale the image on the x-axis.\n     * @param {number} scaleX - The scale ratio on the x-axis.\n     * @returns {Cropper} this\n     */\n    scaleX: function scaleX(_scaleX) {\n      var scaleY = this.imageData.scaleY;\n      return this.scale(_scaleX, isNumber(scaleY) ? scaleY : 1);\n    },\n\n    /**\n     * Scale the image on the y-axis.\n     * @param {number} scaleY - The scale ratio on the y-axis.\n     * @returns {Cropper} this\n     */\n    scaleY: function scaleY(_scaleY) {\n      var scaleX = this.imageData.scaleX;\n      return this.scale(isNumber(scaleX) ? scaleX : 1, _scaleY);\n    },\n\n    /**\n     * Scale the image\n     * @param {number} scaleX - The scale ratio on the x-axis.\n     * @param {number} [scaleY=scaleX] - The scale ratio on the y-axis.\n     * @returns {Cropper} this\n     */\n    scale: function scale(scaleX) {\n      var scaleY = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : scaleX;\n      var imageData = this.imageData;\n      var transformed = false;\n      scaleX = Number(scaleX);\n      scaleY = Number(scaleY);\n\n      if (this.ready && !this.disabled && this.options.scalable) {\n        if (isNumber(scaleX)) {\n          imageData.scaleX = scaleX;\n          transformed = true;\n        }\n\n        if (isNumber(scaleY)) {\n          imageData.scaleY = scaleY;\n          transformed = true;\n        }\n\n        if (transformed) {\n          this.renderCanvas(true, true);\n        }\n      }\n\n      return this;\n    },\n\n    /**\n     * Get the cropped area position and size data (base on the original image)\n     * @param {boolean} [rounded=false] - Indicate if round the data values or not.\n     * @returns {Object} The result cropped data.\n     */\n    getData: function getData() {\n      var rounded = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : false;\n      var options = this.options,\n          imageData = this.imageData,\n          canvasData = this.canvasData,\n          cropBoxData = this.cropBoxData;\n      var data;\n\n      if (this.ready && this.cropped) {\n        data = {\n          x: cropBoxData.left - canvasData.left,\n          y: cropBoxData.top - canvasData.top,\n          width: cropBoxData.width,\n          height: cropBoxData.height\n        };\n        var ratio = imageData.width / imageData.naturalWidth;\n        forEach(data, function (n, i) {\n          data[i] = n / ratio;\n        });\n\n        if (rounded) {\n          // In case rounding off leads to extra 1px in right or bottom border\n          // we should round the top-left corner and the dimension (#343).\n          var bottom = Math.round(data.y + data.height);\n          var right = Math.round(data.x + data.width);\n          data.x = Math.round(data.x);\n          data.y = Math.round(data.y);\n          data.width = right - data.x;\n          data.height = bottom - data.y;\n        }\n      } else {\n        data = {\n          x: 0,\n          y: 0,\n          width: 0,\n          height: 0\n        };\n      }\n\n      if (options.rotatable) {\n        data.rotate = imageData.rotate || 0;\n      }\n\n      if (options.scalable) {\n        data.scaleX = imageData.scaleX || 1;\n        data.scaleY = imageData.scaleY || 1;\n      }\n\n      return data;\n    },\n\n    /**\n     * Set the cropped area position and size with new data\n     * @param {Object} data - The new data.\n     * @returns {Cropper} this\n     */\n    setData: function setData(data) {\n      var options = this.options,\n          imageData = this.imageData,\n          canvasData = this.canvasData;\n      var cropBoxData = {};\n\n      if (this.ready && !this.disabled && isPlainObject(data)) {\n        var transformed = false;\n\n        if (options.rotatable) {\n          if (isNumber(data.rotate) && data.rotate !== imageData.rotate) {\n            imageData.rotate = data.rotate;\n            transformed = true;\n          }\n        }\n\n        if (options.scalable) {\n          if (isNumber(data.scaleX) && data.scaleX !== imageData.scaleX) {\n            imageData.scaleX = data.scaleX;\n            transformed = true;\n          }\n\n          if (isNumber(data.scaleY) && data.scaleY !== imageData.scaleY) {\n            imageData.scaleY = data.scaleY;\n            transformed = true;\n          }\n        }\n\n        if (transformed) {\n          this.renderCanvas(true, true);\n        }\n\n        var ratio = imageData.width / imageData.naturalWidth;\n\n        if (isNumber(data.x)) {\n          cropBoxData.left = data.x * ratio + canvasData.left;\n        }\n\n        if (isNumber(data.y)) {\n          cropBoxData.top = data.y * ratio + canvasData.top;\n        }\n\n        if (isNumber(data.width)) {\n          cropBoxData.width = data.width * ratio;\n        }\n\n        if (isNumber(data.height)) {\n          cropBoxData.height = data.height * ratio;\n        }\n\n        this.setCropBoxData(cropBoxData);\n      }\n\n      return this;\n    },\n\n    /**\n     * Get the container size data.\n     * @returns {Object} The result container data.\n     */\n    getContainerData: function getContainerData() {\n      return this.ready ? assign({}, this.containerData) : {};\n    },\n\n    /**\n     * Get the image position and size data.\n     * @returns {Object} The result image data.\n     */\n    getImageData: function getImageData() {\n      return this.sized ? assign({}, this.imageData) : {};\n    },\n\n    /**\n     * Get the canvas position and size data.\n     * @returns {Object} The result canvas data.\n     */\n    getCanvasData: function getCanvasData() {\n      var canvasData = this.canvasData;\n      var data = {};\n\n      if (this.ready) {\n        forEach(['left', 'top', 'width', 'height', 'naturalWidth', 'naturalHeight'], function (n) {\n          data[n] = canvasData[n];\n        });\n      }\n\n      return data;\n    },\n\n    /**\n     * Set the canvas position and size with new data.\n     * @param {Object} data - The new canvas data.\n     * @returns {Cropper} this\n     */\n    setCanvasData: function setCanvasData(data) {\n      var canvasData = this.canvasData;\n      var aspectRatio = canvasData.aspectRatio;\n\n      if (this.ready && !this.disabled && isPlainObject(data)) {\n        if (isNumber(data.left)) {\n          canvasData.left = data.left;\n        }\n\n        if (isNumber(data.top)) {\n          canvasData.top = data.top;\n        }\n\n        if (isNumber(data.width)) {\n          canvasData.width = data.width;\n          canvasData.height = data.width / aspectRatio;\n        } else if (isNumber(data.height)) {\n          canvasData.height = data.height;\n          canvasData.width = data.height * aspectRatio;\n        }\n\n        this.renderCanvas(true);\n      }\n\n      return this;\n    },\n\n    /**\n     * Get the crop box position and size data.\n     * @returns {Object} The result crop box data.\n     */\n    getCropBoxData: function getCropBoxData() {\n      var cropBoxData = this.cropBoxData;\n      var data;\n\n      if (this.ready && this.cropped) {\n        data = {\n          left: cropBoxData.left,\n          top: cropBoxData.top,\n          width: cropBoxData.width,\n          height: cropBoxData.height\n        };\n      }\n\n      return data || {};\n    },\n\n    /**\n     * Set the crop box position and size with new data.\n     * @param {Object} data - The new crop box data.\n     * @returns {Cropper} this\n     */\n    setCropBoxData: function setCropBoxData(data) {\n      var cropBoxData = this.cropBoxData;\n      var aspectRatio = this.options.aspectRatio;\n      var widthChanged;\n      var heightChanged;\n\n      if (this.ready && this.cropped && !this.disabled && isPlainObject(data)) {\n        if (isNumber(data.left)) {\n          cropBoxData.left = data.left;\n        }\n\n        if (isNumber(data.top)) {\n          cropBoxData.top = data.top;\n        }\n\n        if (isNumber(data.width) && data.width !== cropBoxData.width) {\n          widthChanged = true;\n          cropBoxData.width = data.width;\n        }\n\n        if (isNumber(data.height) && data.height !== cropBoxData.height) {\n          heightChanged = true;\n          cropBoxData.height = data.height;\n        }\n\n        if (aspectRatio) {\n          if (widthChanged) {\n            cropBoxData.height = cropBoxData.width / aspectRatio;\n          } else if (heightChanged) {\n            cropBoxData.width = cropBoxData.height * aspectRatio;\n          }\n        }\n\n        this.renderCropBox();\n      }\n\n      return this;\n    },\n\n    /**\n     * Get a canvas drawn the cropped image.\n     * @param {Object} [options={}] - The config options.\n     * @returns {HTMLCanvasElement} - The result canvas.\n     */\n    getCroppedCanvas: function getCroppedCanvas() {\n      var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n      if (!this.ready || !window.HTMLCanvasElement) {\n        return null;\n      }\n\n      var canvasData = this.canvasData;\n      var source = getSourceCanvas(this.image, this.imageData, canvasData, options); // Returns the source canvas if it is not cropped.\n\n      if (!this.cropped) {\n        return source;\n      }\n\n      var _this$getData = this.getData(),\n          initialX = _this$getData.x,\n          initialY = _this$getData.y,\n          initialWidth = _this$getData.width,\n          initialHeight = _this$getData.height;\n\n      var ratio = source.width / Math.floor(canvasData.naturalWidth);\n\n      if (ratio !== 1) {\n        initialX *= ratio;\n        initialY *= ratio;\n        initialWidth *= ratio;\n        initialHeight *= ratio;\n      }\n\n      var aspectRatio = initialWidth / initialHeight;\n      var maxSizes = getAdjustedSizes({\n        aspectRatio: aspectRatio,\n        width: options.maxWidth || Infinity,\n        height: options.maxHeight || Infinity\n      });\n      var minSizes = getAdjustedSizes({\n        aspectRatio: aspectRatio,\n        width: options.minWidth || 0,\n        height: options.minHeight || 0\n      }, 'cover');\n\n      var _getAdjustedSizes = getAdjustedSizes({\n        aspectRatio: aspectRatio,\n        width: options.width || (ratio !== 1 ? source.width : initialWidth),\n        height: options.height || (ratio !== 1 ? source.height : initialHeight)\n      }),\n          width = _getAdjustedSizes.width,\n          height = _getAdjustedSizes.height;\n\n      width = Math.min(maxSizes.width, Math.max(minSizes.width, width));\n      height = Math.min(maxSizes.height, Math.max(minSizes.height, height));\n      var canvas = document.createElement('canvas');\n      var context = canvas.getContext('2d');\n      canvas.width = normalizeDecimalNumber(width);\n      canvas.height = normalizeDecimalNumber(height);\n      context.fillStyle = options.fillColor || 'transparent';\n      context.fillRect(0, 0, width, height);\n      var _options$imageSmoothi = options.imageSmoothingEnabled,\n          imageSmoothingEnabled = _options$imageSmoothi === void 0 ? true : _options$imageSmoothi,\n          imageSmoothingQuality = options.imageSmoothingQuality;\n      context.imageSmoothingEnabled = imageSmoothingEnabled;\n\n      if (imageSmoothingQuality) {\n        context.imageSmoothingQuality = imageSmoothingQuality;\n      } // https://developer.mozilla.org/en-US/docs/Web/API/CanvasRenderingContext2D.drawImage\n\n\n      var sourceWidth = source.width;\n      var sourceHeight = source.height; // Source canvas parameters\n\n      var srcX = initialX;\n      var srcY = initialY;\n      var srcWidth;\n      var srcHeight; // Destination canvas parameters\n\n      var dstX;\n      var dstY;\n      var dstWidth;\n      var dstHeight;\n\n      if (srcX <= -initialWidth || srcX > sourceWidth) {\n        srcX = 0;\n        srcWidth = 0;\n        dstX = 0;\n        dstWidth = 0;\n      } else if (srcX <= 0) {\n        dstX = -srcX;\n        srcX = 0;\n        srcWidth = Math.min(sourceWidth, initialWidth + srcX);\n        dstWidth = srcWidth;\n      } else if (srcX <= sourceWidth) {\n        dstX = 0;\n        srcWidth = Math.min(initialWidth, sourceWidth - srcX);\n        dstWidth = srcWidth;\n      }\n\n      if (srcWidth <= 0 || srcY <= -initialHeight || srcY > sourceHeight) {\n        srcY = 0;\n        srcHeight = 0;\n        dstY = 0;\n        dstHeight = 0;\n      } else if (srcY <= 0) {\n        dstY = -srcY;\n        srcY = 0;\n        srcHeight = Math.min(sourceHeight, initialHeight + srcY);\n        dstHeight = srcHeight;\n      } else if (srcY <= sourceHeight) {\n        dstY = 0;\n        srcHeight = Math.min(initialHeight, sourceHeight - srcY);\n        dstHeight = srcHeight;\n      }\n\n      var params = [srcX, srcY, srcWidth, srcHeight]; // Avoid \"IndexSizeError\"\n\n      if (dstWidth > 0 && dstHeight > 0) {\n        var scale = width / initialWidth;\n        params.push(dstX * scale, dstY * scale, dstWidth * scale, dstHeight * scale);\n      } // All the numerical parameters should be integer for `drawImage`\n      // https://github.com/fengyuanchen/cropper/issues/476\n\n\n      context.drawImage.apply(context, [source].concat(_toConsumableArray(params.map(function (param) {\n        return Math.floor(normalizeDecimalNumber(param));\n      }))));\n      return canvas;\n    },\n\n    /**\n     * Change the aspect ratio of the crop box.\n     * @param {number} aspectRatio - The new aspect ratio.\n     * @returns {Cropper} this\n     */\n    setAspectRatio: function setAspectRatio(aspectRatio) {\n      var options = this.options;\n\n      if (!this.disabled && !isUndefined(aspectRatio)) {\n        // 0 -> NaN\n        options.aspectRatio = Math.max(0, aspectRatio) || NaN;\n\n        if (this.ready) {\n          this.initCropBox();\n\n          if (this.cropped) {\n            this.renderCropBox();\n          }\n        }\n      }\n\n      return this;\n    },\n\n    /**\n     * Change the drag mode.\n     * @param {string} mode - The new drag mode.\n     * @returns {Cropper} this\n     */\n    setDragMode: function setDragMode(mode) {\n      var options = this.options,\n          dragBox = this.dragBox,\n          face = this.face;\n\n      if (this.ready && !this.disabled) {\n        var croppable = mode === DRAG_MODE_CROP;\n        var movable = options.movable && mode === DRAG_MODE_MOVE;\n        mode = croppable || movable ? mode : DRAG_MODE_NONE;\n        options.dragMode = mode;\n        setData(dragBox, DATA_ACTION, mode);\n        toggleClass(dragBox, CLASS_CROP, croppable);\n        toggleClass(dragBox, CLASS_MOVE, movable);\n\n        if (!options.cropBoxMovable) {\n          // Sync drag mode to crop box when it is not movable\n          setData(face, DATA_ACTION, mode);\n          toggleClass(face, CLASS_CROP, croppable);\n          toggleClass(face, CLASS_MOVE, movable);\n        }\n      }\n\n      return this;\n    }\n  };\n\n  var AnotherCropper = WINDOW.Cropper;\n\n  var Cropper = /*#__PURE__*/function () {\n    /**\n     * Create a new Cropper.\n     * @param {Element} element - The target element for cropping.\n     * @param {Object} [options={}] - The configuration options.\n     */\n    function Cropper(element) {\n      var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n\n      _classCallCheck(this, Cropper);\n\n      if (!element || !REGEXP_TAG_NAME.test(element.tagName)) {\n        throw new Error('The first argument is required and must be an <img> or <canvas> element.');\n      }\n\n      this.element = element;\n      this.options = assign({}, DEFAULTS, isPlainObject(options) && options);\n      this.cropped = false;\n      this.disabled = false;\n      this.pointers = {};\n      this.ready = false;\n      this.reloading = false;\n      this.replaced = false;\n      this.sized = false;\n      this.sizing = false;\n      this.init();\n    }\n\n    _createClass(Cropper, [{\n      key: \"init\",\n      value: function init() {\n        var element = this.element;\n        var tagName = element.tagName.toLowerCase();\n        var url;\n\n        if (element[NAMESPACE]) {\n          return;\n        }\n\n        element[NAMESPACE] = this;\n\n        if (tagName === 'img') {\n          this.isImg = true; // e.g.: \"img/picture.jpg\"\n\n          url = element.getAttribute('src') || '';\n          this.originalUrl = url; // Stop when it's a blank image\n\n          if (!url) {\n            return;\n          } // e.g.: \"https://example.com/img/picture.jpg\"\n\n\n          url = element.src;\n        } else if (tagName === 'canvas' && window.HTMLCanvasElement) {\n          url = element.toDataURL();\n        }\n\n        this.load(url);\n      }\n    }, {\n      key: \"load\",\n      value: function load(url) {\n        var _this = this;\n\n        if (!url) {\n          return;\n        }\n\n        this.url = url;\n        this.imageData = {};\n        var element = this.element,\n            options = this.options;\n\n        if (!options.rotatable && !options.scalable) {\n          options.checkOrientation = false;\n        } // Only IE10+ supports Typed Arrays\n\n\n        if (!options.checkOrientation || !window.ArrayBuffer) {\n          this.clone();\n          return;\n        } // Detect the mime type of the image directly if it is a Data URL\n\n\n        if (REGEXP_DATA_URL.test(url)) {\n          // Read ArrayBuffer from Data URL of JPEG images directly for better performance\n          if (REGEXP_DATA_URL_JPEG.test(url)) {\n            this.read(dataURLToArrayBuffer(url));\n          } else {\n            // Only a JPEG image may contains Exif Orientation information,\n            // the rest types of Data URLs are not necessary to check orientation at all.\n            this.clone();\n          }\n\n          return;\n        } // 1. Detect the mime type of the image by a XMLHttpRequest.\n        // 2. Load the image as ArrayBuffer for reading orientation if its a JPEG image.\n\n\n        var xhr = new XMLHttpRequest();\n        var clone = this.clone.bind(this);\n        this.reloading = true;\n        this.xhr = xhr; // 1. Cross origin requests are only supported for protocol schemes:\n        // http, https, data, chrome, chrome-extension.\n        // 2. Access to XMLHttpRequest from a Data URL will be blocked by CORS policy\n        // in some browsers as IE11 and Safari.\n\n        xhr.onabort = clone;\n        xhr.onerror = clone;\n        xhr.ontimeout = clone;\n\n        xhr.onprogress = function () {\n          // Abort the request directly if it not a JPEG image for better performance\n          if (xhr.getResponseHeader('content-type') !== MIME_TYPE_JPEG) {\n            xhr.abort();\n          }\n        };\n\n        xhr.onload = function () {\n          _this.read(xhr.response);\n        };\n\n        xhr.onloadend = function () {\n          _this.reloading = false;\n          _this.xhr = null;\n        }; // Bust cache when there is a \"crossOrigin\" property to avoid browser cache error\n\n\n        if (options.checkCrossOrigin && isCrossOriginURL(url) && element.crossOrigin) {\n          url = addTimestamp(url);\n        } // The third parameter is required for avoiding side-effect (#682)\n\n\n        xhr.open('GET', url, true);\n        xhr.responseType = 'arraybuffer';\n        xhr.withCredentials = element.crossOrigin === 'use-credentials';\n        xhr.send();\n      }\n    }, {\n      key: \"read\",\n      value: function read(arrayBuffer) {\n        var options = this.options,\n            imageData = this.imageData; // Reset the orientation value to its default value 1\n        // as some iOS browsers will render image with its orientation\n\n        var orientation = resetAndGetOrientation(arrayBuffer);\n        var rotate = 0;\n        var scaleX = 1;\n        var scaleY = 1;\n\n        if (orientation > 1) {\n          // Generate a new URL which has the default orientation value\n          this.url = arrayBufferToDataURL(arrayBuffer, MIME_TYPE_JPEG);\n\n          var _parseOrientation = parseOrientation(orientation);\n\n          rotate = _parseOrientation.rotate;\n          scaleX = _parseOrientation.scaleX;\n          scaleY = _parseOrientation.scaleY;\n        }\n\n        if (options.rotatable) {\n          imageData.rotate = rotate;\n        }\n\n        if (options.scalable) {\n          imageData.scaleX = scaleX;\n          imageData.scaleY = scaleY;\n        }\n\n        this.clone();\n      }\n    }, {\n      key: \"clone\",\n      value: function clone() {\n        var element = this.element,\n            url = this.url;\n        var crossOrigin = element.crossOrigin;\n        var crossOriginUrl = url;\n\n        if (this.options.checkCrossOrigin && isCrossOriginURL(url)) {\n          if (!crossOrigin) {\n            crossOrigin = 'anonymous';\n          } // Bust cache when there is not a \"crossOrigin\" property (#519)\n\n\n          crossOriginUrl = addTimestamp(url);\n        }\n\n        this.crossOrigin = crossOrigin;\n        this.crossOriginUrl = crossOriginUrl;\n        var image = document.createElement('img');\n\n        if (crossOrigin) {\n          image.crossOrigin = crossOrigin;\n        }\n\n        image.src = crossOriginUrl || url;\n        image.alt = element.alt || 'The image to crop';\n        this.image = image;\n        image.onload = this.start.bind(this);\n        image.onerror = this.stop.bind(this);\n        addClass(image, CLASS_HIDE);\n        element.parentNode.insertBefore(image, element.nextSibling);\n      }\n    }, {\n      key: \"start\",\n      value: function start() {\n        var _this2 = this;\n\n        var image = this.image;\n        image.onload = null;\n        image.onerror = null;\n        this.sizing = true; // Match all browsers that use WebKit as the layout engine in iOS devices,\n        // such as Safari for iOS, Chrome for iOS, and in-app browsers.\n\n        var isIOSWebKit = WINDOW.navigator && /(?:iPad|iPhone|iPod).*?AppleWebKit/i.test(WINDOW.navigator.userAgent);\n\n        var done = function done(naturalWidth, naturalHeight) {\n          assign(_this2.imageData, {\n            naturalWidth: naturalWidth,\n            naturalHeight: naturalHeight,\n            aspectRatio: naturalWidth / naturalHeight\n          });\n          _this2.initialImageData = assign({}, _this2.imageData);\n          _this2.sizing = false;\n          _this2.sized = true;\n\n          _this2.build();\n        }; // Most modern browsers (excepts iOS WebKit)\n\n\n        if (image.naturalWidth && !isIOSWebKit) {\n          done(image.naturalWidth, image.naturalHeight);\n          return;\n        }\n\n        var sizingImage = document.createElement('img');\n        var body = document.body || document.documentElement;\n        this.sizingImage = sizingImage;\n\n        sizingImage.onload = function () {\n          done(sizingImage.width, sizingImage.height);\n\n          if (!isIOSWebKit) {\n            body.removeChild(sizingImage);\n          }\n        };\n\n        sizingImage.src = image.src; // iOS WebKit will convert the image automatically\n        // with its orientation once append it into DOM (#279)\n\n        if (!isIOSWebKit) {\n          sizingImage.style.cssText = 'left:0;' + 'max-height:none!important;' + 'max-width:none!important;' + 'min-height:0!important;' + 'min-width:0!important;' + 'opacity:0;' + 'position:absolute;' + 'top:0;' + 'z-index:-1;';\n          body.appendChild(sizingImage);\n        }\n      }\n    }, {\n      key: \"stop\",\n      value: function stop() {\n        var image = this.image;\n        image.onload = null;\n        image.onerror = null;\n        image.parentNode.removeChild(image);\n        this.image = null;\n      }\n    }, {\n      key: \"build\",\n      value: function build() {\n        if (!this.sized || this.ready) {\n          return;\n        }\n\n        var element = this.element,\n            options = this.options,\n            image = this.image; // Create cropper elements\n\n        var container = element.parentNode;\n        var template = document.createElement('div');\n        template.innerHTML = TEMPLATE;\n        var cropper = template.querySelector(\".\".concat(NAMESPACE, \"-container\"));\n        var canvas = cropper.querySelector(\".\".concat(NAMESPACE, \"-canvas\"));\n        var dragBox = cropper.querySelector(\".\".concat(NAMESPACE, \"-drag-box\"));\n        var cropBox = cropper.querySelector(\".\".concat(NAMESPACE, \"-crop-box\"));\n        var face = cropBox.querySelector(\".\".concat(NAMESPACE, \"-face\"));\n        this.container = container;\n        this.cropper = cropper;\n        this.canvas = canvas;\n        this.dragBox = dragBox;\n        this.cropBox = cropBox;\n        this.viewBox = cropper.querySelector(\".\".concat(NAMESPACE, \"-view-box\"));\n        this.face = face;\n        canvas.appendChild(image); // Hide the original image\n\n        addClass(element, CLASS_HIDDEN); // Inserts the cropper after to the current image\n\n        container.insertBefore(cropper, element.nextSibling); // Show the image if is hidden\n\n        if (!this.isImg) {\n          removeClass(image, CLASS_HIDE);\n        }\n\n        this.initPreview();\n        this.bind();\n        options.initialAspectRatio = Math.max(0, options.initialAspectRatio) || NaN;\n        options.aspectRatio = Math.max(0, options.aspectRatio) || NaN;\n        options.viewMode = Math.max(0, Math.min(3, Math.round(options.viewMode))) || 0;\n        addClass(cropBox, CLASS_HIDDEN);\n\n        if (!options.guides) {\n          addClass(cropBox.getElementsByClassName(\"\".concat(NAMESPACE, \"-dashed\")), CLASS_HIDDEN);\n        }\n\n        if (!options.center) {\n          addClass(cropBox.getElementsByClassName(\"\".concat(NAMESPACE, \"-center\")), CLASS_HIDDEN);\n        }\n\n        if (options.background) {\n          addClass(cropper, \"\".concat(NAMESPACE, \"-bg\"));\n        }\n\n        if (!options.highlight) {\n          addClass(face, CLASS_INVISIBLE);\n        }\n\n        if (options.cropBoxMovable) {\n          addClass(face, CLASS_MOVE);\n          setData(face, DATA_ACTION, ACTION_ALL);\n        }\n\n        if (!options.cropBoxResizable) {\n          addClass(cropBox.getElementsByClassName(\"\".concat(NAMESPACE, \"-line\")), CLASS_HIDDEN);\n          addClass(cropBox.getElementsByClassName(\"\".concat(NAMESPACE, \"-point\")), CLASS_HIDDEN);\n        }\n\n        this.render();\n        this.ready = true;\n        this.setDragMode(options.dragMode);\n\n        if (options.autoCrop) {\n          this.crop();\n        }\n\n        this.setData(options.data);\n\n        if (isFunction(options.ready)) {\n          addListener(element, EVENT_READY, options.ready, {\n            once: true\n          });\n        }\n\n        dispatchEvent(element, EVENT_READY);\n      }\n    }, {\n      key: \"unbuild\",\n      value: function unbuild() {\n        if (!this.ready) {\n          return;\n        }\n\n        this.ready = false;\n        this.unbind();\n        this.resetPreview();\n        this.cropper.parentNode.removeChild(this.cropper);\n        removeClass(this.element, CLASS_HIDDEN);\n      }\n    }, {\n      key: \"uncreate\",\n      value: function uncreate() {\n        if (this.ready) {\n          this.unbuild();\n          this.ready = false;\n          this.cropped = false;\n        } else if (this.sizing) {\n          this.sizingImage.onload = null;\n          this.sizing = false;\n          this.sized = false;\n        } else if (this.reloading) {\n          this.xhr.onabort = null;\n          this.xhr.abort();\n        } else if (this.image) {\n          this.stop();\n        }\n      }\n      /**\n       * Get the no conflict cropper class.\n       * @returns {Cropper} The cropper class.\n       */\n\n    }], [{\n      key: \"noConflict\",\n      value: function noConflict() {\n        window.Cropper = AnotherCropper;\n        return Cropper;\n      }\n      /**\n       * Change the default options.\n       * @param {Object} options - The new default options.\n       */\n\n    }, {\n      key: \"setDefaults\",\n      value: function setDefaults(options) {\n        assign(DEFAULTS, isPlainObject(options) && options);\n      }\n    }]);\n\n    return Cropper;\n  }();\n\n  assign(Cropper.prototype, render, preview, events, handlers, change, methods);\n\n  return Cropper;\n\n})));\n", "/* script */\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\nconst __vue_script__ = {\n\tname: \"ProgressRing\",\n\tprops: {\n\t\tprimary: String,\n\t\tsecondary: String,\n\t\tradius: Number,\n\t\tprogress: Number,\n\t\tstroke: Number\n\t},\n\tdata() {\n\t\tconst normalizedRadius = this.radius - this.stroke * 2;\n\t\tconst circumference = normalizedRadius * 2 * Math.PI;\n\n\t\treturn {\n\t\t\tnormalizedRadius,\n\t\t\tcircumference\n\t\t};\n\t},\n\tcomputed: {\n\t\tstrokeDashoffset() {\n\t\t\treturn (\n\t\t\t\tthis.circumference - (this.progress / 100) * this.circumference\n\t\t\t);\n\t\t}\n\t}\n};\n\n/* template */\nvar __vue_render__ = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n  return _c(\n    \"svg\",\n    { attrs: { height: _vm.radius * 2, width: _vm.radius * 2 } },\n    [\n      _c(\"circle\", {\n        style: {\n          stroke: _vm.secondary,\n          strokeDashoffset: 0\n        },\n        attrs: {\n          \"stroke-dasharray\": _vm.circumference + \" \" + _vm.circumference,\n          \"stroke-width\": _vm.stroke,\n          fill: \"transparent\",\n          r: _vm.normalizedRadius,\n          cx: _vm.radius,\n          cy: _vm.radius\n        }\n      }),\n      _vm._v(\" \"),\n      _c(\"circle\", {\n        style: {\n          stroke: _vm.primary,\n          strokeDashoffset: _vm.strokeDashoffset\n        },\n        attrs: {\n          \"stroke-dasharray\": _vm.circumference + \" \" + _vm.circumference,\n          \"stroke-width\": _vm.stroke,\n          fill: \"transparent\",\n          r: _vm.normalizedRadius,\n          cx: _vm.radius,\n          cy: _vm.radius\n        }\n      }),\n      _vm._v(\" \"),\n      _c(\n        \"text\",\n        {\n          style: {\n            color: \"var(--text-color)\",\n            fontSize: \"var(--text-xs)\",\n            fontWeight: \"var(--text-bold)\"\n          },\n          attrs: {\n            \"dominant-baseline\": \"middle\",\n            \"text-anchor\": \"middle\",\n            x: _vm.radius,\n            y: _vm.radius\n          }\n        },\n        [_vm._v(\"\\n\\t\\t\" + _vm._s(_vm.progress) + \"%\\n\\t\")]\n      )\n    ]\n  )\n}\nvar __vue_staticRenderFns__ = []\n__vue_render__._withStripped = true\n\n  /* style */\n  const __vue_inject_styles__ = function (inject) {\n    if (!inject) return\n    inject(\"data-v-05e56655_0\", { source: \"\\ncircle[data-v-05e56655] {\\n\\ttransition: stroke-dashoffset 0.35s;\\n\\ttransform: rotate(-90deg);\\n\\ttransform-origin: 50% 50%;\\n}\\n\", map: {\"version\":3,\"sources\":[\"../chdnext/chdnext/public/js/chdnext/file_uploader/ProgressRing.vue\"],\"names\":[],\"mappings\":\";AAsEA;CACA,mCAAA;CACA,yBAAA;CACA,yBAAA;AACA\",\"file\":\"ProgressRing.vue\",\"sourcesContent\":[\"<template>\\n\\t<svg :height=\\\"radius * 2\\\" :width=\\\"radius * 2\\\">\\n\\t\\t<circle\\n\\t\\t\\t:stroke-dasharray=\\\"circumference + ' ' + circumference\\\"\\n\\t\\t\\t:style=\\\"{\\n\\t\\t\\t\\tstroke: secondary,\\n\\t\\t\\t\\tstrokeDashoffset: 0\\n\\t\\t\\t}\\\"\\n\\t\\t\\t:stroke-width=\\\"stroke\\\"\\n\\t\\t\\tfill=\\\"transparent\\\"\\n\\t\\t\\t:r=\\\"normalizedRadius\\\"\\n\\t\\t\\t:cx=\\\"radius\\\"\\n\\t\\t\\t:cy=\\\"radius\\\"\\n\\t\\t/>\\n\\t\\t<circle\\n\\t\\t\\t:stroke-dasharray=\\\"circumference + ' ' + circumference\\\"\\n\\t\\t\\t:style=\\\"{\\n\\t\\t\\t\\tstroke: primary,\\n\\t\\t\\t\\tstrokeDashoffset: strokeDashoffset\\n\\t\\t\\t}\\\"\\n\\t\\t\\t:stroke-width=\\\"stroke\\\"\\n\\t\\t\\tfill=\\\"transparent\\\"\\n\\t\\t\\t:r=\\\"normalizedRadius\\\"\\n\\t\\t\\t:cx=\\\"radius\\\"\\n\\t\\t\\t:cy=\\\"radius\\\"\\n\\t\\t/>\\n\\t\\t<text\\n\\t\\t\\tdominant-baseline=\\\"middle\\\"\\n\\t\\t\\ttext-anchor=\\\"middle\\\"\\n\\t\\t\\t:x=\\\"radius\\\"\\n\\t\\t\\t:y=\\\"radius\\\"\\n\\t\\t\\t:style=\\\"{\\n\\t\\t\\t\\tcolor: 'var(--text-color)',\\n\\t\\t\\t\\tfontSize: 'var(--text-xs)',\\n\\t\\t\\t\\tfontWeight: 'var(--text-bold)'\\n\\t\\t\\t}\\\"\\n\\t\\t>\\n\\t\\t\\t{{ progress }}%\\n\\t\\t</text>\\n\\t</svg>\\n</template>\\n<script>\\nexport default {\\n\\tname: \\\"ProgressRing\\\",\\n\\tprops: {\\n\\t\\tprimary: String,\\n\\t\\tsecondary: String,\\n\\t\\tradius: Number,\\n\\t\\tprogress: Number,\\n\\t\\tstroke: Number\\n\\t},\\n\\tdata() {\\n\\t\\tconst normalizedRadius = this.radius - this.stroke * 2;\\n\\t\\tconst circumference = normalizedRadius * 2 * Math.PI;\\n\\n\\t\\treturn {\\n\\t\\t\\tnormalizedRadius,\\n\\t\\t\\tcircumference\\n\\t\\t};\\n\\t},\\n\\tcomputed: {\\n\\t\\tstrokeDashoffset() {\\n\\t\\t\\treturn (\\n\\t\\t\\t\\tthis.circumference - (this.progress / 100) * this.circumference\\n\\t\\t\\t);\\n\\t\\t}\\n\\t}\\n};\\n</script>\\n<style scoped>\\ncircle {\\n\\ttransition: stroke-dashoffset 0.35s;\\n\\ttransform: rotate(-90deg);\\n\\ttransform-origin: 50% 50%;\\n}\\n</style>\\n\"]}, media: undefined })\n\n  }\n  /* scoped */\n  const __vue_scope_id__ = \"data-v-05e56655\"\n  /* module identifier */\n  const __vue_module_identifier__ = undefined\n  /* functional template */\n  const __vue_is_functional_template__ = false\n  /* component normalizer */\n  function __vue_normalize__(\n    template, style, script,\n    scope, functional, moduleIdentifier, shadowMode,\n    createInjector, createInjectorSSR, createInjectorShadow\n  ) {\n    const component = (typeof script === 'function' ? script.options : script) || {}\n\n    // For security concerns, we use only base name in production mode.\n    component.__file = \"<template>\\n\\t<svg :height=\\\"radius * 2\\\" :width=\\\"radius * 2\\\">\\n\\t\\t<circle\\n\\t\\t\\t:stroke-dasharray=\\\"circumference + ' ' + circumference\\\"\\n\\t\\t\\t:style=\\\"{\\n\\t\\t\\t\\tstroke: secondary,\\n\\t\\t\\t\\tstrokeDashoffset: 0\\n\\t\\t\\t}\\\"\\n\\t\\t\\t:stroke-width=\\\"stroke\\\"\\n\\t\\t\\tfill=\\\"transparent\\\"\\n\\t\\t\\t:r=\\\"normalizedRadius\\\"\\n\\t\\t\\t:cx=\\\"radius\\\"\\n\\t\\t\\t:cy=\\\"radius\\\"\\n\\t\\t/>\\n\\t\\t<circle\\n\\t\\t\\t:stroke-dasharray=\\\"circumference + ' ' + circumference\\\"\\n\\t\\t\\t:style=\\\"{\\n\\t\\t\\t\\tstroke: primary,\\n\\t\\t\\t\\tstrokeDashoffset: strokeDashoffset\\n\\t\\t\\t}\\\"\\n\\t\\t\\t:stroke-width=\\\"stroke\\\"\\n\\t\\t\\tfill=\\\"transparent\\\"\\n\\t\\t\\t:r=\\\"normalizedRadius\\\"\\n\\t\\t\\t:cx=\\\"radius\\\"\\n\\t\\t\\t:cy=\\\"radius\\\"\\n\\t\\t/>\\n\\t\\t<text\\n\\t\\t\\tdominant-baseline=\\\"middle\\\"\\n\\t\\t\\ttext-anchor=\\\"middle\\\"\\n\\t\\t\\t:x=\\\"radius\\\"\\n\\t\\t\\t:y=\\\"radius\\\"\\n\\t\\t\\t:style=\\\"{\\n\\t\\t\\t\\tcolor: 'var(--text-color)',\\n\\t\\t\\t\\tfontSize: 'var(--text-xs)',\\n\\t\\t\\t\\tfontWeight: 'var(--text-bold)'\\n\\t\\t\\t}\\\"\\n\\t\\t>\\n\\t\\t\\t{{ progress }}%\\n\\t\\t</text>\\n\\t</svg>\\n</template>\\n<script>\\nexport default {\\n\\tname: \\\"ProgressRing\\\",\\n\\tprops: {\\n\\t\\tprimary: String,\\n\\t\\tsecondary: String,\\n\\t\\tradius: Number,\\n\\t\\tprogress: Number,\\n\\t\\tstroke: Number\\n\\t},\\n\\tdata() {\\n\\t\\tconst normalizedRadius = this.radius - this.stroke * 2;\\n\\t\\tconst circumference = normalizedRadius * 2 * Math.PI;\\n\\n\\t\\treturn {\\n\\t\\t\\tnormalizedRadius,\\n\\t\\t\\tcircumference\\n\\t\\t};\\n\\t},\\n\\tcomputed: {\\n\\t\\tstrokeDashoffset() {\\n\\t\\t\\treturn (\\n\\t\\t\\t\\tthis.circumference - (this.progress / 100) * this.circumference\\n\\t\\t\\t);\\n\\t\\t}\\n\\t}\\n};\\n</script>\\n<style scoped>\\ncircle {\\n\\ttransition: stroke-dashoffset 0.35s;\\n\\ttransform: rotate(-90deg);\\n\\ttransform-origin: 50% 50%;\\n}\\n</style>\\n\"\n\n    if (!component.render) {\n      component.render = template.render\n      component.staticRenderFns = template.staticRenderFns\n      component._compiled = true\n\n      if (functional) component.functional = true\n    }\n\n    component._scopeId = scope\n\n    if (true) {\n      let hook\n      if (false) {\n        // In SSR.\n        hook = function(context) {\n          // 2.3 injection\n          context =\n            context || // cached call\n            (this.$vnode && this.$vnode.ssrContext) || // stateful\n            (this.parent && this.parent.$vnode && this.parent.$vnode.ssrContext) // functional\n          // 2.2 with runInNewContext: true\n          if (!context && typeof __VUE_SSR_CONTEXT__ !== 'undefined') {\n            context = __VUE_SSR_CONTEXT__\n          }\n          // inject component styles\n          if (style) {\n            style.call(this, createInjectorSSR(context))\n          }\n          // register component module identifier for async chunk inference\n          if (context && context._registeredComponents) {\n            context._registeredComponents.add(moduleIdentifier)\n          }\n        }\n        // used by ssr in case component is cached and beforeCreate\n        // never gets called\n        component._ssrRegister = hook\n      }\n      else if (style) {\n        hook = shadowMode \n          ? function(context) {\n              style.call(this, createInjectorShadow(context, this.$root.$options.shadowRoot))\n            }\n          : function(context) {\n              style.call(this, createInjector(context))\n            }\n      }\n\n      if (hook !== undefined) {\n        if (component.functional) {\n          // register for functional component in vue file\n          const originalRender = component.render\n          component.render = function renderWithStyleInjection(h, context) {\n            hook.call(context)\n            return originalRender(h, context)\n          }\n        } else {\n          // inject component registration as beforeCreate hook\n          const existing = component.beforeCreate\n          component.beforeCreate = existing ? [].concat(existing, hook) : [hook]\n        }\n      }\n    }\n\n    return component\n  }\n  /* style inject */\n  function __vue_create_injector__() {\n    const styles = __vue_create_injector__.styles || (__vue_create_injector__.styles = {})\n    const isOldIE =\n      typeof navigator !== 'undefined' &&\n      /msie [6-9]\\\\b/.test(navigator.userAgent.toLowerCase())\n\n    return function addStyle(id, css) {\n      if (document.querySelector('style[data-vue-ssr-id~=\"' + id + '\"]')) return // SSR styles are present.\n\n      const group = isOldIE ? css.media || 'default' : id\n      const style = styles[group] || (styles[group] = { ids: [], parts: [], element: undefined })\n\n      if (!style.ids.includes(id)) {\n        let code = css.source\n        let index = style.ids.length\n\n        style.ids.push(id)\n\n        if (false && css.map) {\n          // https://developer.chrome.com/devtools/docs/javascript-debugging\n          // this makes source maps inside style tags work properly in Chrome\n          code += '\\n/*# sourceURL=' + css.map.sources[0] + ' */'\n          // http://stackoverflow.com/a/26603875\n          code +=\n            '\\n/*# sourceMappingURL=data:application/json;base64,' +\n            btoa(unescape(encodeURIComponent(JSON.stringify(css.map)))) +\n            ' */'\n        }\n\n        if (isOldIE) {\n          style.element = style.element || document.querySelector('style[data-group=' + group + ']')\n        }\n\n        if (!style.element) {\n          const head = document.head || document.getElementsByTagName('head')[0]\n          const el = style.element = document.createElement('style')\n          el.type = 'text/css'\n\n          if (css.media) el.setAttribute('media', css.media)\n          if (isOldIE) {\n            el.setAttribute('data-group', group)\n            el.setAttribute('data-next-index', '0')\n          }\n\n          head.appendChild(el)\n        }\n\n        if (isOldIE) {\n          index = parseInt(style.element.getAttribute('data-next-index'))\n          style.element.setAttribute('data-next-index', index + 1)\n        }\n\n        if (style.element.styleSheet) {\n          style.parts.push(code)\n          style.element.styleSheet.cssText = style.parts\n            .filter(Boolean)\n            .join('\\n')\n        } else {\n          const textNode = document.createTextNode(code)\n          const nodes = style.element.childNodes\n          if (nodes[index]) style.element.removeChild(nodes[index])\n          if (nodes.length) style.element.insertBefore(textNode, nodes[index])\n          else style.element.appendChild(textNode)\n        }\n      }\n    }\n  }\n  /* style inject SSR */\n  \n  /* style inject shadow dom */\n  \n\n  \n  const __vue_component__ = /*#__PURE__*/__vue_normalize__(\n    { render: __vue_render__, staticRenderFns: __vue_staticRenderFns__ },\n    __vue_inject_styles__,\n    __vue_script__,\n    __vue_scope_id__,\n    __vue_is_functional_template__,\n    __vue_module_identifier__,\n    false,\n    __vue_create_injector__,\n    undefined,\n    undefined\n  )\n\n  export default __vue_component__", "/* script */\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\nimport ProgressRing from './ProgressRing.vue';\nconst __vue_script__ = {\n\tname: 'FilePreview',\n\tprops: ['file'],\n\tcomponents: {\n\t\tProgressRing\n\t},\n\tdata() {\n\t\treturn {\n\t\t\tsrc: null,\n\t\t\toptimize: this.file.optimize\n\t\t}\n\t},\n\tmounted() {\n\t\tif (this.is_image) {\n\t\t\tif (window.FileReader) {\n\t\t\t\tlet fr = new FileReader();\n\t\t\t\tfr.onload = () => this.src = fr.result;\n\t\t\t\tfr.readAsDataURL(this.file.file_obj);\n\t\t\t}\n\t\t}\n\t},\n\tfilters: {\n\t\tfile_size(value) {\n\t\t\treturn frappe.form.formatters.FileSize(value);\n\t\t},\n\t\tfile_name(value) {\n\t\t\treturn value;\n\t\t\t// return frappe.utils.file_name_ellipsis(value, 9);\n\t\t}\n\t},\n\tcomputed: {\n\t\tprivate_icon() {\n\t\t\treturn frappe.utils.icon(this.is_private ? 'lock' : 'unlock');\n\t\t},\n\t\tis_private() {\n\t\t\treturn this.file.doc ? this.file.doc.is_private : this.file.private;\n\t\t},\n\t\tuploaded() {\n\t\t\treturn this.file.request_succeeded;\n\t\t},\n\t\tis_image() {\n\t\t\treturn this.file.file_obj.type.startsWith('image');\n\t\t},\n\t\tis_optimizable() {\n\t\t\tlet is_svg = this.file.file_obj.type == 'image/svg+xml';\n\t\t\treturn this.is_image && !is_svg && !this.uploaded && !this.file.failed;\n\t\t},\n\t\tis_cropable() {\n\t\t\tlet croppable_types = ['image/jpeg', 'image/png'];\n\t\t\treturn !this.uploaded && !this.file.uploading && !this.file.failed && croppable_types.includes(this.file.file_obj.type);\n\t\t},\n\t\tprogress() {\n\t\t\tlet value = Math.round((this.file.progress * 100) / this.file.total);\n\t\t\tif (isNaN(value)) {\n\t\t\t\tvalue = 0;\n\t\t\t}\n\t\t\treturn value;\n\t\t}\n\t}\n}\n\n/* template */\nvar __vue_render__ = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n  return _c(\"div\", { staticClass: \"file-preview\" }, [\n    _c(\"div\", { staticClass: \"file-icon\" }, [\n      _vm.is_image\n        ? _c(\"img\", { attrs: { src: _vm.src, alt: _vm.file.name } })\n        : _c(\"div\", {\n            staticClass: \"fallback\",\n            domProps: { innerHTML: _vm._s(_vm.frappe.utils.icon(\"file\", \"md\")) }\n          })\n    ]),\n    _vm._v(\" \"),\n    _c(\"div\", [\n      _c(\"div\", [\n        _vm.file.doc\n          ? _c(\n              \"a\",\n              {\n                staticClass: \"flex\",\n                attrs: { href: _vm.file.doc.file_url, target: \"_blank\" }\n              },\n              [\n                _c(\"span\", { staticClass: \"file-name\" }, [\n                  _vm._v(_vm._s(_vm._f(\"file_name\")(_vm.file.name)))\n                ]),\n                _vm._v(\" \"),\n                _c(\"div\", {\n                  staticClass: \"ml-2\",\n                  domProps: { innerHTML: _vm._s(_vm.private_icon) }\n                })\n              ]\n            )\n          : _c(\"span\", { staticClass: \"flex\" }, [\n              _c(\"span\", { staticClass: \"file-name\" }, [\n                _vm._v(_vm._s(_vm._f(\"file_name\")(_vm.file.name)))\n              ]),\n              _vm._v(\" \"),\n              _c(\n                \"button\",\n                {\n                  staticClass: \"ml-2 btn-reset\",\n                  attrs: { title: _vm.__(\"Toggle Public/Private\") },\n                  on: {\n                    click: function($event) {\n                      return _vm.$emit(\"toggle_private\")\n                    }\n                  }\n                },\n                [\n                  _c(\"div\", {\n                    domProps: { innerHTML: _vm._s(_vm.private_icon) }\n                  })\n                ]\n              )\n            ])\n      ]),\n      _vm._v(\" \"),\n      _c(\"div\", [\n        _c(\"span\", { staticClass: \"file-size\" }, [\n          _vm._v(\n            \"\\n\\t\\t\\t\\t\" +\n              _vm._s(_vm._f(\"file_size\")(_vm.file.file_obj.size)) +\n              \"\\n\\t\\t\\t\"\n          )\n        ])\n      ]),\n      _vm._v(\" \"),\n      _vm.is_optimizable\n        ? _c(\"label\", { staticClass: \"optimize-checkbox\" }, [\n            _c(\"input\", {\n              attrs: { type: \"checkbox\" },\n              domProps: { checked: _vm.optimize },\n              on: {\n                change: function($event) {\n                  return _vm.$emit(\"toggle_optimize\")\n                }\n              }\n            }),\n            _vm._v(\"Optimize\")\n          ])\n        : _vm._e(),\n      _vm._v(\" \"),\n      _c(\"div\", [\n        _vm.file.error_message\n          ? _c(\"span\", { staticClass: \"file-error text-danger\" }, [\n              _vm._v(\"\\n\\t\\t\\t\\t\" + _vm._s(_vm.file.error_message) + \"\\n\\t\\t\\t\")\n            ])\n          : _vm._e()\n      ])\n    ]),\n    _vm._v(\" \"),\n    _c(\n      \"div\",\n      { staticClass: \"file-actions\" },\n      [\n        _c(\"ProgressRing\", {\n          directives: [\n            {\n              name: \"show\",\n              rawName: \"v-show\",\n              value: _vm.file.uploading && !_vm.uploaded && !_vm.file.failed,\n              expression: \"file.uploading && !uploaded && !file.failed\"\n            }\n          ],\n          attrs: {\n            primary: \"var(--primary-color)\",\n            secondary: \"var(--gray-200)\",\n            radius: 24,\n            progress: _vm.progress,\n            stroke: 3\n          }\n        }),\n        _vm._v(\" \"),\n        _vm.uploaded\n          ? _c(\"div\", {\n              domProps: {\n                innerHTML: _vm._s(_vm.frappe.utils.icon(\"solid-success\", \"lg\"))\n              }\n            })\n          : _vm._e(),\n        _vm._v(\" \"),\n        _vm.file.failed\n          ? _c(\"div\", {\n              domProps: {\n                innerHTML: _vm._s(_vm.frappe.utils.icon(\"solid-error\", \"lg\"))\n              }\n            })\n          : _vm._e(),\n        _vm._v(\" \"),\n        _c(\"div\", { staticClass: \"file-action-buttons\" }, [\n          _vm.is_cropable\n            ? _c(\"button\", {\n                staticClass: \"btn btn-crop muted\",\n                domProps: {\n                  innerHTML: _vm._s(_vm.frappe.utils.icon(\"crop\", \"md\"))\n                },\n                on: {\n                  click: function($event) {\n                    return _vm.$emit(\"toggle_image_cropper\")\n                  }\n                }\n              })\n            : _vm._e(),\n          _vm._v(\" \"),\n          !_vm.uploaded && !_vm.file.uploading && !_vm.file.failed\n            ? _c(\"button\", {\n                staticClass: \"btn muted\",\n                domProps: {\n                  innerHTML: _vm._s(_vm.frappe.utils.icon(\"delete\", \"md\"))\n                },\n                on: {\n                  click: function($event) {\n                    return _vm.$emit(\"remove\")\n                  }\n                }\n              })\n            : _vm._e()\n        ])\n      ],\n      1\n    )\n  ])\n}\nvar __vue_staticRenderFns__ = []\n__vue_render__._withStripped = true\n\n  /* style */\n  const __vue_inject_styles__ = function (inject) {\n    if (!inject) return\n    inject(\"data-v-a58c3838_0\", { source: \"\\n.file-preview {\\n\\tdisplay: flex;\\n\\talign-items: center;\\n\\tpadding: 0.75rem;\\n\\tborder: 1px solid transparent;\\n}\\n.file-preview + .file-preview {\\n\\tborder-top-color: var(--border-color);\\n}\\n.file-preview:hover {\\n\\tbackground-color: var(--bg-color);\\n\\tborder-color: var(--dark-border-color);\\n\\tborder-radius: var(--border-radius);\\n}\\n.file-preview:hover + .file-preview {\\n\\tborder-top-color: transparent;\\n}\\n.file-icon {\\n\\tborder-radius: var(--border-radius);\\n\\twidth: 2.625rem;\\n\\theight: 2.625rem;\\n\\toverflow: hidden;\\n\\tmargin-right: var(--margin-md);\\n\\tflex-shrink: 0;\\n}\\n.file-icon img {\\n\\twidth: 100%;\\n\\theight: 100%;\\n\\tobject-fit: cover;\\n}\\n.file-icon .fallback {\\n\\twidth: 100%;\\n\\theight: 100%;\\n\\tdisplay: flex;\\n\\talign-items: center;\\n\\tjustify-content: center;\\n\\tborder: 1px solid var(--border-color);\\n\\tborder-radius: var(--border-radius);\\n}\\n.file-name {\\n\\tfont-size: var(--text-base);\\n\\tfont-weight: var(--text-bold);\\n\\tcolor: var(--text-color);\\n\\tdisplay: -webkit-box;\\n\\t-webkit-line-clamp: 1;\\n\\t-webkit-box-orient: vertical;\\n\\toverflow: hidden;\\n}\\n.file-size {\\n\\tfont-size: var(--text-sm);\\n\\tcolor: var(--text-light);\\n}\\n.file-actions {\\n\\twidth: 3rem;\\n\\tflex-shrink: 0;\\n\\tmargin-left: auto;\\n\\ttext-align: center;\\n}\\n.file-actions .btn {\\n\\tpadding: var(--padding-xs);\\n\\tbox-shadow: none;\\n}\\n.file-action-buttons {\\n\\tdisplay: flex;\\n\\tjustify-content: flex-end;\\n}\\n.muted {\\n\\topacity: 0.5;\\n\\ttransition: 0.3s;\\n}\\n.muted:hover {\\n\\topacity: 1;\\n}\\n.optimize-checkbox {\\n\\tfont-size: var(--text-sm);\\n\\tcolor: var(--text-light);\\n\\tdisplay: flex;\\n\\talign-items: center;\\n\\tpadding-top: 0.25rem;\\n}\\n.file-error {\\n\\tfont-size: var(--text-sm);\\n\\tfont-weight: var(--text-bold);\\n}\\n\", map: {\"version\":3,\"sources\":[\"../chdnext/chdnext/public/js/chdnext/file_uploader/FilePreview.vue\"],\"names\":[],\"mappings\":\";AAyHA;CACA,aAAA;CACA,mBAAA;CACA,gBAAA;CACA,6BAAA;AACA;AAEA;CACA,qCAAA;AACA;AAEA;CACA,iCAAA;CACA,sCAAA;CACA,mCAAA;AACA;AAEA;CACA,6BAAA;AACA;AAEA;CACA,mCAAA;CACA,eAAA;CACA,gBAAA;CACA,gBAAA;CACA,8BAAA;CACA,cAAA;AACA;AAEA;CACA,WAAA;CACA,YAAA;CACA,iBAAA;AACA;AAEA;CACA,WAAA;CACA,YAAA;CACA,aAAA;CACA,mBAAA;CACA,uBAAA;CACA,qCAAA;CACA,mCAAA;AACA;AAEA;CACA,2BAAA;CACA,6BAAA;CACA,wBAAA;CACA,oBAAA;CACA,qBAAA;CACA,4BAAA;CACA,gBAAA;AACA;AAEA;CACA,yBAAA;CACA,wBAAA;AACA;AAEA;CACA,WAAA;CACA,cAAA;CACA,iBAAA;CACA,kBAAA;AACA;AAEA;CACA,0BAAA;CACA,gBAAA;AACA;AAEA;CACA,aAAA;CACA,yBAAA;AACA;AAEA;CACA,YAAA;CACA,gBAAA;AACA;AAEA;CACA,UAAA;AACA;AAEA;CACA,yBAAA;CACA,wBAAA;CACA,aAAA;CACA,mBAAA;CACA,oBAAA;AACA;AAEA;CACA,yBAAA;CACA,6BAAA;AACA\",\"file\":\"FilePreview.vue\",\"sourcesContent\":[\"<template>\\n\\t<div class=\\\"file-preview\\\">\\n\\t\\t<div class=\\\"file-icon\\\">\\n\\t\\t\\t<img\\n\\t\\t\\t\\tv-if=\\\"is_image\\\"\\n\\t\\t\\t\\t:src=\\\"src\\\"\\n\\t\\t\\t\\t:alt=\\\"file.name\\\"\\n\\t\\t\\t>\\n\\t\\t\\t<div class=\\\"fallback\\\" v-else v-html=\\\"frappe.utils.icon('file', 'md')\\\">\\n\\t\\t\\t</div>\\n\\t\\t</div>\\n\\t\\t<div>\\n\\t\\t\\t<div>\\n\\t\\t\\t\\t<a class=\\\"flex\\\" :href=\\\"file.doc.file_url\\\" v-if=\\\"file.doc\\\" target=\\\"_blank\\\">\\n\\t\\t\\t\\t\\t<span class=\\\"file-name\\\">{{ file.name | file_name }}</span>\\n\\t\\t\\t\\t\\t<div class=\\\"ml-2\\\" v-html=\\\"private_icon\\\"></div>\\n\\t\\t\\t\\t</a>\\n\\t\\t\\t\\t<span class=\\\"flex\\\" v-else>\\n\\t\\t\\t\\t\\t<span class=\\\"file-name\\\">{{ file.name | file_name }}</span>\\n\\t\\t\\t\\t\\t<button class=\\\"ml-2 btn-reset\\\" @click=\\\"$emit('toggle_private')\\\" :title=\\\"__('Toggle Public/Private')\\\">\\n\\t\\t\\t\\t\\t\\t<div v-html=\\\"private_icon\\\"></div>\\n\\t\\t\\t\\t\\t</button>\\n\\t\\t\\t\\t</span>\\n\\t\\t\\t</div>\\n\\n\\t\\t\\t<div>\\n\\t\\t\\t\\t<span class=\\\"file-size\\\">\\n\\t\\t\\t\\t\\t{{ file.file_obj.size | file_size }}\\n\\t\\t\\t\\t</span>\\n\\t\\t\\t</div>\\n\\t\\t\\t<label v-if=\\\"is_optimizable\\\" class=\\\"optimize-checkbox\\\"><input type=\\\"checkbox\\\" :checked=\\\"optimize\\\" @change=\\\"$emit('toggle_optimize')\\\">Optimize</label>\\n\\t\\t\\t<div>\\n\\t\\t\\t\\t<span v-if=\\\"file.error_message\\\" class=\\\"file-error text-danger\\\">\\n\\t\\t\\t\\t\\t{{ file.error_message }}\\n\\t\\t\\t\\t</span>\\n\\t\\t\\t</div>\\n\\t\\t</div>\\n\\t\\t<div class=\\\"file-actions\\\">\\n\\t\\t\\t<ProgressRing\\n\\t\\t\\t\\tv-show=\\\"file.uploading && !uploaded && !file.failed\\\"\\n\\t\\t\\t\\tprimary=\\\"var(--primary-color)\\\"\\n\\t\\t\\t\\tsecondary=\\\"var(--gray-200)\\\"\\n\\t\\t\\t\\t:radius=\\\"24\\\"\\n\\t\\t\\t\\t:progress=\\\"progress\\\"\\n\\t\\t\\t\\t:stroke=\\\"3\\\"\\n\\t\\t\\t/>\\n\\t\\t\\t<div v-if=\\\"uploaded\\\" v-html=\\\"frappe.utils.icon('solid-success', 'lg')\\\"></div>\\n\\t\\t\\t<div v-if=\\\"file.failed\\\" v-html=\\\"frappe.utils.icon('solid-error', 'lg')\\\"></div>\\n\\t\\t\\t<div class=\\\"file-action-buttons\\\">\\n\\t\\t\\t\\t<button v-if=\\\"is_cropable\\\" class=\\\"btn btn-crop muted\\\" @click=\\\"$emit('toggle_image_cropper')\\\" v-html=\\\"frappe.utils.icon('crop', 'md')\\\"></button>\\n\\t\\t\\t\\t<button v-if=\\\"!uploaded && !file.uploading && !file.failed\\\" class=\\\"btn muted\\\" @click=\\\"$emit('remove')\\\" v-html=\\\"frappe.utils.icon('delete', 'md')\\\"></button>\\n\\t\\t\\t</div>\\n\\t\\t</div>\\n\\t</div>\\n</template>\\n\\n<script>\\nimport ProgressRing from './ProgressRing.vue';\\nexport default {\\n\\tname: 'FilePreview',\\n\\tprops: ['file'],\\n\\tcomponents: {\\n\\t\\tProgressRing\\n\\t},\\n\\tdata() {\\n\\t\\treturn {\\n\\t\\t\\tsrc: null,\\n\\t\\t\\toptimize: this.file.optimize\\n\\t\\t}\\n\\t},\\n\\tmounted() {\\n\\t\\tif (this.is_image) {\\n\\t\\t\\tif (window.FileReader) {\\n\\t\\t\\t\\tlet fr = new FileReader();\\n\\t\\t\\t\\tfr.onload = () => this.src = fr.result;\\n\\t\\t\\t\\tfr.readAsDataURL(this.file.file_obj);\\n\\t\\t\\t}\\n\\t\\t}\\n\\t},\\n\\tfilters: {\\n\\t\\tfile_size(value) {\\n\\t\\t\\treturn frappe.form.formatters.FileSize(value);\\n\\t\\t},\\n\\t\\tfile_name(value) {\\n\\t\\t\\treturn value;\\n\\t\\t\\t// return frappe.utils.file_name_ellipsis(value, 9);\\n\\t\\t}\\n\\t},\\n\\tcomputed: {\\n\\t\\tprivate_icon() {\\n\\t\\t\\treturn frappe.utils.icon(this.is_private ? 'lock' : 'unlock');\\n\\t\\t},\\n\\t\\tis_private() {\\n\\t\\t\\treturn this.file.doc ? this.file.doc.is_private : this.file.private;\\n\\t\\t},\\n\\t\\tuploaded() {\\n\\t\\t\\treturn this.file.request_succeeded;\\n\\t\\t},\\n\\t\\tis_image() {\\n\\t\\t\\treturn this.file.file_obj.type.startsWith('image');\\n\\t\\t},\\n\\t\\tis_optimizable() {\\n\\t\\t\\tlet is_svg = this.file.file_obj.type == 'image/svg+xml';\\n\\t\\t\\treturn this.is_image && !is_svg && !this.uploaded && !this.file.failed;\\n\\t\\t},\\n\\t\\tis_cropable() {\\n\\t\\t\\tlet croppable_types = ['image/jpeg', 'image/png'];\\n\\t\\t\\treturn !this.uploaded && !this.file.uploading && !this.file.failed && croppable_types.includes(this.file.file_obj.type);\\n\\t\\t},\\n\\t\\tprogress() {\\n\\t\\t\\tlet value = Math.round((this.file.progress * 100) / this.file.total);\\n\\t\\t\\tif (isNaN(value)) {\\n\\t\\t\\t\\tvalue = 0;\\n\\t\\t\\t}\\n\\t\\t\\treturn value;\\n\\t\\t}\\n\\t}\\n}\\n</script>\\n\\n<style>\\n.file-preview {\\n\\tdisplay: flex;\\n\\talign-items: center;\\n\\tpadding: 0.75rem;\\n\\tborder: 1px solid transparent;\\n}\\n\\n.file-preview + .file-preview {\\n\\tborder-top-color: var(--border-color);\\n}\\n\\n.file-preview:hover {\\n\\tbackground-color: var(--bg-color);\\n\\tborder-color: var(--dark-border-color);\\n\\tborder-radius: var(--border-radius);\\n}\\n\\n.file-preview:hover + .file-preview {\\n\\tborder-top-color: transparent;\\n}\\n\\n.file-icon {\\n\\tborder-radius: var(--border-radius);\\n\\twidth: 2.625rem;\\n\\theight: 2.625rem;\\n\\toverflow: hidden;\\n\\tmargin-right: var(--margin-md);\\n\\tflex-shrink: 0;\\n}\\n\\n.file-icon img {\\n\\twidth: 100%;\\n\\theight: 100%;\\n\\tobject-fit: cover;\\n}\\n\\n.file-icon .fallback {\\n\\twidth: 100%;\\n\\theight: 100%;\\n\\tdisplay: flex;\\n\\talign-items: center;\\n\\tjustify-content: center;\\n\\tborder: 1px solid var(--border-color);\\n\\tborder-radius: var(--border-radius);\\n}\\n\\n.file-name {\\n\\tfont-size: var(--text-base);\\n\\tfont-weight: var(--text-bold);\\n\\tcolor: var(--text-color);\\n\\tdisplay: -webkit-box;\\n\\t-webkit-line-clamp: 1;\\n\\t-webkit-box-orient: vertical;\\n\\toverflow: hidden;\\n}\\n\\n.file-size {\\n\\tfont-size: var(--text-sm);\\n\\tcolor: var(--text-light);\\n}\\n\\n.file-actions {\\n\\twidth: 3rem;\\n\\tflex-shrink: 0;\\n\\tmargin-left: auto;\\n\\ttext-align: center;\\n}\\n\\n.file-actions .btn {\\n\\tpadding: var(--padding-xs);\\n\\tbox-shadow: none;\\n}\\n\\n.file-action-buttons {\\n\\tdisplay: flex;\\n\\tjustify-content: flex-end;\\n}\\n\\n.muted {\\n\\topacity: 0.5;\\n\\ttransition: 0.3s;\\n}\\n\\n.muted:hover {\\n\\topacity: 1;\\n}\\n\\n.optimize-checkbox {\\n\\tfont-size: var(--text-sm);\\n\\tcolor: var(--text-light);\\n\\tdisplay: flex;\\n\\talign-items: center;\\n\\tpadding-top: 0.25rem;\\n}\\n\\n.file-error {\\n\\tfont-size: var(--text-sm);\\n\\tfont-weight: var(--text-bold);\\n}\\n</style>\\n\"]}, media: undefined })\n\n  }\n  /* scoped */\n  const __vue_scope_id__ = undefined\n  /* module identifier */\n  const __vue_module_identifier__ = undefined\n  /* functional template */\n  const __vue_is_functional_template__ = false\n  /* component normalizer */\n  function __vue_normalize__(\n    template, style, script,\n    scope, functional, moduleIdentifier, shadowMode,\n    createInjector, createInjectorSSR, createInjectorShadow\n  ) {\n    const component = (typeof script === 'function' ? script.options : script) || {}\n\n    // For security concerns, we use only base name in production mode.\n    component.__file = \"<template>\\n\\t<div class=\\\"file-preview\\\">\\n\\t\\t<div class=\\\"file-icon\\\">\\n\\t\\t\\t<img\\n\\t\\t\\t\\tv-if=\\\"is_image\\\"\\n\\t\\t\\t\\t:src=\\\"src\\\"\\n\\t\\t\\t\\t:alt=\\\"file.name\\\"\\n\\t\\t\\t>\\n\\t\\t\\t<div class=\\\"fallback\\\" v-else v-html=\\\"frappe.utils.icon('file', 'md')\\\">\\n\\t\\t\\t</div>\\n\\t\\t</div>\\n\\t\\t<div>\\n\\t\\t\\t<div>\\n\\t\\t\\t\\t<a class=\\\"flex\\\" :href=\\\"file.doc.file_url\\\" v-if=\\\"file.doc\\\" target=\\\"_blank\\\">\\n\\t\\t\\t\\t\\t<span class=\\\"file-name\\\">{{ file.name | file_name }}</span>\\n\\t\\t\\t\\t\\t<div class=\\\"ml-2\\\" v-html=\\\"private_icon\\\"></div>\\n\\t\\t\\t\\t</a>\\n\\t\\t\\t\\t<span class=\\\"flex\\\" v-else>\\n\\t\\t\\t\\t\\t<span class=\\\"file-name\\\">{{ file.name | file_name }}</span>\\n\\t\\t\\t\\t\\t<button class=\\\"ml-2 btn-reset\\\" @click=\\\"$emit('toggle_private')\\\" :title=\\\"__('Toggle Public/Private')\\\">\\n\\t\\t\\t\\t\\t\\t<div v-html=\\\"private_icon\\\"></div>\\n\\t\\t\\t\\t\\t</button>\\n\\t\\t\\t\\t</span>\\n\\t\\t\\t</div>\\n\\n\\t\\t\\t<div>\\n\\t\\t\\t\\t<span class=\\\"file-size\\\">\\n\\t\\t\\t\\t\\t{{ file.file_obj.size | file_size }}\\n\\t\\t\\t\\t</span>\\n\\t\\t\\t</div>\\n\\t\\t\\t<label v-if=\\\"is_optimizable\\\" class=\\\"optimize-checkbox\\\"><input type=\\\"checkbox\\\" :checked=\\\"optimize\\\" @change=\\\"$emit('toggle_optimize')\\\">Optimize</label>\\n\\t\\t\\t<div>\\n\\t\\t\\t\\t<span v-if=\\\"file.error_message\\\" class=\\\"file-error text-danger\\\">\\n\\t\\t\\t\\t\\t{{ file.error_message }}\\n\\t\\t\\t\\t</span>\\n\\t\\t\\t</div>\\n\\t\\t</div>\\n\\t\\t<div class=\\\"file-actions\\\">\\n\\t\\t\\t<ProgressRing\\n\\t\\t\\t\\tv-show=\\\"file.uploading && !uploaded && !file.failed\\\"\\n\\t\\t\\t\\tprimary=\\\"var(--primary-color)\\\"\\n\\t\\t\\t\\tsecondary=\\\"var(--gray-200)\\\"\\n\\t\\t\\t\\t:radius=\\\"24\\\"\\n\\t\\t\\t\\t:progress=\\\"progress\\\"\\n\\t\\t\\t\\t:stroke=\\\"3\\\"\\n\\t\\t\\t/>\\n\\t\\t\\t<div v-if=\\\"uploaded\\\" v-html=\\\"frappe.utils.icon('solid-success', 'lg')\\\"></div>\\n\\t\\t\\t<div v-if=\\\"file.failed\\\" v-html=\\\"frappe.utils.icon('solid-error', 'lg')\\\"></div>\\n\\t\\t\\t<div class=\\\"file-action-buttons\\\">\\n\\t\\t\\t\\t<button v-if=\\\"is_cropable\\\" class=\\\"btn btn-crop muted\\\" @click=\\\"$emit('toggle_image_cropper')\\\" v-html=\\\"frappe.utils.icon('crop', 'md')\\\"></button>\\n\\t\\t\\t\\t<button v-if=\\\"!uploaded && !file.uploading && !file.failed\\\" class=\\\"btn muted\\\" @click=\\\"$emit('remove')\\\" v-html=\\\"frappe.utils.icon('delete', 'md')\\\"></button>\\n\\t\\t\\t</div>\\n\\t\\t</div>\\n\\t</div>\\n</template>\\n\\n<script>\\nimport ProgressRing from './ProgressRing.vue';\\nexport default {\\n\\tname: 'FilePreview',\\n\\tprops: ['file'],\\n\\tcomponents: {\\n\\t\\tProgressRing\\n\\t},\\n\\tdata() {\\n\\t\\treturn {\\n\\t\\t\\tsrc: null,\\n\\t\\t\\toptimize: this.file.optimize\\n\\t\\t}\\n\\t},\\n\\tmounted() {\\n\\t\\tif (this.is_image) {\\n\\t\\t\\tif (window.FileReader) {\\n\\t\\t\\t\\tlet fr = new FileReader();\\n\\t\\t\\t\\tfr.onload = () => this.src = fr.result;\\n\\t\\t\\t\\tfr.readAsDataURL(this.file.file_obj);\\n\\t\\t\\t}\\n\\t\\t}\\n\\t},\\n\\tfilters: {\\n\\t\\tfile_size(value) {\\n\\t\\t\\treturn frappe.form.formatters.FileSize(value);\\n\\t\\t},\\n\\t\\tfile_name(value) {\\n\\t\\t\\treturn value;\\n\\t\\t\\t// return frappe.utils.file_name_ellipsis(value, 9);\\n\\t\\t}\\n\\t},\\n\\tcomputed: {\\n\\t\\tprivate_icon() {\\n\\t\\t\\treturn frappe.utils.icon(this.is_private ? 'lock' : 'unlock');\\n\\t\\t},\\n\\t\\tis_private() {\\n\\t\\t\\treturn this.file.doc ? this.file.doc.is_private : this.file.private;\\n\\t\\t},\\n\\t\\tuploaded() {\\n\\t\\t\\treturn this.file.request_succeeded;\\n\\t\\t},\\n\\t\\tis_image() {\\n\\t\\t\\treturn this.file.file_obj.type.startsWith('image');\\n\\t\\t},\\n\\t\\tis_optimizable() {\\n\\t\\t\\tlet is_svg = this.file.file_obj.type == 'image/svg+xml';\\n\\t\\t\\treturn this.is_image && !is_svg && !this.uploaded && !this.file.failed;\\n\\t\\t},\\n\\t\\tis_cropable() {\\n\\t\\t\\tlet croppable_types = ['image/jpeg', 'image/png'];\\n\\t\\t\\treturn !this.uploaded && !this.file.uploading && !this.file.failed && croppable_types.includes(this.file.file_obj.type);\\n\\t\\t},\\n\\t\\tprogress() {\\n\\t\\t\\tlet value = Math.round((this.file.progress * 100) / this.file.total);\\n\\t\\t\\tif (isNaN(value)) {\\n\\t\\t\\t\\tvalue = 0;\\n\\t\\t\\t}\\n\\t\\t\\treturn value;\\n\\t\\t}\\n\\t}\\n}\\n</script>\\n\\n<style>\\n.file-preview {\\n\\tdisplay: flex;\\n\\talign-items: center;\\n\\tpadding: 0.75rem;\\n\\tborder: 1px solid transparent;\\n}\\n\\n.file-preview + .file-preview {\\n\\tborder-top-color: var(--border-color);\\n}\\n\\n.file-preview:hover {\\n\\tbackground-color: var(--bg-color);\\n\\tborder-color: var(--dark-border-color);\\n\\tborder-radius: var(--border-radius);\\n}\\n\\n.file-preview:hover + .file-preview {\\n\\tborder-top-color: transparent;\\n}\\n\\n.file-icon {\\n\\tborder-radius: var(--border-radius);\\n\\twidth: 2.625rem;\\n\\theight: 2.625rem;\\n\\toverflow: hidden;\\n\\tmargin-right: var(--margin-md);\\n\\tflex-shrink: 0;\\n}\\n\\n.file-icon img {\\n\\twidth: 100%;\\n\\theight: 100%;\\n\\tobject-fit: cover;\\n}\\n\\n.file-icon .fallback {\\n\\twidth: 100%;\\n\\theight: 100%;\\n\\tdisplay: flex;\\n\\talign-items: center;\\n\\tjustify-content: center;\\n\\tborder: 1px solid var(--border-color);\\n\\tborder-radius: var(--border-radius);\\n}\\n\\n.file-name {\\n\\tfont-size: var(--text-base);\\n\\tfont-weight: var(--text-bold);\\n\\tcolor: var(--text-color);\\n\\tdisplay: -webkit-box;\\n\\t-webkit-line-clamp: 1;\\n\\t-webkit-box-orient: vertical;\\n\\toverflow: hidden;\\n}\\n\\n.file-size {\\n\\tfont-size: var(--text-sm);\\n\\tcolor: var(--text-light);\\n}\\n\\n.file-actions {\\n\\twidth: 3rem;\\n\\tflex-shrink: 0;\\n\\tmargin-left: auto;\\n\\ttext-align: center;\\n}\\n\\n.file-actions .btn {\\n\\tpadding: var(--padding-xs);\\n\\tbox-shadow: none;\\n}\\n\\n.file-action-buttons {\\n\\tdisplay: flex;\\n\\tjustify-content: flex-end;\\n}\\n\\n.muted {\\n\\topacity: 0.5;\\n\\ttransition: 0.3s;\\n}\\n\\n.muted:hover {\\n\\topacity: 1;\\n}\\n\\n.optimize-checkbox {\\n\\tfont-size: var(--text-sm);\\n\\tcolor: var(--text-light);\\n\\tdisplay: flex;\\n\\talign-items: center;\\n\\tpadding-top: 0.25rem;\\n}\\n\\n.file-error {\\n\\tfont-size: var(--text-sm);\\n\\tfont-weight: var(--text-bold);\\n}\\n</style>\\n\"\n\n    if (!component.render) {\n      component.render = template.render\n      component.staticRenderFns = template.staticRenderFns\n      component._compiled = true\n\n      if (functional) component.functional = true\n    }\n\n    component._scopeId = scope\n\n    if (true) {\n      let hook\n      if (false) {\n        // In SSR.\n        hook = function(context) {\n          // 2.3 injection\n          context =\n            context || // cached call\n            (this.$vnode && this.$vnode.ssrContext) || // stateful\n            (this.parent && this.parent.$vnode && this.parent.$vnode.ssrContext) // functional\n          // 2.2 with runInNewContext: true\n          if (!context && typeof __VUE_SSR_CONTEXT__ !== 'undefined') {\n            context = __VUE_SSR_CONTEXT__\n          }\n          // inject component styles\n          if (style) {\n            style.call(this, createInjectorSSR(context))\n          }\n          // register component module identifier for async chunk inference\n          if (context && context._registeredComponents) {\n            context._registeredComponents.add(moduleIdentifier)\n          }\n        }\n        // used by ssr in case component is cached and beforeCreate\n        // never gets called\n        component._ssrRegister = hook\n      }\n      else if (style) {\n        hook = shadowMode \n          ? function(context) {\n              style.call(this, createInjectorShadow(context, this.$root.$options.shadowRoot))\n            }\n          : function(context) {\n              style.call(this, createInjector(context))\n            }\n      }\n\n      if (hook !== undefined) {\n        if (component.functional) {\n          // register for functional component in vue file\n          const originalRender = component.render\n          component.render = function renderWithStyleInjection(h, context) {\n            hook.call(context)\n            return originalRender(h, context)\n          }\n        } else {\n          // inject component registration as beforeCreate hook\n          const existing = component.beforeCreate\n          component.beforeCreate = existing ? [].concat(existing, hook) : [hook]\n        }\n      }\n    }\n\n    return component\n  }\n  /* style inject */\n  function __vue_create_injector__() {\n    const styles = __vue_create_injector__.styles || (__vue_create_injector__.styles = {})\n    const isOldIE =\n      typeof navigator !== 'undefined' &&\n      /msie [6-9]\\\\b/.test(navigator.userAgent.toLowerCase())\n\n    return function addStyle(id, css) {\n      if (document.querySelector('style[data-vue-ssr-id~=\"' + id + '\"]')) return // SSR styles are present.\n\n      const group = isOldIE ? css.media || 'default' : id\n      const style = styles[group] || (styles[group] = { ids: [], parts: [], element: undefined })\n\n      if (!style.ids.includes(id)) {\n        let code = css.source\n        let index = style.ids.length\n\n        style.ids.push(id)\n\n        if (false && css.map) {\n          // https://developer.chrome.com/devtools/docs/javascript-debugging\n          // this makes source maps inside style tags work properly in Chrome\n          code += '\\n/*# sourceURL=' + css.map.sources[0] + ' */'\n          // http://stackoverflow.com/a/26603875\n          code +=\n            '\\n/*# sourceMappingURL=data:application/json;base64,' +\n            btoa(unescape(encodeURIComponent(JSON.stringify(css.map)))) +\n            ' */'\n        }\n\n        if (isOldIE) {\n          style.element = style.element || document.querySelector('style[data-group=' + group + ']')\n        }\n\n        if (!style.element) {\n          const head = document.head || document.getElementsByTagName('head')[0]\n          const el = style.element = document.createElement('style')\n          el.type = 'text/css'\n\n          if (css.media) el.setAttribute('media', css.media)\n          if (isOldIE) {\n            el.setAttribute('data-group', group)\n            el.setAttribute('data-next-index', '0')\n          }\n\n          head.appendChild(el)\n        }\n\n        if (isOldIE) {\n          index = parseInt(style.element.getAttribute('data-next-index'))\n          style.element.setAttribute('data-next-index', index + 1)\n        }\n\n        if (style.element.styleSheet) {\n          style.parts.push(code)\n          style.element.styleSheet.cssText = style.parts\n            .filter(Boolean)\n            .join('\\n')\n        } else {\n          const textNode = document.createTextNode(code)\n          const nodes = style.element.childNodes\n          if (nodes[index]) style.element.removeChild(nodes[index])\n          if (nodes.length) style.element.insertBefore(textNode, nodes[index])\n          else style.element.appendChild(textNode)\n        }\n      }\n    }\n  }\n  /* style inject SSR */\n  \n  /* style inject shadow dom */\n  \n\n  \n  const __vue_component__ = /*#__PURE__*/__vue_normalize__(\n    { render: __vue_render__, staticRenderFns: __vue_staticRenderFns__ },\n    __vue_inject_styles__,\n    __vue_script__,\n    __vue_scope_id__,\n    __vue_is_functional_template__,\n    __vue_module_identifier__,\n    false,\n    __vue_create_injector__,\n    undefined,\n    undefined\n  )\n\n  export default __vue_component__", "/* script */\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\nconst __vue_script__ = {\n\tname: \"TreeNode\",\n\tprops: [\"node\", \"selected_node\"],\n\tcomponents: {\n\t\tTreeNode: () => frappe.ui.components.TreeNode\n\t},\n\tcomputed: {\n\t\ticon() {\n\t\t\tlet icons = {\n\t\t\t\topen: frappe.utils.icon(\"folder-open\", \"md\"),\n\t\t\t\tclosed: frappe.utils.icon(\"folder-normal\", \"md\"),\n\t\t\t\tleaf: frappe.utils.icon(\"primitive-dot\", \"xs\"),\n\t\t\t\tsearch: frappe.utils.icon(\"search\")\n\t\t\t};\n\n\t\t\tif (this.node.by_search) return icons.search;\n\t\t\tif (this.node.is_leaf) return icons.leaf;\n\t\t\tif (this.node.open) return icons.open;\n\t\t\treturn icons.closed;\n\t\t}\n\t}\n};\n\n/* template */\nvar __vue_render__ = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n  return _c(\n    \"div\",\n    { staticClass: \"tree-node\", class: { opened: _vm.node.open } },\n    [\n      _c(\n        \"span\",\n        {\n          staticClass: \"tree-link\",\n          class: { active: _vm.node.value === _vm.selected_node.value },\n          attrs: { disabled: _vm.node.fetching },\n          on: {\n            click: function($event) {\n              return _vm.$emit(\"node-click\", _vm.node)\n            }\n          }\n        },\n        [\n          _c(\"div\", { domProps: { innerHTML: _vm._s(_vm.icon) } }),\n          _vm._v(\" \"),\n          _c(\"a\", { staticClass: \"tree-label\" }, [\n            _vm._v(_vm._s(_vm.node.label))\n          ])\n        ]\n      ),\n      _vm._v(\" \"),\n      _c(\n        \"ul\",\n        {\n          directives: [\n            {\n              name: \"show\",\n              rawName: \"v-show\",\n              value: _vm.node.open,\n              expression: \"node.open\"\n            }\n          ],\n          staticClass: \"tree-children\"\n        },\n        [\n          _vm._l(_vm.node.children, function(n) {\n            return _c(\"TreeNode\", {\n              key: n.value,\n              attrs: { node: n, selected_node: _vm.selected_node },\n              on: {\n                \"node-click\": function(n) {\n                  return _vm.$emit(\"node-click\", n)\n                },\n                \"load-more\": function(n) {\n                  return _vm.$emit(\"load-more\", n)\n                }\n              }\n            })\n          }),\n          _vm._v(\" \"),\n          _vm.node.has_more_children\n            ? _c(\n                \"button\",\n                {\n                  staticClass: \"btn btn-xs btn-load-more\",\n                  attrs: { disabled: _vm.node.children_loading },\n                  on: {\n                    click: function($event) {\n                      return _vm.$emit(\"load-more\", _vm.node)\n                    }\n                  }\n                },\n                [\n                  _vm._v(\n                    \"\\n\\t\\t\\t\" +\n                      _vm._s(\n                        _vm.node.children_loading\n                          ? _vm.__(\"Loading...\")\n                          : _vm.__(\"Load more\")\n                      ) +\n                      \"\\n\\t\\t\"\n                  )\n                ]\n              )\n            : _vm._e()\n        ],\n        2\n      )\n    ]\n  )\n}\nvar __vue_staticRenderFns__ = []\n__vue_render__._withStripped = true\n\n  /* style */\n  const __vue_inject_styles__ = function (inject) {\n    if (!inject) return\n    inject(\"data-v-1445ac8a_0\", { source: \"\\n.btn-load-more[data-v-1445ac8a] {\\n\\tmargin-left: 1.6rem;\\n\\tmargin-top: 0.5rem;\\n}\\n\", map: {\"version\":3,\"sources\":[\"../chdnext/chdnext/public/js/chdnext/file_uploader/TreeNode.vue\"],\"names\":[],\"mappings\":\";AAwDA;CACA,mBAAA;CACA,kBAAA;AACA\",\"file\":\"TreeNode.vue\",\"sourcesContent\":[\"<template>\\n\\t<div class=\\\"tree-node\\\" :class=\\\"{ opened: node.open }\\\">\\n\\t\\t<span\\n\\t\\t\\tclass=\\\"tree-link\\\"\\n\\t\\t\\t@click=\\\"$emit('node-click', node)\\\"\\n\\t\\t\\t:class=\\\"{ active: node.value === selected_node.value }\\\"\\n\\t\\t\\t:disabled=\\\"node.fetching\\\"\\n\\t\\t>\\n\\t\\t\\t<div v-html=\\\"icon\\\"></div>\\n\\t\\t\\t<a class=\\\"tree-label\\\">{{ node.label }}</a>\\n\\t\\t</span>\\n\\t\\t<ul class=\\\"tree-children\\\" v-show=\\\"node.open\\\">\\n\\t\\t\\t<TreeNode\\n\\t\\t\\t\\tv-for=\\\"n in node.children\\\"\\n\\t\\t\\t\\t:key=\\\"n.value\\\"\\n\\t\\t\\t\\t:node=\\\"n\\\"\\n\\t\\t\\t\\t:selected_node=\\\"selected_node\\\"\\n\\t\\t\\t\\t@node-click=\\\"n => $emit('node-click', n)\\\"\\n\\t\\t\\t\\t@load-more=\\\"n => $emit('load-more', n)\\\"\\n\\t\\t\\t/>\\n\\t\\t\\t<button\\n\\t\\t\\t\\tclass=\\\"btn btn-xs btn-load-more\\\"\\n\\t\\t\\t\\tv-if=\\\"node.has_more_children\\\"\\n\\t\\t\\t\\t@click=\\\"$emit('load-more', node)\\\"\\n\\t\\t\\t\\t:disabled=\\\"node.children_loading\\\"\\n\\t\\t\\t>\\n\\t\\t\\t\\t{{ node.children_loading ? __(\\\"Loading...\\\") : __(\\\"Load more\\\") }}\\n\\t\\t\\t</button>\\n\\t\\t</ul>\\n\\t</div>\\n</template>\\n<script>\\nexport default {\\n\\tname: \\\"TreeNode\\\",\\n\\tprops: [\\\"node\\\", \\\"selected_node\\\"],\\n\\tcomponents: {\\n\\t\\tTreeNode: () => frappe.ui.components.TreeNode\\n\\t},\\n\\tcomputed: {\\n\\t\\ticon() {\\n\\t\\t\\tlet icons = {\\n\\t\\t\\t\\topen: frappe.utils.icon(\\\"folder-open\\\", \\\"md\\\"),\\n\\t\\t\\t\\tclosed: frappe.utils.icon(\\\"folder-normal\\\", \\\"md\\\"),\\n\\t\\t\\t\\tleaf: frappe.utils.icon(\\\"primitive-dot\\\", \\\"xs\\\"),\\n\\t\\t\\t\\tsearch: frappe.utils.icon(\\\"search\\\")\\n\\t\\t\\t};\\n\\n\\t\\t\\tif (this.node.by_search) return icons.search;\\n\\t\\t\\tif (this.node.is_leaf) return icons.leaf;\\n\\t\\t\\tif (this.node.open) return icons.open;\\n\\t\\t\\treturn icons.closed;\\n\\t\\t}\\n\\t}\\n};\\n</script>\\n<style scoped>\\n.btn-load-more {\\n\\tmargin-left: 1.6rem;\\n\\tmargin-top: 0.5rem;\\n}\\n</style>\\n\"]}, media: undefined })\n\n  }\n  /* scoped */\n  const __vue_scope_id__ = \"data-v-1445ac8a\"\n  /* module identifier */\n  const __vue_module_identifier__ = undefined\n  /* functional template */\n  const __vue_is_functional_template__ = false\n  /* component normalizer */\n  function __vue_normalize__(\n    template, style, script,\n    scope, functional, moduleIdentifier, shadowMode,\n    createInjector, createInjectorSSR, createInjectorShadow\n  ) {\n    const component = (typeof script === 'function' ? script.options : script) || {}\n\n    // For security concerns, we use only base name in production mode.\n    component.__file = \"<template>\\n\\t<div class=\\\"tree-node\\\" :class=\\\"{ opened: node.open }\\\">\\n\\t\\t<span\\n\\t\\t\\tclass=\\\"tree-link\\\"\\n\\t\\t\\t@click=\\\"$emit('node-click', node)\\\"\\n\\t\\t\\t:class=\\\"{ active: node.value === selected_node.value }\\\"\\n\\t\\t\\t:disabled=\\\"node.fetching\\\"\\n\\t\\t>\\n\\t\\t\\t<div v-html=\\\"icon\\\"></div>\\n\\t\\t\\t<a class=\\\"tree-label\\\">{{ node.label }}</a>\\n\\t\\t</span>\\n\\t\\t<ul class=\\\"tree-children\\\" v-show=\\\"node.open\\\">\\n\\t\\t\\t<TreeNode\\n\\t\\t\\t\\tv-for=\\\"n in node.children\\\"\\n\\t\\t\\t\\t:key=\\\"n.value\\\"\\n\\t\\t\\t\\t:node=\\\"n\\\"\\n\\t\\t\\t\\t:selected_node=\\\"selected_node\\\"\\n\\t\\t\\t\\t@node-click=\\\"n => $emit('node-click', n)\\\"\\n\\t\\t\\t\\t@load-more=\\\"n => $emit('load-more', n)\\\"\\n\\t\\t\\t/>\\n\\t\\t\\t<button\\n\\t\\t\\t\\tclass=\\\"btn btn-xs btn-load-more\\\"\\n\\t\\t\\t\\tv-if=\\\"node.has_more_children\\\"\\n\\t\\t\\t\\t@click=\\\"$emit('load-more', node)\\\"\\n\\t\\t\\t\\t:disabled=\\\"node.children_loading\\\"\\n\\t\\t\\t>\\n\\t\\t\\t\\t{{ node.children_loading ? __(\\\"Loading...\\\") : __(\\\"Load more\\\") }}\\n\\t\\t\\t</button>\\n\\t\\t</ul>\\n\\t</div>\\n</template>\\n<script>\\nexport default {\\n\\tname: \\\"TreeNode\\\",\\n\\tprops: [\\\"node\\\", \\\"selected_node\\\"],\\n\\tcomponents: {\\n\\t\\tTreeNode: () => frappe.ui.components.TreeNode\\n\\t},\\n\\tcomputed: {\\n\\t\\ticon() {\\n\\t\\t\\tlet icons = {\\n\\t\\t\\t\\topen: frappe.utils.icon(\\\"folder-open\\\", \\\"md\\\"),\\n\\t\\t\\t\\tclosed: frappe.utils.icon(\\\"folder-normal\\\", \\\"md\\\"),\\n\\t\\t\\t\\tleaf: frappe.utils.icon(\\\"primitive-dot\\\", \\\"xs\\\"),\\n\\t\\t\\t\\tsearch: frappe.utils.icon(\\\"search\\\")\\n\\t\\t\\t};\\n\\n\\t\\t\\tif (this.node.by_search) return icons.search;\\n\\t\\t\\tif (this.node.is_leaf) return icons.leaf;\\n\\t\\t\\tif (this.node.open) return icons.open;\\n\\t\\t\\treturn icons.closed;\\n\\t\\t}\\n\\t}\\n};\\n</script>\\n<style scoped>\\n.btn-load-more {\\n\\tmargin-left: 1.6rem;\\n\\tmargin-top: 0.5rem;\\n}\\n</style>\\n\"\n\n    if (!component.render) {\n      component.render = template.render\n      component.staticRenderFns = template.staticRenderFns\n      component._compiled = true\n\n      if (functional) component.functional = true\n    }\n\n    component._scopeId = scope\n\n    if (true) {\n      let hook\n      if (false) {\n        // In SSR.\n        hook = function(context) {\n          // 2.3 injection\n          context =\n            context || // cached call\n            (this.$vnode && this.$vnode.ssrContext) || // stateful\n            (this.parent && this.parent.$vnode && this.parent.$vnode.ssrContext) // functional\n          // 2.2 with runInNewContext: true\n          if (!context && typeof __VUE_SSR_CONTEXT__ !== 'undefined') {\n            context = __VUE_SSR_CONTEXT__\n          }\n          // inject component styles\n          if (style) {\n            style.call(this, createInjectorSSR(context))\n          }\n          // register component module identifier for async chunk inference\n          if (context && context._registeredComponents) {\n            context._registeredComponents.add(moduleIdentifier)\n          }\n        }\n        // used by ssr in case component is cached and beforeCreate\n        // never gets called\n        component._ssrRegister = hook\n      }\n      else if (style) {\n        hook = shadowMode \n          ? function(context) {\n              style.call(this, createInjectorShadow(context, this.$root.$options.shadowRoot))\n            }\n          : function(context) {\n              style.call(this, createInjector(context))\n            }\n      }\n\n      if (hook !== undefined) {\n        if (component.functional) {\n          // register for functional component in vue file\n          const originalRender = component.render\n          component.render = function renderWithStyleInjection(h, context) {\n            hook.call(context)\n            return originalRender(h, context)\n          }\n        } else {\n          // inject component registration as beforeCreate hook\n          const existing = component.beforeCreate\n          component.beforeCreate = existing ? [].concat(existing, hook) : [hook]\n        }\n      }\n    }\n\n    return component\n  }\n  /* style inject */\n  function __vue_create_injector__() {\n    const styles = __vue_create_injector__.styles || (__vue_create_injector__.styles = {})\n    const isOldIE =\n      typeof navigator !== 'undefined' &&\n      /msie [6-9]\\\\b/.test(navigator.userAgent.toLowerCase())\n\n    return function addStyle(id, css) {\n      if (document.querySelector('style[data-vue-ssr-id~=\"' + id + '\"]')) return // SSR styles are present.\n\n      const group = isOldIE ? css.media || 'default' : id\n      const style = styles[group] || (styles[group] = { ids: [], parts: [], element: undefined })\n\n      if (!style.ids.includes(id)) {\n        let code = css.source\n        let index = style.ids.length\n\n        style.ids.push(id)\n\n        if (false && css.map) {\n          // https://developer.chrome.com/devtools/docs/javascript-debugging\n          // this makes source maps inside style tags work properly in Chrome\n          code += '\\n/*# sourceURL=' + css.map.sources[0] + ' */'\n          // http://stackoverflow.com/a/26603875\n          code +=\n            '\\n/*# sourceMappingURL=data:application/json;base64,' +\n            btoa(unescape(encodeURIComponent(JSON.stringify(css.map)))) +\n            ' */'\n        }\n\n        if (isOldIE) {\n          style.element = style.element || document.querySelector('style[data-group=' + group + ']')\n        }\n\n        if (!style.element) {\n          const head = document.head || document.getElementsByTagName('head')[0]\n          const el = style.element = document.createElement('style')\n          el.type = 'text/css'\n\n          if (css.media) el.setAttribute('media', css.media)\n          if (isOldIE) {\n            el.setAttribute('data-group', group)\n            el.setAttribute('data-next-index', '0')\n          }\n\n          head.appendChild(el)\n        }\n\n        if (isOldIE) {\n          index = parseInt(style.element.getAttribute('data-next-index'))\n          style.element.setAttribute('data-next-index', index + 1)\n        }\n\n        if (style.element.styleSheet) {\n          style.parts.push(code)\n          style.element.styleSheet.cssText = style.parts\n            .filter(Boolean)\n            .join('\\n')\n        } else {\n          const textNode = document.createTextNode(code)\n          const nodes = style.element.childNodes\n          if (nodes[index]) style.element.removeChild(nodes[index])\n          if (nodes.length) style.element.insertBefore(textNode, nodes[index])\n          else style.element.appendChild(textNode)\n        }\n      }\n    }\n  }\n  /* style inject SSR */\n  \n  /* style inject shadow dom */\n  \n\n  \n  const __vue_component__ = /*#__PURE__*/__vue_normalize__(\n    { render: __vue_render__, staticRenderFns: __vue_staticRenderFns__ },\n    __vue_inject_styles__,\n    __vue_script__,\n    __vue_scope_id__,\n    __vue_is_functional_template__,\n    __vue_module_identifier__,\n    false,\n    __vue_create_injector__,\n    undefined,\n    undefined\n  )\n\n  export default __vue_component__", "/* script */\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\nimport TreeNode from \"./TreeNode.vue\";\n\nconst __vue_script__ = {\n\tname: \"FileBrowser\",\n\tcomponents: {\n\t\tTreeNode\n\t},\n\tdata() {\n\t\treturn {\n\t\t\tnode: {\n\t\t\t\tlabel: __(\"Home\"),\n\t\t\t\tvalue: \"Home\",\n\t\t\t\tchildren: [],\n\t\t\t\tchildren_start: 0,\n\t\t\t\tchildren_loading: false,\n\t\t\t\tis_leaf: false,\n\t\t\t\tfetching: false,\n\t\t\t\tfetched: false,\n\t\t\t\topen: false,\n\t\t\t\tfiltered: true\n\t\t\t},\n\t\t\tselected_node: {},\n\t\t\tsearch_text: \"\",\n\t\t\tpage_length: 10\n\t\t};\n\t},\n\tmounted() {\n\t\tthis.toggle_node(this.node);\n\t},\n\tmethods: {\n\t\ttoggle_node(node) {\n\t\t\tif (!node.fetched && !node.is_leaf) {\n\t\t\t\tnode.fetching = true;\n\t\t\t\tnode.children_start = 0;\n\t\t\t\tnode.children_loading = false;\n\t\t\t\tthis.get_files_in_folder(node.value, 0).then(\n\t\t\t\t\t({ files, has_more }) => {\n\t\t\t\t\t\tnode.open = true;\n\t\t\t\t\t\tnode.children = files;\n\t\t\t\t\t\tnode.fetched = true;\n\t\t\t\t\t\tnode.fetching = false;\n\t\t\t\t\t\tnode.children_start += this.page_length;\n\t\t\t\t\t\tnode.has_more_children = has_more;\n\t\t\t\t\t}\n\t\t\t\t);\n\t\t\t} else {\n\t\t\t\tnode.open = !node.open;\n\t\t\t\tthis.select_node(node);\n\t\t\t}\n\t\t},\n\t\tload_more(node) {\n\t\t\tif (node.has_more_children) {\n\t\t\t\tlet start = node.children_start;\n\t\t\t\tnode.children_loading = true;\n\t\t\t\tthis.get_files_in_folder(node.value, start).then(\n\t\t\t\t\t({ files, has_more }) => {\n\t\t\t\t\t\tnode.children = node.children.concat(files);\n\t\t\t\t\t\tnode.children_start += this.page_length;\n\t\t\t\t\t\tnode.has_more_children = has_more;\n\t\t\t\t\t\tnode.children_loading = false;\n\t\t\t\t\t}\n\t\t\t\t);\n\t\t\t}\n\t\t},\n\t\tselect_node(node) {\n\t\t\tif (node.is_leaf) {\n\t\t\t\tthis.selected_node = node;\n\t\t\t}\n\t\t},\n\t\tget_files_in_folder(folder, start) {\n\t\t\treturn frappe\n\t\t\t\t.call(\"frappe.core.doctype.file.file.get_files_in_folder\", {\n\t\t\t\t\tfolder,\n\t\t\t\t\tstart,\n\t\t\t\t\tpage_length: this.page_length\n\t\t\t\t})\n\t\t\t\t.then(r => {\n\t\t\t\t\tlet { files = [], has_more = false } = r.message || {};\n\t\t\t\t\tfiles.sort((a, b) => {\n\t\t\t\t\t\tif (a.is_folder && b.is_folder) {\n\t\t\t\t\t\t\treturn a.modified < b.modified ? -1 : 1;\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif (a.is_folder) {\n\t\t\t\t\t\t\treturn -1;\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif (b.is_folder) {\n\t\t\t\t\t\t\treturn 1;\n\t\t\t\t\t\t}\n\t\t\t\t\t\treturn 0;\n\t\t\t\t\t});\n\t\t\t\t\tfiles = files.map(file => this.make_file_node(file));\n\t\t\t\t\treturn { files, has_more };\n\t\t\t\t});\n\t\t},\n\t\tsearch_by_name: frappe.utils.debounce(function() {\n\t\t\tif (this.search_text === \"\") {\n\t\t\t\tthis.node = this.folder_node;\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tif (this.search_text.length < 3) return;\n\t\t\tfrappe\n\t\t\t\t.call(\n\t\t\t\t\t\"frappe.core.doctype.file.file.get_files_by_search_text\",\n\t\t\t\t\t{\n\t\t\t\t\t\ttext: this.search_text\n\t\t\t\t\t}\n\t\t\t\t)\n\t\t\t\t.then(r => {\n\t\t\t\t\tlet files = r.message || [];\n\t\t\t\t\tfiles = files.map(file => this.make_file_node(file));\n\t\t\t\t\tif (!this.folder_node) {\n\t\t\t\t\t\tthis.folder_node = this.node;\n\t\t\t\t\t}\n\t\t\t\t\tthis.node = {\n\t\t\t\t\t\tlabel: __(\"Search Results\"),\n\t\t\t\t\t\tvalue: \"\",\n\t\t\t\t\t\tchildren: files,\n\t\t\t\t\t\tby_search: true,\n\t\t\t\t\t\topen: true,\n\t\t\t\t\t\tfiltered: true\n\t\t\t\t\t};\n\t\t\t\t});\n\t\t}, 300),\n\t\tmake_file_node(file) {\n\t\t\tlet filename = file.file_name || file.name;\n\t\t\tlet label = frappe.utils.file_name_ellipsis(filename, 40);\n\t\t\treturn {\n\t\t\t\tlabel: label,\n\t\t\t\tfilename: filename,\n\t\t\t\tfile_url: file.file_url,\n\t\t\t\tvalue: file.name,\n\t\t\t\tis_leaf: !file.is_folder,\n\t\t\t\tfetched: !file.is_folder, // fetched if node is leaf\n\t\t\t\tchildren: [],\n\t\t\t\tchildren_loading: false,\n\t\t\t\tchildren_start: 0,\n\t\t\t\topen: false,\n\t\t\t\tfetching: false,\n\t\t\t\tfiltered: true\n\t\t\t};\n\t\t}\n\t}\n};\n\n/* template */\nvar __vue_render__ = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n  return _c(\"div\", { staticClass: \"file-browser\" }, [\n    _c(\"div\", [\n      _c(\n        \"a\",\n        {\n          staticClass: \"text-muted text-medium\",\n          attrs: { href: \"\" },\n          on: {\n            click: function($event) {\n              $event.preventDefault()\n              return _vm.$emit(\"hide-browser\")\n            }\n          }\n        },\n        [\n          _vm._v(\n            \"\\n\\t\\t\\t\" + _vm._s(_vm.__(\"\u2190 Back to upload files\")) + \"\\n\\t\\t\"\n          )\n        ]\n      )\n    ]),\n    _vm._v(\" \"),\n    _c(\n      \"div\",\n      { staticClass: \"file-browser-list\" },\n      [\n        _c(\"div\", { staticClass: \"file-filter\" }, [\n          _c(\"input\", {\n            directives: [\n              {\n                name: \"model\",\n                rawName: \"v-model\",\n                value: _vm.search_text,\n                expression: \"search_text\"\n              }\n            ],\n            staticClass: \"form-control input-xs\",\n            attrs: {\n              type: \"search\",\n              placeholder: _vm.__(\"Search by filename or extension\")\n            },\n            domProps: { value: _vm.search_text },\n            on: {\n              input: [\n                function($event) {\n                  if ($event.target.composing) {\n                    return\n                  }\n                  _vm.search_text = $event.target.value\n                },\n                _vm.search_by_name\n              ]\n            }\n          })\n        ]),\n        _vm._v(\" \"),\n        _c(\"TreeNode\", {\n          staticClass: \"tree with-skeleton\",\n          attrs: { node: _vm.node, selected_node: _vm.selected_node },\n          on: {\n            \"node-click\": function(n) {\n              return _vm.toggle_node(n)\n            },\n            \"load-more\": function(n) {\n              return _vm.load_more(n)\n            }\n          }\n        })\n      ],\n      1\n    )\n  ])\n}\nvar __vue_staticRenderFns__ = []\n__vue_render__._withStripped = true\n\n  /* style */\n  const __vue_inject_styles__ = function (inject) {\n    if (!inject) return\n    inject(\"data-v-52523eee_0\", { source: \"\\n.file-browser-list {\\n\\theight: 300px;\\n\\toverflow: hidden;\\n\\tmargin-top: 10px;\\n}\\n.file-filter {\\n\\tpadding: 3px;\\n}\\n.tree {\\n\\toverflow: auto;\\n\\theight: 100%;\\n\\tpadding-left: 0;\\n\\tpadding-right: 0;\\n\\tpadding-bottom: 4rem;\\n}\\n\", map: {\"version\":3,\"sources\":[\"../chdnext/chdnext/public/js/chdnext/file_uploader/FileBrowser.vue\"],\"names\":[],\"mappings\":\";AAkLA;CACA,aAAA;CACA,gBAAA;CACA,gBAAA;AACA;AAEA;CACA,YAAA;AACA;AAEA;CACA,cAAA;CACA,YAAA;CACA,eAAA;CACA,gBAAA;CACA,oBAAA;AACA\",\"file\":\"FileBrowser.vue\",\"sourcesContent\":[\"<template>\\n\\t<div class=\\\"file-browser\\\">\\n\\t\\t<div>\\n\\t\\t\\t<a\\n\\t\\t\\t\\thref=\\\"\\\"\\n\\t\\t\\t\\tclass=\\\"text-muted text-medium\\\"\\n\\t\\t\\t\\t@click.prevent=\\\"$emit('hide-browser')\\\"\\n\\t\\t\\t>\\n\\t\\t\\t\\t{{ __(\\\"\u2190 Back to upload files\\\") }}\\n\\t\\t\\t</a>\\n\\t\\t</div>\\n\\t\\t<div class=\\\"file-browser-list\\\">\\n\\t\\t\\t<div class=\\\"file-filter\\\">\\n\\t\\t\\t\\t<input\\n\\t\\t\\t\\t\\ttype=\\\"search\\\"\\n\\t\\t\\t\\t\\tclass=\\\"form-control input-xs\\\"\\n\\t\\t\\t\\t\\t:placeholder=\\\"__('Search by filename or extension')\\\"\\n\\t\\t\\t\\t\\tv-model=\\\"search_text\\\"\\n\\t\\t\\t\\t\\t@input=\\\"search_by_name\\\"\\n\\t\\t\\t\\t/>\\n\\t\\t\\t</div>\\n\\t\\t\\t<TreeNode\\n\\t\\t\\t\\tclass=\\\"tree with-skeleton\\\"\\n\\t\\t\\t\\t:node=\\\"node\\\"\\n\\t\\t\\t\\t:selected_node=\\\"selected_node\\\"\\n\\t\\t\\t\\t@node-click=\\\"n => toggle_node(n)\\\"\\n\\t\\t\\t\\t@load-more=\\\"n => load_more(n)\\\"\\n\\t\\t\\t/>\\n\\t\\t</div>\\n\\t</div>\\n</template>\\n<script>\\nimport TreeNode from \\\"./TreeNode.vue\\\";\\n\\nexport default {\\n\\tname: \\\"FileBrowser\\\",\\n\\tcomponents: {\\n\\t\\tTreeNode\\n\\t},\\n\\tdata() {\\n\\t\\treturn {\\n\\t\\t\\tnode: {\\n\\t\\t\\t\\tlabel: __(\\\"Home\\\"),\\n\\t\\t\\t\\tvalue: \\\"Home\\\",\\n\\t\\t\\t\\tchildren: [],\\n\\t\\t\\t\\tchildren_start: 0,\\n\\t\\t\\t\\tchildren_loading: false,\\n\\t\\t\\t\\tis_leaf: false,\\n\\t\\t\\t\\tfetching: false,\\n\\t\\t\\t\\tfetched: false,\\n\\t\\t\\t\\topen: false,\\n\\t\\t\\t\\tfiltered: true\\n\\t\\t\\t},\\n\\t\\t\\tselected_node: {},\\n\\t\\t\\tsearch_text: \\\"\\\",\\n\\t\\t\\tpage_length: 10\\n\\t\\t};\\n\\t},\\n\\tmounted() {\\n\\t\\tthis.toggle_node(this.node);\\n\\t},\\n\\tmethods: {\\n\\t\\ttoggle_node(node) {\\n\\t\\t\\tif (!node.fetched && !node.is_leaf) {\\n\\t\\t\\t\\tnode.fetching = true;\\n\\t\\t\\t\\tnode.children_start = 0;\\n\\t\\t\\t\\tnode.children_loading = false;\\n\\t\\t\\t\\tthis.get_files_in_folder(node.value, 0).then(\\n\\t\\t\\t\\t\\t({ files, has_more }) => {\\n\\t\\t\\t\\t\\t\\tnode.open = true;\\n\\t\\t\\t\\t\\t\\tnode.children = files;\\n\\t\\t\\t\\t\\t\\tnode.fetched = true;\\n\\t\\t\\t\\t\\t\\tnode.fetching = false;\\n\\t\\t\\t\\t\\t\\tnode.children_start += this.page_length;\\n\\t\\t\\t\\t\\t\\tnode.has_more_children = has_more;\\n\\t\\t\\t\\t\\t}\\n\\t\\t\\t\\t);\\n\\t\\t\\t} else {\\n\\t\\t\\t\\tnode.open = !node.open;\\n\\t\\t\\t\\tthis.select_node(node);\\n\\t\\t\\t}\\n\\t\\t},\\n\\t\\tload_more(node) {\\n\\t\\t\\tif (node.has_more_children) {\\n\\t\\t\\t\\tlet start = node.children_start;\\n\\t\\t\\t\\tnode.children_loading = true;\\n\\t\\t\\t\\tthis.get_files_in_folder(node.value, start).then(\\n\\t\\t\\t\\t\\t({ files, has_more }) => {\\n\\t\\t\\t\\t\\t\\tnode.children = node.children.concat(files);\\n\\t\\t\\t\\t\\t\\tnode.children_start += this.page_length;\\n\\t\\t\\t\\t\\t\\tnode.has_more_children = has_more;\\n\\t\\t\\t\\t\\t\\tnode.children_loading = false;\\n\\t\\t\\t\\t\\t}\\n\\t\\t\\t\\t);\\n\\t\\t\\t}\\n\\t\\t},\\n\\t\\tselect_node(node) {\\n\\t\\t\\tif (node.is_leaf) {\\n\\t\\t\\t\\tthis.selected_node = node;\\n\\t\\t\\t}\\n\\t\\t},\\n\\t\\tget_files_in_folder(folder, start) {\\n\\t\\t\\treturn frappe\\n\\t\\t\\t\\t.call(\\\"frappe.core.doctype.file.file.get_files_in_folder\\\", {\\n\\t\\t\\t\\t\\tfolder,\\n\\t\\t\\t\\t\\tstart,\\n\\t\\t\\t\\t\\tpage_length: this.page_length\\n\\t\\t\\t\\t})\\n\\t\\t\\t\\t.then(r => {\\n\\t\\t\\t\\t\\tlet { files = [], has_more = false } = r.message || {};\\n\\t\\t\\t\\t\\tfiles.sort((a, b) => {\\n\\t\\t\\t\\t\\t\\tif (a.is_folder && b.is_folder) {\\n\\t\\t\\t\\t\\t\\t\\treturn a.modified < b.modified ? -1 : 1;\\n\\t\\t\\t\\t\\t\\t}\\n\\t\\t\\t\\t\\t\\tif (a.is_folder) {\\n\\t\\t\\t\\t\\t\\t\\treturn -1;\\n\\t\\t\\t\\t\\t\\t}\\n\\t\\t\\t\\t\\t\\tif (b.is_folder) {\\n\\t\\t\\t\\t\\t\\t\\treturn 1;\\n\\t\\t\\t\\t\\t\\t}\\n\\t\\t\\t\\t\\t\\treturn 0;\\n\\t\\t\\t\\t\\t});\\n\\t\\t\\t\\t\\tfiles = files.map(file => this.make_file_node(file));\\n\\t\\t\\t\\t\\treturn { files, has_more };\\n\\t\\t\\t\\t});\\n\\t\\t},\\n\\t\\tsearch_by_name: frappe.utils.debounce(function() {\\n\\t\\t\\tif (this.search_text === \\\"\\\") {\\n\\t\\t\\t\\tthis.node = this.folder_node;\\n\\t\\t\\t\\treturn;\\n\\t\\t\\t}\\n\\t\\t\\tif (this.search_text.length < 3) return;\\n\\t\\t\\tfrappe\\n\\t\\t\\t\\t.call(\\n\\t\\t\\t\\t\\t\\\"frappe.core.doctype.file.file.get_files_by_search_text\\\",\\n\\t\\t\\t\\t\\t{\\n\\t\\t\\t\\t\\t\\ttext: this.search_text\\n\\t\\t\\t\\t\\t}\\n\\t\\t\\t\\t)\\n\\t\\t\\t\\t.then(r => {\\n\\t\\t\\t\\t\\tlet files = r.message || [];\\n\\t\\t\\t\\t\\tfiles = files.map(file => this.make_file_node(file));\\n\\t\\t\\t\\t\\tif (!this.folder_node) {\\n\\t\\t\\t\\t\\t\\tthis.folder_node = this.node;\\n\\t\\t\\t\\t\\t}\\n\\t\\t\\t\\t\\tthis.node = {\\n\\t\\t\\t\\t\\t\\tlabel: __(\\\"Search Results\\\"),\\n\\t\\t\\t\\t\\t\\tvalue: \\\"\\\",\\n\\t\\t\\t\\t\\t\\tchildren: files,\\n\\t\\t\\t\\t\\t\\tby_search: true,\\n\\t\\t\\t\\t\\t\\topen: true,\\n\\t\\t\\t\\t\\t\\tfiltered: true\\n\\t\\t\\t\\t\\t};\\n\\t\\t\\t\\t});\\n\\t\\t}, 300),\\n\\t\\tmake_file_node(file) {\\n\\t\\t\\tlet filename = file.file_name || file.name;\\n\\t\\t\\tlet label = frappe.utils.file_name_ellipsis(filename, 40);\\n\\t\\t\\treturn {\\n\\t\\t\\t\\tlabel: label,\\n\\t\\t\\t\\tfilename: filename,\\n\\t\\t\\t\\tfile_url: file.file_url,\\n\\t\\t\\t\\tvalue: file.name,\\n\\t\\t\\t\\tis_leaf: !file.is_folder,\\n\\t\\t\\t\\tfetched: !file.is_folder, // fetched if node is leaf\\n\\t\\t\\t\\tchildren: [],\\n\\t\\t\\t\\tchildren_loading: false,\\n\\t\\t\\t\\tchildren_start: 0,\\n\\t\\t\\t\\topen: false,\\n\\t\\t\\t\\tfetching: false,\\n\\t\\t\\t\\tfiltered: true\\n\\t\\t\\t};\\n\\t\\t}\\n\\t}\\n};\\n</script>\\n\\n<style>\\n.file-browser-list {\\n\\theight: 300px;\\n\\toverflow: hidden;\\n\\tmargin-top: 10px;\\n}\\n\\n.file-filter {\\n\\tpadding: 3px;\\n}\\n\\n.tree {\\n\\toverflow: auto;\\n\\theight: 100%;\\n\\tpadding-left: 0;\\n\\tpadding-right: 0;\\n\\tpadding-bottom: 4rem;\\n}\\n</style>\\n\"]}, media: undefined })\n\n  }\n  /* scoped */\n  const __vue_scope_id__ = undefined\n  /* module identifier */\n  const __vue_module_identifier__ = undefined\n  /* functional template */\n  const __vue_is_functional_template__ = false\n  /* component normalizer */\n  function __vue_normalize__(\n    template, style, script,\n    scope, functional, moduleIdentifier, shadowMode,\n    createInjector, createInjectorSSR, createInjectorShadow\n  ) {\n    const component = (typeof script === 'function' ? script.options : script) || {}\n\n    // For security concerns, we use only base name in production mode.\n    component.__file = \"<template>\\n\\t<div class=\\\"file-browser\\\">\\n\\t\\t<div>\\n\\t\\t\\t<a\\n\\t\\t\\t\\thref=\\\"\\\"\\n\\t\\t\\t\\tclass=\\\"text-muted text-medium\\\"\\n\\t\\t\\t\\t@click.prevent=\\\"$emit('hide-browser')\\\"\\n\\t\\t\\t>\\n\\t\\t\\t\\t{{ __(\\\"\u2190 Back to upload files\\\") }}\\n\\t\\t\\t</a>\\n\\t\\t</div>\\n\\t\\t<div class=\\\"file-browser-list\\\">\\n\\t\\t\\t<div class=\\\"file-filter\\\">\\n\\t\\t\\t\\t<input\\n\\t\\t\\t\\t\\ttype=\\\"search\\\"\\n\\t\\t\\t\\t\\tclass=\\\"form-control input-xs\\\"\\n\\t\\t\\t\\t\\t:placeholder=\\\"__('Search by filename or extension')\\\"\\n\\t\\t\\t\\t\\tv-model=\\\"search_text\\\"\\n\\t\\t\\t\\t\\t@input=\\\"search_by_name\\\"\\n\\t\\t\\t\\t/>\\n\\t\\t\\t</div>\\n\\t\\t\\t<TreeNode\\n\\t\\t\\t\\tclass=\\\"tree with-skeleton\\\"\\n\\t\\t\\t\\t:node=\\\"node\\\"\\n\\t\\t\\t\\t:selected_node=\\\"selected_node\\\"\\n\\t\\t\\t\\t@node-click=\\\"n => toggle_node(n)\\\"\\n\\t\\t\\t\\t@load-more=\\\"n => load_more(n)\\\"\\n\\t\\t\\t/>\\n\\t\\t</div>\\n\\t</div>\\n</template>\\n<script>\\nimport TreeNode from \\\"./TreeNode.vue\\\";\\n\\nexport default {\\n\\tname: \\\"FileBrowser\\\",\\n\\tcomponents: {\\n\\t\\tTreeNode\\n\\t},\\n\\tdata() {\\n\\t\\treturn {\\n\\t\\t\\tnode: {\\n\\t\\t\\t\\tlabel: __(\\\"Home\\\"),\\n\\t\\t\\t\\tvalue: \\\"Home\\\",\\n\\t\\t\\t\\tchildren: [],\\n\\t\\t\\t\\tchildren_start: 0,\\n\\t\\t\\t\\tchildren_loading: false,\\n\\t\\t\\t\\tis_leaf: false,\\n\\t\\t\\t\\tfetching: false,\\n\\t\\t\\t\\tfetched: false,\\n\\t\\t\\t\\topen: false,\\n\\t\\t\\t\\tfiltered: true\\n\\t\\t\\t},\\n\\t\\t\\tselected_node: {},\\n\\t\\t\\tsearch_text: \\\"\\\",\\n\\t\\t\\tpage_length: 10\\n\\t\\t};\\n\\t},\\n\\tmounted() {\\n\\t\\tthis.toggle_node(this.node);\\n\\t},\\n\\tmethods: {\\n\\t\\ttoggle_node(node) {\\n\\t\\t\\tif (!node.fetched && !node.is_leaf) {\\n\\t\\t\\t\\tnode.fetching = true;\\n\\t\\t\\t\\tnode.children_start = 0;\\n\\t\\t\\t\\tnode.children_loading = false;\\n\\t\\t\\t\\tthis.get_files_in_folder(node.value, 0).then(\\n\\t\\t\\t\\t\\t({ files, has_more }) => {\\n\\t\\t\\t\\t\\t\\tnode.open = true;\\n\\t\\t\\t\\t\\t\\tnode.children = files;\\n\\t\\t\\t\\t\\t\\tnode.fetched = true;\\n\\t\\t\\t\\t\\t\\tnode.fetching = false;\\n\\t\\t\\t\\t\\t\\tnode.children_start += this.page_length;\\n\\t\\t\\t\\t\\t\\tnode.has_more_children = has_more;\\n\\t\\t\\t\\t\\t}\\n\\t\\t\\t\\t);\\n\\t\\t\\t} else {\\n\\t\\t\\t\\tnode.open = !node.open;\\n\\t\\t\\t\\tthis.select_node(node);\\n\\t\\t\\t}\\n\\t\\t},\\n\\t\\tload_more(node) {\\n\\t\\t\\tif (node.has_more_children) {\\n\\t\\t\\t\\tlet start = node.children_start;\\n\\t\\t\\t\\tnode.children_loading = true;\\n\\t\\t\\t\\tthis.get_files_in_folder(node.value, start).then(\\n\\t\\t\\t\\t\\t({ files, has_more }) => {\\n\\t\\t\\t\\t\\t\\tnode.children = node.children.concat(files);\\n\\t\\t\\t\\t\\t\\tnode.children_start += this.page_length;\\n\\t\\t\\t\\t\\t\\tnode.has_more_children = has_more;\\n\\t\\t\\t\\t\\t\\tnode.children_loading = false;\\n\\t\\t\\t\\t\\t}\\n\\t\\t\\t\\t);\\n\\t\\t\\t}\\n\\t\\t},\\n\\t\\tselect_node(node) {\\n\\t\\t\\tif (node.is_leaf) {\\n\\t\\t\\t\\tthis.selected_node = node;\\n\\t\\t\\t}\\n\\t\\t},\\n\\t\\tget_files_in_folder(folder, start) {\\n\\t\\t\\treturn frappe\\n\\t\\t\\t\\t.call(\\\"frappe.core.doctype.file.file.get_files_in_folder\\\", {\\n\\t\\t\\t\\t\\tfolder,\\n\\t\\t\\t\\t\\tstart,\\n\\t\\t\\t\\t\\tpage_length: this.page_length\\n\\t\\t\\t\\t})\\n\\t\\t\\t\\t.then(r => {\\n\\t\\t\\t\\t\\tlet { files = [], has_more = false } = r.message || {};\\n\\t\\t\\t\\t\\tfiles.sort((a, b) => {\\n\\t\\t\\t\\t\\t\\tif (a.is_folder && b.is_folder) {\\n\\t\\t\\t\\t\\t\\t\\treturn a.modified < b.modified ? -1 : 1;\\n\\t\\t\\t\\t\\t\\t}\\n\\t\\t\\t\\t\\t\\tif (a.is_folder) {\\n\\t\\t\\t\\t\\t\\t\\treturn -1;\\n\\t\\t\\t\\t\\t\\t}\\n\\t\\t\\t\\t\\t\\tif (b.is_folder) {\\n\\t\\t\\t\\t\\t\\t\\treturn 1;\\n\\t\\t\\t\\t\\t\\t}\\n\\t\\t\\t\\t\\t\\treturn 0;\\n\\t\\t\\t\\t\\t});\\n\\t\\t\\t\\t\\tfiles = files.map(file => this.make_file_node(file));\\n\\t\\t\\t\\t\\treturn { files, has_more };\\n\\t\\t\\t\\t});\\n\\t\\t},\\n\\t\\tsearch_by_name: frappe.utils.debounce(function() {\\n\\t\\t\\tif (this.search_text === \\\"\\\") {\\n\\t\\t\\t\\tthis.node = this.folder_node;\\n\\t\\t\\t\\treturn;\\n\\t\\t\\t}\\n\\t\\t\\tif (this.search_text.length < 3) return;\\n\\t\\t\\tfrappe\\n\\t\\t\\t\\t.call(\\n\\t\\t\\t\\t\\t\\\"frappe.core.doctype.file.file.get_files_by_search_text\\\",\\n\\t\\t\\t\\t\\t{\\n\\t\\t\\t\\t\\t\\ttext: this.search_text\\n\\t\\t\\t\\t\\t}\\n\\t\\t\\t\\t)\\n\\t\\t\\t\\t.then(r => {\\n\\t\\t\\t\\t\\tlet files = r.message || [];\\n\\t\\t\\t\\t\\tfiles = files.map(file => this.make_file_node(file));\\n\\t\\t\\t\\t\\tif (!this.folder_node) {\\n\\t\\t\\t\\t\\t\\tthis.folder_node = this.node;\\n\\t\\t\\t\\t\\t}\\n\\t\\t\\t\\t\\tthis.node = {\\n\\t\\t\\t\\t\\t\\tlabel: __(\\\"Search Results\\\"),\\n\\t\\t\\t\\t\\t\\tvalue: \\\"\\\",\\n\\t\\t\\t\\t\\t\\tchildren: files,\\n\\t\\t\\t\\t\\t\\tby_search: true,\\n\\t\\t\\t\\t\\t\\topen: true,\\n\\t\\t\\t\\t\\t\\tfiltered: true\\n\\t\\t\\t\\t\\t};\\n\\t\\t\\t\\t});\\n\\t\\t}, 300),\\n\\t\\tmake_file_node(file) {\\n\\t\\t\\tlet filename = file.file_name || file.name;\\n\\t\\t\\tlet label = frappe.utils.file_name_ellipsis(filename, 40);\\n\\t\\t\\treturn {\\n\\t\\t\\t\\tlabel: label,\\n\\t\\t\\t\\tfilename: filename,\\n\\t\\t\\t\\tfile_url: file.file_url,\\n\\t\\t\\t\\tvalue: file.name,\\n\\t\\t\\t\\tis_leaf: !file.is_folder,\\n\\t\\t\\t\\tfetched: !file.is_folder, // fetched if node is leaf\\n\\t\\t\\t\\tchildren: [],\\n\\t\\t\\t\\tchildren_loading: false,\\n\\t\\t\\t\\tchildren_start: 0,\\n\\t\\t\\t\\topen: false,\\n\\t\\t\\t\\tfetching: false,\\n\\t\\t\\t\\tfiltered: true\\n\\t\\t\\t};\\n\\t\\t}\\n\\t}\\n};\\n</script>\\n\\n<style>\\n.file-browser-list {\\n\\theight: 300px;\\n\\toverflow: hidden;\\n\\tmargin-top: 10px;\\n}\\n\\n.file-filter {\\n\\tpadding: 3px;\\n}\\n\\n.tree {\\n\\toverflow: auto;\\n\\theight: 100%;\\n\\tpadding-left: 0;\\n\\tpadding-right: 0;\\n\\tpadding-bottom: 4rem;\\n}\\n</style>\\n\"\n\n    if (!component.render) {\n      component.render = template.render\n      component.staticRenderFns = template.staticRenderFns\n      component._compiled = true\n\n      if (functional) component.functional = true\n    }\n\n    component._scopeId = scope\n\n    if (true) {\n      let hook\n      if (false) {\n        // In SSR.\n        hook = function(context) {\n          // 2.3 injection\n          context =\n            context || // cached call\n            (this.$vnode && this.$vnode.ssrContext) || // stateful\n            (this.parent && this.parent.$vnode && this.parent.$vnode.ssrContext) // functional\n          // 2.2 with runInNewContext: true\n          if (!context && typeof __VUE_SSR_CONTEXT__ !== 'undefined') {\n            context = __VUE_SSR_CONTEXT__\n          }\n          // inject component styles\n          if (style) {\n            style.call(this, createInjectorSSR(context))\n          }\n          // register component module identifier for async chunk inference\n          if (context && context._registeredComponents) {\n            context._registeredComponents.add(moduleIdentifier)\n          }\n        }\n        // used by ssr in case component is cached and beforeCreate\n        // never gets called\n        component._ssrRegister = hook\n      }\n      else if (style) {\n        hook = shadowMode \n          ? function(context) {\n              style.call(this, createInjectorShadow(context, this.$root.$options.shadowRoot))\n            }\n          : function(context) {\n              style.call(this, createInjector(context))\n            }\n      }\n\n      if (hook !== undefined) {\n        if (component.functional) {\n          // register for functional component in vue file\n          const originalRender = component.render\n          component.render = function renderWithStyleInjection(h, context) {\n            hook.call(context)\n            return originalRender(h, context)\n          }\n        } else {\n          // inject component registration as beforeCreate hook\n          const existing = component.beforeCreate\n          component.beforeCreate = existing ? [].concat(existing, hook) : [hook]\n        }\n      }\n    }\n\n    return component\n  }\n  /* style inject */\n  function __vue_create_injector__() {\n    const styles = __vue_create_injector__.styles || (__vue_create_injector__.styles = {})\n    const isOldIE =\n      typeof navigator !== 'undefined' &&\n      /msie [6-9]\\\\b/.test(navigator.userAgent.toLowerCase())\n\n    return function addStyle(id, css) {\n      if (document.querySelector('style[data-vue-ssr-id~=\"' + id + '\"]')) return // SSR styles are present.\n\n      const group = isOldIE ? css.media || 'default' : id\n      const style = styles[group] || (styles[group] = { ids: [], parts: [], element: undefined })\n\n      if (!style.ids.includes(id)) {\n        let code = css.source\n        let index = style.ids.length\n\n        style.ids.push(id)\n\n        if (false && css.map) {\n          // https://developer.chrome.com/devtools/docs/javascript-debugging\n          // this makes source maps inside style tags work properly in Chrome\n          code += '\\n/*# sourceURL=' + css.map.sources[0] + ' */'\n          // http://stackoverflow.com/a/26603875\n          code +=\n            '\\n/*# sourceMappingURL=data:application/json;base64,' +\n            btoa(unescape(encodeURIComponent(JSON.stringify(css.map)))) +\n            ' */'\n        }\n\n        if (isOldIE) {\n          style.element = style.element || document.querySelector('style[data-group=' + group + ']')\n        }\n\n        if (!style.element) {\n          const head = document.head || document.getElementsByTagName('head')[0]\n          const el = style.element = document.createElement('style')\n          el.type = 'text/css'\n\n          if (css.media) el.setAttribute('media', css.media)\n          if (isOldIE) {\n            el.setAttribute('data-group', group)\n            el.setAttribute('data-next-index', '0')\n          }\n\n          head.appendChild(el)\n        }\n\n        if (isOldIE) {\n          index = parseInt(style.element.getAttribute('data-next-index'))\n          style.element.setAttribute('data-next-index', index + 1)\n        }\n\n        if (style.element.styleSheet) {\n          style.parts.push(code)\n          style.element.styleSheet.cssText = style.parts\n            .filter(Boolean)\n            .join('\\n')\n        } else {\n          const textNode = document.createTextNode(code)\n          const nodes = style.element.childNodes\n          if (nodes[index]) style.element.removeChild(nodes[index])\n          if (nodes.length) style.element.insertBefore(textNode, nodes[index])\n          else style.element.appendChild(textNode)\n        }\n      }\n    }\n  }\n  /* style inject SSR */\n  \n  /* style inject shadow dom */\n  \n\n  \n  const __vue_component__ = /*#__PURE__*/__vue_normalize__(\n    { render: __vue_render__, staticRenderFns: __vue_staticRenderFns__ },\n    __vue_inject_styles__,\n    __vue_script__,\n    __vue_scope_id__,\n    __vue_is_functional_template__,\n    __vue_module_identifier__,\n    false,\n    __vue_create_injector__,\n    undefined,\n    undefined\n  )\n\n  export default __vue_component__", "/* script */\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\nconst __vue_script__ = {\n\tname: 'WebLink',\n\tdata() {\n\t\treturn {\n\t\t\turl: '',\n\t\t}\n\t}\n}\n\n/* template */\nvar __vue_render__ = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n  return _c(\"div\", { staticClass: \"file-web-link margin-bottom\" }, [\n    _c(\n      \"a\",\n      {\n        staticClass: \"text-muted text-medium\",\n        attrs: { href: \"\" },\n        on: {\n          click: function($event) {\n            $event.preventDefault()\n            return _vm.$emit(\"hide-web-link\")\n          }\n        }\n      },\n      [_vm._v(\"\\n\\t\\t\" + _vm._s(_vm.__(\"\u2190 Back to upload files\")) + \"\\n\\t\")]\n    ),\n    _vm._v(\" \"),\n    _c(\"div\", { staticClass: \"input-group\" }, [\n      _c(\"input\", {\n        directives: [\n          {\n            name: \"model\",\n            rawName: \"v-model\",\n            value: _vm.url,\n            expression: \"url\"\n          }\n        ],\n        staticClass: \"form-control\",\n        attrs: { type: \"text\", placeholder: _vm.__(\"Attach a web link\") },\n        domProps: { value: _vm.url },\n        on: {\n          input: function($event) {\n            if ($event.target.composing) {\n              return\n            }\n            _vm.url = $event.target.value\n          }\n        }\n      })\n    ])\n  ])\n}\nvar __vue_staticRenderFns__ = []\n__vue_render__._withStripped = true\n\n  /* style */\n  const __vue_inject_styles__ = function (inject) {\n    if (!inject) return\n    inject(\"data-v-b53a634e_0\", { source: \"\\n.file-web-link .input-group {\\n\\tmargin-top: 10px;\\n}\\n\", map: {\"version\":3,\"sources\":[\"../chdnext/chdnext/public/js/chdnext/file_uploader/WebLink.vue\"],\"names\":[],\"mappings\":\";AA6BA;CACA,gBAAA;AACA\",\"file\":\"WebLink.vue\",\"sourcesContent\":[\"<template>\\n\\t<div class=\\\"file-web-link margin-bottom\\\">\\n\\t\\t<a href class=\\\"text-muted text-medium\\\"\\n\\t\\t\\t@click.prevent=\\\"$emit('hide-web-link')\\\"\\n\\t\\t>\\n\\t\\t\\t{{ __('\u2190 Back to upload files') }}\\n\\t\\t</a>\\n\\t\\t<div class=\\\"input-group\\\">\\n\\t\\t\\t<input\\n\\t\\t\\t\\ttype=\\\"text\\\"\\n\\t\\t\\t\\tclass=\\\"form-control\\\"\\n\\t\\t\\t\\t:placeholder=\\\"__('Attach a web link')\\\"\\n\\t\\t\\t\\tv-model=\\\"url\\\"\\n\\t\\t\\t>\\n\\t\\t</div>\\n\\t</div>\\n</template>\\n<script>\\nexport default {\\n\\tname: 'WebLink',\\n\\tdata() {\\n\\t\\treturn {\\n\\t\\t\\turl: '',\\n\\t\\t}\\n\\t}\\n}\\n</script>\\n\\n<style>\\n.file-web-link .input-group {\\n\\tmargin-top: 10px;\\n}\\n</style>\\n\"]}, media: undefined })\n\n  }\n  /* scoped */\n  const __vue_scope_id__ = undefined\n  /* module identifier */\n  const __vue_module_identifier__ = undefined\n  /* functional template */\n  const __vue_is_functional_template__ = false\n  /* component normalizer */\n  function __vue_normalize__(\n    template, style, script,\n    scope, functional, moduleIdentifier, shadowMode,\n    createInjector, createInjectorSSR, createInjectorShadow\n  ) {\n    const component = (typeof script === 'function' ? script.options : script) || {}\n\n    // For security concerns, we use only base name in production mode.\n    component.__file = \"<template>\\n\\t<div class=\\\"file-web-link margin-bottom\\\">\\n\\t\\t<a href class=\\\"text-muted text-medium\\\"\\n\\t\\t\\t@click.prevent=\\\"$emit('hide-web-link')\\\"\\n\\t\\t>\\n\\t\\t\\t{{ __('\u2190 Back to upload files') }}\\n\\t\\t</a>\\n\\t\\t<div class=\\\"input-group\\\">\\n\\t\\t\\t<input\\n\\t\\t\\t\\ttype=\\\"text\\\"\\n\\t\\t\\t\\tclass=\\\"form-control\\\"\\n\\t\\t\\t\\t:placeholder=\\\"__('Attach a web link')\\\"\\n\\t\\t\\t\\tv-model=\\\"url\\\"\\n\\t\\t\\t>\\n\\t\\t</div>\\n\\t</div>\\n</template>\\n<script>\\nexport default {\\n\\tname: 'WebLink',\\n\\tdata() {\\n\\t\\treturn {\\n\\t\\t\\turl: '',\\n\\t\\t}\\n\\t}\\n}\\n</script>\\n\\n<style>\\n.file-web-link .input-group {\\n\\tmargin-top: 10px;\\n}\\n</style>\\n\"\n\n    if (!component.render) {\n      component.render = template.render\n      component.staticRenderFns = template.staticRenderFns\n      component._compiled = true\n\n      if (functional) component.functional = true\n    }\n\n    component._scopeId = scope\n\n    if (true) {\n      let hook\n      if (false) {\n        // In SSR.\n        hook = function(context) {\n          // 2.3 injection\n          context =\n            context || // cached call\n            (this.$vnode && this.$vnode.ssrContext) || // stateful\n            (this.parent && this.parent.$vnode && this.parent.$vnode.ssrContext) // functional\n          // 2.2 with runInNewContext: true\n          if (!context && typeof __VUE_SSR_CONTEXT__ !== 'undefined') {\n            context = __VUE_SSR_CONTEXT__\n          }\n          // inject component styles\n          if (style) {\n            style.call(this, createInjectorSSR(context))\n          }\n          // register component module identifier for async chunk inference\n          if (context && context._registeredComponents) {\n            context._registeredComponents.add(moduleIdentifier)\n          }\n        }\n        // used by ssr in case component is cached and beforeCreate\n        // never gets called\n        component._ssrRegister = hook\n      }\n      else if (style) {\n        hook = shadowMode \n          ? function(context) {\n              style.call(this, createInjectorShadow(context, this.$root.$options.shadowRoot))\n            }\n          : function(context) {\n              style.call(this, createInjector(context))\n            }\n      }\n\n      if (hook !== undefined) {\n        if (component.functional) {\n          // register for functional component in vue file\n          const originalRender = component.render\n          component.render = function renderWithStyleInjection(h, context) {\n            hook.call(context)\n            return originalRender(h, context)\n          }\n        } else {\n          // inject component registration as beforeCreate hook\n          const existing = component.beforeCreate\n          component.beforeCreate = existing ? [].concat(existing, hook) : [hook]\n        }\n      }\n    }\n\n    return component\n  }\n  /* style inject */\n  function __vue_create_injector__() {\n    const styles = __vue_create_injector__.styles || (__vue_create_injector__.styles = {})\n    const isOldIE =\n      typeof navigator !== 'undefined' &&\n      /msie [6-9]\\\\b/.test(navigator.userAgent.toLowerCase())\n\n    return function addStyle(id, css) {\n      if (document.querySelector('style[data-vue-ssr-id~=\"' + id + '\"]')) return // SSR styles are present.\n\n      const group = isOldIE ? css.media || 'default' : id\n      const style = styles[group] || (styles[group] = { ids: [], parts: [], element: undefined })\n\n      if (!style.ids.includes(id)) {\n        let code = css.source\n        let index = style.ids.length\n\n        style.ids.push(id)\n\n        if (false && css.map) {\n          // https://developer.chrome.com/devtools/docs/javascript-debugging\n          // this makes source maps inside style tags work properly in Chrome\n          code += '\\n/*# sourceURL=' + css.map.sources[0] + ' */'\n          // http://stackoverflow.com/a/26603875\n          code +=\n            '\\n/*# sourceMappingURL=data:application/json;base64,' +\n            btoa(unescape(encodeURIComponent(JSON.stringify(css.map)))) +\n            ' */'\n        }\n\n        if (isOldIE) {\n          style.element = style.element || document.querySelector('style[data-group=' + group + ']')\n        }\n\n        if (!style.element) {\n          const head = document.head || document.getElementsByTagName('head')[0]\n          const el = style.element = document.createElement('style')\n          el.type = 'text/css'\n\n          if (css.media) el.setAttribute('media', css.media)\n          if (isOldIE) {\n            el.setAttribute('data-group', group)\n            el.setAttribute('data-next-index', '0')\n          }\n\n          head.appendChild(el)\n        }\n\n        if (isOldIE) {\n          index = parseInt(style.element.getAttribute('data-next-index'))\n          style.element.setAttribute('data-next-index', index + 1)\n        }\n\n        if (style.element.styleSheet) {\n          style.parts.push(code)\n          style.element.styleSheet.cssText = style.parts\n            .filter(Boolean)\n            .join('\\n')\n        } else {\n          const textNode = document.createTextNode(code)\n          const nodes = style.element.childNodes\n          if (nodes[index]) style.element.removeChild(nodes[index])\n          if (nodes.length) style.element.insertBefore(textNode, nodes[index])\n          else style.element.appendChild(textNode)\n        }\n      }\n    }\n  }\n  /* style inject SSR */\n  \n  /* style inject shadow dom */\n  \n\n  \n  const __vue_component__ = /*#__PURE__*/__vue_normalize__(\n    { render: __vue_render__, staticRenderFns: __vue_staticRenderFns__ },\n    __vue_inject_styles__,\n    __vue_script__,\n    __vue_scope_id__,\n    __vue_is_functional_template__,\n    __vue_module_identifier__,\n    false,\n    __vue_create_injector__,\n    undefined,\n    undefined\n  )\n\n  export default __vue_component__", "/* global gapi:false, google:false */\nexport default class GoogleDrivePicker {\n\tconstructor({\n\t\tpickerCallback,\n\t\tenabled,\n\t\tappId,\n\t\tdeveloperKey,\n\t\tclientId\n\t} = {}) {\n\t\tthis.scope = ['https://www.googleapis.com/auth/drive.readonly'];\n\t\tthis.pickerApiLoaded = false;\n\t\tthis.enabled = enabled;\n\t\tthis.appId = appId;\n\t\tthis.pickerCallback = pickerCallback;\n\t\tthis.developerKey = developerKey;\n\t\tthis.clientId = clientId;\n\t}\n\n\tloadPicker() {\n\t\t// load the google API library\n\t\t$.ajax({\n\t\t\tmethod: \"GET\",\n\t\t\turl: \"https://apis.google.com/js/api.js\",\n\t\t\tdataType: \"script\",\n\t\t\tcache: true\n\t\t}).done(this.loadGapi.bind(this));\n\t}\n\n\tloadGapi() {\n\t\t// load auth and picker libraries\n\t\tif (!frappe.boot.user.google_drive_token) {\n\t\t\tgapi.load('auth', this.onAuthApiLoad.bind(this));\n\t\t}\n\n\t\tgapi.load('picker', this.onPickerApiLoad.bind(this));\n\t}\n\n\tonAuthApiLoad() {\n\t\tgapi.auth.authorize({\n\t\t\t'client_id': this.clientId,\n\t\t\t'scope': this.scope,\n\t\t\t'immediate': false\n\t\t}, this.handleAuthResult.bind(this));\n\t}\n\n\thandleAuthResult(authResult) {\n\t\tif (authResult && !authResult.error) {\n\t\t\tfrappe.boot.user.google_drive_token = authResult.access_token;\n\t\t\tthis.createPicker();\n\t\t}\n\t}\n\n\tonPickerApiLoad() {\n\t\tthis.pickerApiLoaded = true;\n\t\tthis.createPicker();\n\t}\n\n\tcreatePicker() {\n\t\t// Create and render a Picker object for searching images.\n\t\tif (this.pickerApiLoaded && frappe.boot.user.google_drive_token) {\n\t\t\tvar view = new google.picker.DocsView(google.picker.ViewId.DOCS)\n\t\t\t\t.setParent('root') // show the root folder by default\n\t\t\t\t.setIncludeFolders(true); // also show folders, not just files\n\n\t\t\tvar picker = new google.picker.PickerBuilder()\n\t\t\t\t.setAppId(this.appId)\n\t\t\t\t.setDeveloperKey(this.developerKey)\n\t\t\t\t.setOAuthToken(frappe.boot.user.google_drive_token)\n\t\t\t\t.addView(view)\n\t\t\t\t.setLocale(frappe.boot.lang)\n\t\t\t\t.setCallback(this.pickerCallback)\n\t\t\t\t.build();\n\n\t\t\tpicker.setVisible(true);\n\t\t}\n\t}\n}\n", "/* script */\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\nimport Cropper from \"cropperjs\";\nconst __vue_script__ = {\n\tname: \"ImageCropper\",\n\tprops: [\"file\", \"attach_doc_image\"],\n\tdata() {\n\t\treturn {\n\t\t\tsrc: null,\n\t\t\tcropper: null,\n\t\t\timage: null\n\t\t};\n\t},\n\tmounted() {\n\t\tif (window.FileReader) {\n\t\t\tlet fr = new FileReader();\n\t\t\tfr.onload = () => (this.src = fr.result);\n\t\t\tfr.readAsDataURL(this.file.cropper_file);\n\t\t}\n\t\taspect_ratio = this.attach_doc_image ? 0 : NaN;\n\t\tcrop_box = this.file.crop_box_data;\n\t\tthis.image = this.$refs.image;\n\t\tthis.image.onload = () => {\n\t\t\tthis.cropper = new Cropper(this.image, {\n\t\t\t\tzoomable: false,\n\t\t\t\tscalable: false,\n\t\t\t\tviewMode: 1,\n\t\t\t\tdata: crop_box,\n\t\t\t\taspectRatio: aspect_ratio\n\t\t\t});\n\t\t};\n\t},\n\tcomputed: {\n\t\tcrop_button_text() {\n\t\t\treturn this.attach_doc_image ? \"Upload\" : \"Crop\";\n\t\t}\n\t},\n\tmethods: {\n\t\tcrop_image() {\n\t\t\tthis.file.crop_box_data = this.cropper.getData();\n\t\t\tconst canvas = this.cropper.getCroppedCanvas();\n\t\t\tconst file_type = this.file.file_obj.type;\n\t\t\tcanvas.toBlob(blob => {\n\t\t\t\tvar cropped_file_obj = new File([blob], this.file.name, {\n\t\t\t\t\ttype: blob.type\n\t\t\t\t});\n\t\t\t\tthis.file.file_obj = cropped_file_obj;\n\t\t\t\tthis.$emit(\"toggle_image_cropper\");\n\t\t\t\tif(this.attach_doc_image) {\n\t\t\t\t\tthis.$emit(\"upload_after_crop\");\n\t\t\t\t}\n\t\t\t}, file_type);\n\t\t}\n\t}\n};\n\n/* template */\nvar __vue_render__ = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n  return _c(\"div\", [\n    _c(\"div\", [\n      _c(\"img\", { ref: \"image\", attrs: { src: _vm.src, alt: _vm.file.name } })\n    ]),\n    _vm._v(\" \"),\n    _c(\"br\"),\n    _vm._v(\" \"),\n    _c(\"div\", { staticClass: \"image-cropper-actions\" }, [\n      !_vm.attach_doc_image\n        ? _c(\n            \"button\",\n            {\n              staticClass: \"btn btn-sm margin-right\",\n              on: {\n                click: function($event) {\n                  return _vm.$emit(\"toggle_image_cropper\")\n                }\n              }\n            },\n            [_vm._v(\"Back\")]\n          )\n        : _vm._e(),\n      _vm._v(\" \"),\n      _c(\"button\", {\n        staticClass: \"btn btn-primary btn-sm margin-right\",\n        domProps: { innerHTML: _vm._s(_vm.crop_button_text) },\n        on: { click: _vm.crop_image }\n      })\n    ])\n  ])\n}\nvar __vue_staticRenderFns__ = []\n__vue_render__._withStripped = true\n\n  /* style */\n  const __vue_inject_styles__ = function (inject) {\n    if (!inject) return\n    inject(\"data-v-b43cb654_0\", { source: \"\\nimg {\\n\\tdisplay: block;\\n\\tmax-width: 100%;\\n\\tmax-height: 600px;\\n}\\n.image-cropper-actions {\\n\\tdisplay: flex;\\n\\tjustify-content: flex-end;\\n}\\n\", map: {\"version\":3,\"sources\":[\"../chdnext/chdnext/public/js/chdnext/file_uploader/ImageCropper.vue\"],\"names\":[],\"mappings\":\";AAqEA;CACA,cAAA;CACA,eAAA;CACA,iBAAA;AACA;AAEA;CACA,aAAA;CACA,yBAAA;AACA\",\"file\":\"ImageCropper.vue\",\"sourcesContent\":[\"<template>\\n\\t<div>\\n\\t\\t<div>\\n\\t\\t\\t<img ref=\\\"image\\\" :src=\\\"src\\\" :alt=\\\"file.name\\\"/>\\n\\t\\t</div>\\n\\t\\t<br/>\\n\\t\\t<div class=\\\"image-cropper-actions\\\">\\n\\t\\t\\t<button class=\\\"btn btn-sm margin-right\\\" v-if=\\\"!attach_doc_image\\\" @click=\\\"$emit('toggle_image_cropper')\\\">Back</button>\\n\\t\\t\\t<button class=\\\"btn btn-primary btn-sm margin-right\\\" @click=\\\"crop_image\\\" v-html=\\\"crop_button_text\\\"></button>\\n\\t\\t</div>\\n\\t</div>\\n</template>\\n\\n<script>\\nimport Cropper from \\\"cropperjs\\\";\\nexport default {\\n\\tname: \\\"ImageCropper\\\",\\n\\tprops: [\\\"file\\\", \\\"attach_doc_image\\\"],\\n\\tdata() {\\n\\t\\treturn {\\n\\t\\t\\tsrc: null,\\n\\t\\t\\tcropper: null,\\n\\t\\t\\timage: null\\n\\t\\t};\\n\\t},\\n\\tmounted() {\\n\\t\\tif (window.FileReader) {\\n\\t\\t\\tlet fr = new FileReader();\\n\\t\\t\\tfr.onload = () => (this.src = fr.result);\\n\\t\\t\\tfr.readAsDataURL(this.file.cropper_file);\\n\\t\\t}\\n\\t\\taspect_ratio = this.attach_doc_image ? 0 : NaN;\\n\\t\\tcrop_box = this.file.crop_box_data;\\n\\t\\tthis.image = this.$refs.image;\\n\\t\\tthis.image.onload = () => {\\n\\t\\t\\tthis.cropper = new Cropper(this.image, {\\n\\t\\t\\t\\tzoomable: false,\\n\\t\\t\\t\\tscalable: false,\\n\\t\\t\\t\\tviewMode: 1,\\n\\t\\t\\t\\tdata: crop_box,\\n\\t\\t\\t\\taspectRatio: aspect_ratio\\n\\t\\t\\t});\\n\\t\\t};\\n\\t},\\n\\tcomputed: {\\n\\t\\tcrop_button_text() {\\n\\t\\t\\treturn this.attach_doc_image ? \\\"Upload\\\" : \\\"Crop\\\";\\n\\t\\t}\\n\\t},\\n\\tmethods: {\\n\\t\\tcrop_image() {\\n\\t\\t\\tthis.file.crop_box_data = this.cropper.getData();\\n\\t\\t\\tconst canvas = this.cropper.getCroppedCanvas();\\n\\t\\t\\tconst file_type = this.file.file_obj.type;\\n\\t\\t\\tcanvas.toBlob(blob => {\\n\\t\\t\\t\\tvar cropped_file_obj = new File([blob], this.file.name, {\\n\\t\\t\\t\\t\\ttype: blob.type\\n\\t\\t\\t\\t});\\n\\t\\t\\t\\tthis.file.file_obj = cropped_file_obj;\\n\\t\\t\\t\\tthis.$emit(\\\"toggle_image_cropper\\\");\\n\\t\\t\\t\\tif(this.attach_doc_image) {\\n\\t\\t\\t\\t\\tthis.$emit(\\\"upload_after_crop\\\");\\n\\t\\t\\t\\t}\\n\\t\\t\\t}, file_type);\\n\\t\\t}\\n\\t}\\n};\\n</script>\\n<style>\\nimg {\\n\\tdisplay: block;\\n\\tmax-width: 100%;\\n\\tmax-height: 600px;\\n}\\n\\n.image-cropper-actions {\\n\\tdisplay: flex;\\n\\tjustify-content: flex-end;\\n}\\n</style>\\n\"]}, media: undefined })\n\n  }\n  /* scoped */\n  const __vue_scope_id__ = undefined\n  /* module identifier */\n  const __vue_module_identifier__ = undefined\n  /* functional template */\n  const __vue_is_functional_template__ = false\n  /* component normalizer */\n  function __vue_normalize__(\n    template, style, script,\n    scope, functional, moduleIdentifier, shadowMode,\n    createInjector, createInjectorSSR, createInjectorShadow\n  ) {\n    const component = (typeof script === 'function' ? script.options : script) || {}\n\n    // For security concerns, we use only base name in production mode.\n    component.__file = \"<template>\\n\\t<div>\\n\\t\\t<div>\\n\\t\\t\\t<img ref=\\\"image\\\" :src=\\\"src\\\" :alt=\\\"file.name\\\"/>\\n\\t\\t</div>\\n\\t\\t<br/>\\n\\t\\t<div class=\\\"image-cropper-actions\\\">\\n\\t\\t\\t<button class=\\\"btn btn-sm margin-right\\\" v-if=\\\"!attach_doc_image\\\" @click=\\\"$emit('toggle_image_cropper')\\\">Back</button>\\n\\t\\t\\t<button class=\\\"btn btn-primary btn-sm margin-right\\\" @click=\\\"crop_image\\\" v-html=\\\"crop_button_text\\\"></button>\\n\\t\\t</div>\\n\\t</div>\\n</template>\\n\\n<script>\\nimport Cropper from \\\"cropperjs\\\";\\nexport default {\\n\\tname: \\\"ImageCropper\\\",\\n\\tprops: [\\\"file\\\", \\\"attach_doc_image\\\"],\\n\\tdata() {\\n\\t\\treturn {\\n\\t\\t\\tsrc: null,\\n\\t\\t\\tcropper: null,\\n\\t\\t\\timage: null\\n\\t\\t};\\n\\t},\\n\\tmounted() {\\n\\t\\tif (window.FileReader) {\\n\\t\\t\\tlet fr = new FileReader();\\n\\t\\t\\tfr.onload = () => (this.src = fr.result);\\n\\t\\t\\tfr.readAsDataURL(this.file.cropper_file);\\n\\t\\t}\\n\\t\\taspect_ratio = this.attach_doc_image ? 0 : NaN;\\n\\t\\tcrop_box = this.file.crop_box_data;\\n\\t\\tthis.image = this.$refs.image;\\n\\t\\tthis.image.onload = () => {\\n\\t\\t\\tthis.cropper = new Cropper(this.image, {\\n\\t\\t\\t\\tzoomable: false,\\n\\t\\t\\t\\tscalable: false,\\n\\t\\t\\t\\tviewMode: 1,\\n\\t\\t\\t\\tdata: crop_box,\\n\\t\\t\\t\\taspectRatio: aspect_ratio\\n\\t\\t\\t});\\n\\t\\t};\\n\\t},\\n\\tcomputed: {\\n\\t\\tcrop_button_text() {\\n\\t\\t\\treturn this.attach_doc_image ? \\\"Upload\\\" : \\\"Crop\\\";\\n\\t\\t}\\n\\t},\\n\\tmethods: {\\n\\t\\tcrop_image() {\\n\\t\\t\\tthis.file.crop_box_data = this.cropper.getData();\\n\\t\\t\\tconst canvas = this.cropper.getCroppedCanvas();\\n\\t\\t\\tconst file_type = this.file.file_obj.type;\\n\\t\\t\\tcanvas.toBlob(blob => {\\n\\t\\t\\t\\tvar cropped_file_obj = new File([blob], this.file.name, {\\n\\t\\t\\t\\t\\ttype: blob.type\\n\\t\\t\\t\\t});\\n\\t\\t\\t\\tthis.file.file_obj = cropped_file_obj;\\n\\t\\t\\t\\tthis.$emit(\\\"toggle_image_cropper\\\");\\n\\t\\t\\t\\tif(this.attach_doc_image) {\\n\\t\\t\\t\\t\\tthis.$emit(\\\"upload_after_crop\\\");\\n\\t\\t\\t\\t}\\n\\t\\t\\t}, file_type);\\n\\t\\t}\\n\\t}\\n};\\n</script>\\n<style>\\nimg {\\n\\tdisplay: block;\\n\\tmax-width: 100%;\\n\\tmax-height: 600px;\\n}\\n\\n.image-cropper-actions {\\n\\tdisplay: flex;\\n\\tjustify-content: flex-end;\\n}\\n</style>\\n\"\n\n    if (!component.render) {\n      component.render = template.render\n      component.staticRenderFns = template.staticRenderFns\n      component._compiled = true\n\n      if (functional) component.functional = true\n    }\n\n    component._scopeId = scope\n\n    if (true) {\n      let hook\n      if (false) {\n        // In SSR.\n        hook = function(context) {\n          // 2.3 injection\n          context =\n            context || // cached call\n            (this.$vnode && this.$vnode.ssrContext) || // stateful\n            (this.parent && this.parent.$vnode && this.parent.$vnode.ssrContext) // functional\n          // 2.2 with runInNewContext: true\n          if (!context && typeof __VUE_SSR_CONTEXT__ !== 'undefined') {\n            context = __VUE_SSR_CONTEXT__\n          }\n          // inject component styles\n          if (style) {\n            style.call(this, createInjectorSSR(context))\n          }\n          // register component module identifier for async chunk inference\n          if (context && context._registeredComponents) {\n            context._registeredComponents.add(moduleIdentifier)\n          }\n        }\n        // used by ssr in case component is cached and beforeCreate\n        // never gets called\n        component._ssrRegister = hook\n      }\n      else if (style) {\n        hook = shadowMode \n          ? function(context) {\n              style.call(this, createInjectorShadow(context, this.$root.$options.shadowRoot))\n            }\n          : function(context) {\n              style.call(this, createInjector(context))\n            }\n      }\n\n      if (hook !== undefined) {\n        if (component.functional) {\n          // register for functional component in vue file\n          const originalRender = component.render\n          component.render = function renderWithStyleInjection(h, context) {\n            hook.call(context)\n            return originalRender(h, context)\n          }\n        } else {\n          // inject component registration as beforeCreate hook\n          const existing = component.beforeCreate\n          component.beforeCreate = existing ? [].concat(existing, hook) : [hook]\n        }\n      }\n    }\n\n    return component\n  }\n  /* style inject */\n  function __vue_create_injector__() {\n    const styles = __vue_create_injector__.styles || (__vue_create_injector__.styles = {})\n    const isOldIE =\n      typeof navigator !== 'undefined' &&\n      /msie [6-9]\\\\b/.test(navigator.userAgent.toLowerCase())\n\n    return function addStyle(id, css) {\n      if (document.querySelector('style[data-vue-ssr-id~=\"' + id + '\"]')) return // SSR styles are present.\n\n      const group = isOldIE ? css.media || 'default' : id\n      const style = styles[group] || (styles[group] = { ids: [], parts: [], element: undefined })\n\n      if (!style.ids.includes(id)) {\n        let code = css.source\n        let index = style.ids.length\n\n        style.ids.push(id)\n\n        if (false && css.map) {\n          // https://developer.chrome.com/devtools/docs/javascript-debugging\n          // this makes source maps inside style tags work properly in Chrome\n          code += '\\n/*# sourceURL=' + css.map.sources[0] + ' */'\n          // http://stackoverflow.com/a/26603875\n          code +=\n            '\\n/*# sourceMappingURL=data:application/json;base64,' +\n            btoa(unescape(encodeURIComponent(JSON.stringify(css.map)))) +\n            ' */'\n        }\n\n        if (isOldIE) {\n          style.element = style.element || document.querySelector('style[data-group=' + group + ']')\n        }\n\n        if (!style.element) {\n          const head = document.head || document.getElementsByTagName('head')[0]\n          const el = style.element = document.createElement('style')\n          el.type = 'text/css'\n\n          if (css.media) el.setAttribute('media', css.media)\n          if (isOldIE) {\n            el.setAttribute('data-group', group)\n            el.setAttribute('data-next-index', '0')\n          }\n\n          head.appendChild(el)\n        }\n\n        if (isOldIE) {\n          index = parseInt(style.element.getAttribute('data-next-index'))\n          style.element.setAttribute('data-next-index', index + 1)\n        }\n\n        if (style.element.styleSheet) {\n          style.parts.push(code)\n          style.element.styleSheet.cssText = style.parts\n            .filter(Boolean)\n            .join('\\n')\n        } else {\n          const textNode = document.createTextNode(code)\n          const nodes = style.element.childNodes\n          if (nodes[index]) style.element.removeChild(nodes[index])\n          if (nodes.length) style.element.insertBefore(textNode, nodes[index])\n          else style.element.appendChild(textNode)\n        }\n      }\n    }\n  }\n  /* style inject SSR */\n  \n  /* style inject shadow dom */\n  \n\n  \n  const __vue_component__ = /*#__PURE__*/__vue_normalize__(\n    { render: __vue_render__, staticRenderFns: __vue_staticRenderFns__ },\n    __vue_inject_styles__,\n    __vue_script__,\n    __vue_scope_id__,\n    __vue_is_functional_template__,\n    __vue_module_identifier__,\n    false,\n    __vue_create_injector__,\n    undefined,\n    undefined\n  )\n\n  export default __vue_component__", "/* script */\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\nimport FilePreview from './FilePreview.vue';\nimport FileBrowser from './FileBrowser.vue';\nimport WebLink from './WebLink.vue';\nimport GoogleDrivePicker from '../../integrations/google_drive_picker';\nimport ImageCropper from './ImageCropper.vue';\n\nconst __vue_script__ = {\n\tname: 'FileUploader',\n\tprops: {\n\t\tshow_upload_button: {\n\t\t\tdefault: true\n\t\t},\n\t\tdisable_file_browser: {\n\t\t\tdefault: false\n\t\t},\n\t\tallow_multiple: {\n\t\t\tdefault: true\n\t\t},\n\t\tas_dataurl: {\n\t\t\tdefault: false\n\t\t},\n\t\tdoctype: {\n\t\t\tdefault: null\n\t\t},\n\t\tdocname: {\n\t\t\tdefault: null\n\t\t},\n\t\tfieldname: {\n\t\t\tdefault: null\n\t\t},\n\t\tfolder: {\n\t\t\tdefault: 'Home'\n\t\t},\n\t\tmethod: {\n\t\t\tdefault: null\n\t\t},\n\t\ton_success: {\n\t\t\tdefault: null\n\t\t},\n\t\trestrictions: {\n\t\t\tdefault: () => ({\n\t\t\t\tmax_file_size: null, // 2048 -> 2KB\n\t\t\t\tmax_number_of_files: null,\n\t\t\t\tallowed_file_types: [] // ['image/*', 'video/*', '.jpg', '.gif', '.pdf']\n\t\t\t})\n\t\t},\n\t\tattach_doc_image: {\n\t\t\tdefault: false\n\t\t},\n\t\tupload_notes: {\n\t\t\tdefault: null // \"Images or video, upto 2MB\"\n\t\t}\n\t},\n\tcomponents: {\n\t\tFilePreview,\n\t\tFileBrowser,\n\t\tWebLink,\n\t\tImageCropper\n\t},\n\tdata() {\n\t\treturn {\n\t\t\tfiles: [],\n\t\t\tis_dragging: false,\n\t\t\tcurrently_uploading: -1,\n\t\t\tshow_file_browser: false,\n\t\t\tshow_web_link: false,\n\t\t\tshow_image_cropper: false,\n\t\t\tcrop_image_with_index: -1,\n\t\t\ttrigger_upload: false,\n\t\t\tclose_dialog: false,\n\t\t\thide_dialog_footer: false,\n\t\t\tallow_take_photo: false,\n\t\t\tallow_web_link: true,\n\t\t\tgoogle_drive_settings: {\n\t\t\t\tenabled: false\n\t\t\t}\n\t\t}\n\t},\n\tcreated() {\n\t\tthis.allow_take_photo = window.navigator.mediaDevices;\n\t\tif (frappe.user_id !== \"Guest\") {\n\t\t\tfrappe.call({\n\t\t\t\t// method only available after login\n\t\t\t\tmethod: \"frappe.integrations.doctype.google_settings.google_settings.get_file_picker_settings\",\n\t\t\t\tcallback: (resp) => {\n\t\t\t\t\tif (!resp.exc) {\n\t\t\t\t\t\tthis.google_drive_settings = resp.message;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\t\tif (this.restrictions.max_file_size == null) {\n\t\t\tfrappe.call('frappe.core.doctype.file.file.get_max_file_size')\n\t\t\t\t.then(res => {\n\t\t\t\t\tthis.restrictions.max_file_size = Number(res.message);\n\t\t\t\t});\n\t\t}\n\t},\n\twatch: {\n\t\tfiles(newvalue, oldvalue) {\n\t\t\tif (!this.allow_multiple && newvalue.length > 1) {\n\t\t\t\tthis.files = [newvalue[newvalue.length - 1]];\n\t\t\t}\n\t\t}\n\t},\n\tcomputed: {\n\t\tupload_complete() {\n\t\t\treturn this.files.length > 0\n\t\t\t\t&& this.files.every(\n\t\t\t\t\tfile => file.total !== 0 && file.progress === file.total);\n\t\t}\n\t},\n\tmethods: {\n\t\tdragover() {\n\t\t\tthis.is_dragging = true;\n\t\t},\n\t\tdragleave() {\n\t\t\tthis.is_dragging = false;\n\t\t},\n\t\tdropfiles(e) {\n\t\t\tthis.is_dragging = false;\n\t\t\tthis.add_files(e.dataTransfer.files);\n\t\t},\n\t\tbrowse_files() {\n\t\t\tthis.$refs.file_input.click();\n\t\t},\n\t\ton_file_input(e) {\n\t\t\tthis.add_files(this.$refs.file_input.files);\n\t\t},\n\t\tremove_file(file) {\n\t\t\tthis.files = this.files.filter(f => f !== file);\n\t\t},\n\t\ttoggle_image_cropper(index) {\n\t\t\tthis.crop_image_with_index = this.show_image_cropper ? -1 : index;\n\t\t\tthis.hide_dialog_footer = !this.show_image_cropper;\n\t\t\tthis.show_image_cropper = !this.show_image_cropper;\n\t\t},\n\t\ttoggle_all_private() {\n\t\t\tlet flag;\n\t\t\tlet private_values = this.files.filter(file => file.private);\n\t\t\tif (private_values.length < this.files.length) {\n\t\t\t\t// there are some private and some public\n\t\t\t\t// set all to private\n\t\t\t\tflag = true;\n\t\t\t} else {\n\t\t\t\t// all are private, set all to public\n\t\t\t\tflag = false;\n\t\t\t}\n\t\t\tthis.files = this.files.map(file => {\n\t\t\t\tfile.private = flag;\n\t\t\t\treturn file;\n\t\t\t});\n\t\t},\n\t\tadd_files(file_array) {\n\t\t\tlet files = Array.from(file_array)\n\t\t\t\t.filter(this.check_restrictions)\n\t\t\t\t.map(file => {\n\t\t\t\t\tlet is_image = file.type.startsWith('image');\n\t\t\t\t\treturn {\n\t\t\t\t\t\tfile_obj: file,\n\t\t\t\t\t\tcropper_file: file,\n\t\t\t\t\t\tcrop_box_data: null,\n\t\t\t\t\t\toptimize: this.attach_doc_image ? true : false,\n\t\t\t\t\t\tname: file.name,\n\t\t\t\t\t\tdoc: null,\n\t\t\t\t\t\tprogress: 0,\n\t\t\t\t\t\ttotal: 0,\n\t\t\t\t\t\tfailed: false,\n\t\t\t\t\t\trequest_succeeded: false,\n\t\t\t\t\t\terror_message: null,\n\t\t\t\t\t\tuploading: false,\n\t\t\t\t\t\tprivate: !is_image\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\tthis.files = this.files.concat(files);\n\t\t\tif(this.files.length != 0 && this.attach_doc_image) {\n\t\t\t\tthis.toggle_image_cropper(0);\n\t\t\t}\n\t\t},\n\t\tcheck_restrictions(file) {\n\t\t\tlet { max_file_size, allowed_file_types } = this.restrictions;\n\n\t\t\tlet mime_type = file.type;\n\t\t\tlet extension = '.' + file.name.split('.').pop();\n\n\t\t\tlet is_correct_type = true;\n\t\t\tlet valid_file_size = true;\n\n\t\t\tif (allowed_file_types.length) {\n\t\t\t\tis_correct_type = allowed_file_types.some((type) => {\n\t\t\t\t\t// is this is a mime-type\n\t\t\t\t\tif (type.includes('/')) {\n\t\t\t\t\t\tif (!file.type) return false;\n\t\t\t\t\t\treturn file.type.match(type);\n\t\t\t\t\t}\n\n\t\t\t\t\t// otherwise this is likely an extension\n\t\t\t\t\tif (type[0] === '.') {\n\t\t\t\t\t\treturn file.name.endsWith(type);\n\t\t\t\t\t}\n\t\t\t\t\treturn false;\n\t\t\t\t});\n\t\t\t}\n\n\t\t\tif (max_file_size && file.size != null) {\n\t\t\t\tvalid_file_size = file.size < max_file_size;\n\t\t\t}\n\n\t\t\tif (!is_correct_type) {\n\t\t\t\tconsole.warn('File skipped because of invalid file type', file);\n\t\t\t\tfrappe.show_alert({\n\t\t\t\t\tmessage: __('File \"{0}\" was skipped because of invalid file type', [file.name]),\n\t\t\t\t\tindicator: 'orange'\n\t\t\t\t});\n\t\t\t}\n\t\t\tif (!valid_file_size) {\n\t\t\t\tconsole.warn('File skipped because of invalid file size', file.size, file);\n\t\t\t\tfrappe.show_alert({\n\t\t\t\t\tmessage: __('File \"{0}\" was skipped because size exceeds {1} MB', [file.name, max_file_size / (1024 * 1024)]),\n\t\t\t\t\tindicator: 'orange'\n\t\t\t\t});\n\t\t\t}\n\n\t\t\treturn is_correct_type && valid_file_size;\n\t\t},\n\t\tupload_files() {\n\t\t\tif (this.show_file_browser) {\n\t\t\t\treturn this.upload_via_file_browser();\n\t\t\t}\n\t\t\tif (this.show_web_link) {\n\t\t\t\treturn this.upload_via_web_link();\n\t\t\t}\n\t\t\tif (this.as_dataurl) {\n\t\t\t\treturn this.return_as_dataurl();\n\t\t\t}\n\t\t\treturn frappe.run_serially(\n\t\t\t\tthis.files.map(\n\t\t\t\t\t(file, i) =>\n\t\t\t\t\t\t() => this.upload_file(file, i)\n\t\t\t\t)\n\t\t\t);\n\t\t},\n\t\tupload_via_file_browser() {\n\t\t\tlet selected_file = this.$refs.file_browser.selected_node;\n\t\t\tif (!selected_file.value) {\n\t\t\t\tfrappe.msgprint(__('Click on a file to select it.'));\n\t\t\t\tthis.close_dialog = true;\n\t\t\t\treturn Promise.reject();\n\t\t\t}\n\t\t\tthis.close_dialog = true;\n\t\t\treturn this.upload_file({\n\t\t\t\tfile_url: selected_file.file_url\n\t\t\t});\n\t\t},\n\t\tupload_via_web_link() {\n\t\t\tlet file_url = this.$refs.web_link.url;\n\t\t\tif (!file_url) {\n\t\t\t\tfrappe.msgprint(__('Invalid URL'));\n\t\t\t\tthis.close_dialog = true;\n\t\t\t\treturn Promise.reject();\n\t\t\t}\n\t\t\tfile_url = decodeURI(file_url)\n\t\t\tthis.close_dialog = true;\n\t\t\treturn this.upload_file({\n\t\t\t\tfile_url\n\t\t\t});\n\t\t},\n\t\treturn_as_dataurl() {\n\t\t\tlet promises = this.files.map(file =>\n\t\t\t\tfrappe.dom.file_to_base64(file.file_obj)\n\t\t\t\t\t.then(dataurl => {\n\t\t\t\t\t\tfile.dataurl = dataurl;\n\t\t\t\t\t\tthis.on_success && this.on_success(file);\n\t\t\t\t\t})\n\t\t\t);\n\t\t\tthis.close_dialog = true;\n\t\t\treturn Promise.all(promises);\n\t\t},\n\t\tupload_file(file, i) {\n\t\t\tthis.currently_uploading = i;\n\n\t\t\treturn new Promise((resolve, reject) => {\n\t\t\t\tlet xhr = new XMLHttpRequest();\n\t\t\t\txhr.upload.addEventListener('loadstart', (e) => {\n\t\t\t\t\tfile.uploading = true;\n\t\t\t\t})\n\t\t\t\txhr.upload.addEventListener('progress', (e) => {\n\t\t\t\t\tif (e.lengthComputable) {\n\t\t\t\t\t\tfile.progress = e.loaded;\n\t\t\t\t\t\tfile.total = e.total;\n\t\t\t\t\t}\n\t\t\t\t})\n\t\t\t\txhr.upload.addEventListener('load', (e) => {\n\t\t\t\t\tfile.uploading = false;\n\t\t\t\t\tresolve();\n\t\t\t\t})\n\t\t\t\txhr.addEventListener('error', (e) => {\n\t\t\t\t\tfile.failed = true;\n\t\t\t\t\treject();\n\t\t\t\t})\n\t\t\t\txhr.onreadystatechange = () => {\n\t\t\t\t\tif (xhr.readyState == XMLHttpRequest.DONE) {\n\t\t\t\t\t\tif (xhr.status === 200) {\n\t\t\t\t\t\t\tfile.request_succeeded = true;\n\t\t\t\t\t\t\tlet r = null;\n\t\t\t\t\t\t\tlet file_doc = null;\n\t\t\t\t\t\t\ttry {\n\t\t\t\t\t\t\t\tr = JSON.parse(xhr.responseText);\n\t\t\t\t\t\t\t\tif (r.message.doctype === 'File') {\n\t\t\t\t\t\t\t\t\tfile_doc = r.message;\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t} catch(e) {\n\t\t\t\t\t\t\t\tr = xhr.responseText;\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\tfile.doc = file_doc;\n\n\t\t\t\t\t\t\tif (this.on_success) {\n\t\t\t\t\t\t\t\tthis.on_success(file_doc, r);\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\tif (i == this.files.length - 1 && this.files.every(file => file.request_succeeded)) {\n\t\t\t\t\t\t\t\tthis.close_dialog = true;\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t} else if (xhr.status === 403) {\n\t\t\t\t\t\t\tfile.failed = true;\n\t\t\t\t\t\t\tlet response = JSON.parse(xhr.responseText);\n\t\t\t\t\t\t\tfile.error_message = `Not permitted. ${response._error_message || ''}`;\n\n\t\t\t\t\t\t} else if (xhr.status === 413) {\n\t\t\t\t\t\t\tfile.failed = true;\n\t\t\t\t\t\t\tfile.error_message = 'Size exceeds the maximum allowed file size.';\n\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tfile.failed = true;\n\t\t\t\t\t\t\tfile.error_message = xhr.status === 0 ? 'XMLHttpRequest Error' : `${xhr.status} : ${xhr.statusText}`;\n\n\t\t\t\t\t\t\tlet error = null;\n\t\t\t\t\t\t\ttry {\n\t\t\t\t\t\t\t\terror = JSON.parse(xhr.responseText);\n\t\t\t\t\t\t\t} catch(e) {\n\t\t\t\t\t\t\t\t// pass\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tfrappe.request.cleanup({}, error);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\txhr.open('POST', '/api/method/upload_file', true);\n\t\t\t\txhr.setRequestHeader('Accept', 'application/json');\n\t\t\t\txhr.setRequestHeader('X-Frappe-CSRF-Token', frappe.csrf_token);\n\n\t\t\t\tlet form_data = new FormData();\n\t\t\t\tif (file.file_obj) {\n\t\t\t\t\tform_data.append('file', file.file_obj, file.name);\n\t\t\t\t}\n\t\t\t\tform_data.append('is_private', +file.private);\n\t\t\t\tform_data.append('folder', this.folder);\n\n\t\t\t\tif (file.file_url) {\n\t\t\t\t\tform_data.append('file_url', file.file_url);\n\t\t\t\t}\n\n\t\t\t\tif (file.file_name) {\n\t\t\t\t\tform_data.append('file_name', file.file_name);\n\t\t\t\t}\n\n\t\t\t\tif (this.doctype && this.docname) {\n\t\t\t\t\tform_data.append('doctype', this.doctype);\n\t\t\t\t\tform_data.append('docname', this.docname);\n\t\t\t\t}\n\n\t\t\t\tif (this.fieldname) {\n\t\t\t\t\tform_data.append('fieldname', this.fieldname);\n\t\t\t\t}\n\n\t\t\t\tif (this.method) {\n\t\t\t\t\tform_data.append('method', this.method);\n\t\t\t\t}\n\n\t\t\t\tif (file.optimize) {\n\t\t\t\t\tform_data.append('optimize', true);\n\t\t\t\t}\n\n\t\t\t\tif (this.attach_doc_image) {\n\t\t\t\t\tform_data.append('max_width', 200);\n\t\t\t\t\tform_data.append('max_height', 200);\n\t\t\t\t}\n\n\t\t\t\txhr.send(form_data);\n\t\t\t});\n\t\t},\n\t\tcapture_image() {\n\t\t\tconst capture = new frappe.ui.Capture({\n\t\t\t\tanimate: false,\n\t\t\t\terror: true\n\t\t\t});\n\t\t\tcapture.show();\n\t\t\tcapture.submit(data_url => {\n\t\t\t\tlet filename = `capture_${frappe.datetime.now_datetime().replaceAll(/[: -]/g, '_')}.png`;\n\t\t\t\tthis.url_to_file(data_url, filename, 'image/png').then((file) =>\n\t\t\t\t\tthis.add_files([file])\n\t\t\t\t);\n\t\t\t});\n\t\t},\n\t\tshow_google_drive_picker() {\n\t\t\tlet dialog = cur_dialog;\n\t\t\tdialog.hide();\n\t\t\tlet google_drive = new GoogleDrivePicker({\n\t\t\t\tpickerCallback: data => this.google_drive_callback(data, dialog),\n\t\t\t\t...this.google_drive_settings\n\t\t\t});\n\t\t\tgoogle_drive.loadPicker();\n\t\t},\n\t\tgoogle_drive_callback(data, dialog) {\n\t\t\tif (data.action == google.picker.Action.PICKED) {\n\t\t\t\tthis.upload_file({\n\t\t\t\t\tfile_url: data.docs[0].url,\n\t\t\t\t\tfile_name: data.docs[0].name\n\t\t\t\t});\n\t\t\t} else if (data.action == google.picker.Action.CANCEL) {\n\t\t\t\tdialog.show();\n\t\t\t}\n\t\t},\n\t\turl_to_file(url, filename, mime_type) {\n\t\t\treturn fetch(url)\n\t\t\t\t\t.then(res => res.arrayBuffer())\n\t\t\t\t\t.then(buffer => new File([buffer], filename, { type: mime_type }));\n\t\t},\n\t}\n}\n\n/* template */\nvar __vue_render__ = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n  return _c(\n    \"div\",\n    {\n      staticClass: \"file-uploader\",\n      on: {\n        dragover: function($event) {\n          $event.preventDefault()\n          return _vm.dragover($event)\n        },\n        dragleave: function($event) {\n          $event.preventDefault()\n          return _vm.dragleave($event)\n        },\n        drop: function($event) {\n          $event.preventDefault()\n          return _vm.dropfiles($event)\n        }\n      }\n    },\n    [\n      _c(\n        \"div\",\n        {\n          directives: [\n            {\n              name: \"show\",\n              rawName: \"v-show\",\n              value:\n                _vm.files.length === 0 &&\n                !_vm.show_file_browser &&\n                !_vm.show_web_link,\n              expression:\n                \"files.length === 0 && !show_file_browser && !show_web_link\"\n            }\n          ],\n          staticClass: \"file-upload-area\"\n        },\n        [\n          !_vm.is_dragging\n            ? _c(\"div\", [\n                _c(\"div\", { staticClass: \"text-center\" }, [\n                  _vm._v(\n                    \"\\n\\t\\t\\t\\t\" +\n                      _vm._s(\n                        _vm.__(\"Drag and drop files here or upload from\")\n                      ) +\n                      \"\\n\\t\\t\\t\"\n                  )\n                ]),\n                _vm._v(\" \"),\n                _c(\"div\", { staticClass: \"mt-2 text-center\" }, [\n                  _c(\n                    \"button\",\n                    {\n                      staticClass: \"btn btn-file-upload\",\n                      on: { click: _vm.browse_files }\n                    },\n                    [\n                      _c(\n                        \"svg\",\n                        {\n                          attrs: {\n                            width: \"30\",\n                            height: \"30\",\n                            viewBox: \"0 0 30 30\",\n                            fill: \"none\",\n                            xmlns: \"http://www.w3.org/2000/svg\"\n                          }\n                        },\n                        [\n                          _c(\"circle\", {\n                            attrs: {\n                              cx: \"15\",\n                              cy: \"15\",\n                              r: \"15\",\n                              fill: \"url(#paint0_linear)\"\n                            }\n                          }),\n                          _vm._v(\" \"),\n                          _c(\"path\", {\n                            attrs: {\n                              d: \"M13.5 22V19\",\n                              stroke: \"white\",\n                              \"stroke-linecap\": \"round\",\n                              \"stroke-linejoin\": \"round\"\n                            }\n                          }),\n                          _vm._v(\" \"),\n                          _c(\"path\", {\n                            attrs: {\n                              d: \"M16.5 22V19\",\n                              stroke: \"white\",\n                              \"stroke-linecap\": \"round\",\n                              \"stroke-linejoin\": \"round\"\n                            }\n                          }),\n                          _vm._v(\" \"),\n                          _c(\"path\", {\n                            attrs: {\n                              d: \"M10.5 22H19.5\",\n                              stroke: \"white\",\n                              \"stroke-linecap\": \"round\",\n                              \"stroke-linejoin\": \"round\"\n                            }\n                          }),\n                          _vm._v(\" \"),\n                          _c(\"path\", {\n                            attrs: {\n                              d: \"M7.5 16H22.5\",\n                              stroke: \"white\",\n                              \"stroke-linecap\": \"round\",\n                              \"stroke-linejoin\": \"round\"\n                            }\n                          }),\n                          _vm._v(\" \"),\n                          _c(\"path\", {\n                            attrs: {\n                              d:\n                                \"M21 8H9C8.17157 8 7.5 8.67157 7.5 9.5V17.5C7.5 18.3284 8.17157 19 9 19H21C21.8284 19 22.5 18.3284 22.5 17.5V9.5C22.5 8.67157 21.8284 8 21 8Z\",\n                              stroke: \"white\",\n                              \"stroke-linecap\": \"round\",\n                              \"stroke-linejoin\": \"round\"\n                            }\n                          }),\n                          _vm._v(\" \"),\n                          _c(\n                            \"defs\",\n                            [\n                              _c(\n                                \"linearGradient\",\n                                {\n                                  attrs: {\n                                    id: \"paint0_linear\",\n                                    x1: \"0\",\n                                    y1: \"0\",\n                                    x2: \"0\",\n                                    y2: \"30\",\n                                    gradientUnits: \"userSpaceOnUse\"\n                                  }\n                                },\n                                [\n                                  _c(\"stop\", {\n                                    attrs: { \"stop-color\": \"#2C9AF1\" }\n                                  }),\n                                  _vm._v(\" \"),\n                                  _c(\"stop\", {\n                                    attrs: {\n                                      offset: \"1\",\n                                      \"stop-color\": \"#2490EF\"\n                                    }\n                                  })\n                                ],\n                                1\n                              )\n                            ],\n                            1\n                          )\n                        ]\n                      ),\n                      _vm._v(\" \"),\n                      _c(\"div\", { staticClass: \"mt-1\" }, [\n                        _vm._v(_vm._s(_vm.__(\"My Device\")))\n                      ])\n                    ]\n                  ),\n                  _vm._v(\" \"),\n                  _c(\"input\", {\n                    ref: \"file_input\",\n                    staticClass: \"hidden\",\n                    attrs: {\n                      type: \"file\",\n                      multiple: _vm.allow_multiple,\n                      accept: _vm.restrictions.allowed_file_types.join(\", \")\n                    },\n                    on: { change: _vm.on_file_input }\n                  }),\n                  _vm._v(\" \"),\n                  !_vm.disable_file_browser\n                    ? _c(\n                        \"button\",\n                        {\n                          staticClass: \"btn btn-file-upload\",\n                          on: {\n                            click: function($event) {\n                              _vm.show_file_browser = true\n                            }\n                          }\n                        },\n                        [\n                          _c(\n                            \"svg\",\n                            {\n                              attrs: {\n                                width: \"30\",\n                                height: \"30\",\n                                viewBox: \"0 0 30 30\",\n                                fill: \"none\",\n                                xmlns: \"http://www.w3.org/2000/svg\"\n                              }\n                            },\n                            [\n                              _c(\"circle\", {\n                                attrs: {\n                                  cx: \"15\",\n                                  cy: \"15\",\n                                  r: \"15\",\n                                  fill: \"#48BB74\"\n                                }\n                              }),\n                              _vm._v(\" \"),\n                              _c(\"path\", {\n                                attrs: {\n                                  d:\n                                    \"M13.0245 11.5H8C7.72386 11.5 7.5 11.7239 7.5 12V20C7.5 21.1046 8.39543 22 9.5 22H20.5C21.6046 22 22.5 21.1046 22.5 20V14.5C22.5 14.2239 22.2761 14 22 14H15.2169C15.0492 14 14.8926 13.9159 14.8 13.776L13.4414 11.724C13.3488 11.5841 13.1922 11.5 13.0245 11.5Z\",\n                                  stroke: \"white\",\n                                  \"stroke-miterlimit\": \"10\",\n                                  \"stroke-linecap\": \"square\"\n                                }\n                              }),\n                              _vm._v(\" \"),\n                              _c(\"path\", {\n                                attrs: {\n                                  d:\n                                    \"M8.87939 9.5V8.5C8.87939 8.22386 9.10325 8 9.37939 8H20.6208C20.8969 8 21.1208 8.22386 21.1208 8.5V12\",\n                                  stroke: \"white\",\n                                  \"stroke-miterlimit\": \"10\",\n                                  \"stroke-linecap\": \"round\",\n                                  \"stroke-linejoin\": \"round\"\n                                }\n                              })\n                            ]\n                          ),\n                          _vm._v(\" \"),\n                          _c(\"div\", { staticClass: \"mt-1\" }, [\n                            _vm._v(_vm._s(_vm.__(\"Library\")))\n                          ])\n                        ]\n                      )\n                    : _vm._e(),\n                  _vm._v(\" \"),\n                  _vm.allow_web_link\n                    ? _c(\n                        \"button\",\n                        {\n                          staticClass: \"btn btn-file-upload\",\n                          on: {\n                            click: function($event) {\n                              _vm.show_web_link = true\n                            }\n                          }\n                        },\n                        [\n                          _c(\n                            \"svg\",\n                            {\n                              attrs: {\n                                width: \"30\",\n                                height: \"30\",\n                                viewBox: \"0 0 30 30\",\n                                fill: \"none\",\n                                xmlns: \"http://www.w3.org/2000/svg\"\n                              }\n                            },\n                            [\n                              _c(\"circle\", {\n                                attrs: {\n                                  cx: \"15\",\n                                  cy: \"15\",\n                                  r: \"15\",\n                                  fill: \"#ECAC4B\"\n                                }\n                              }),\n                              _vm._v(\" \"),\n                              _c(\"path\", {\n                                attrs: {\n                                  d: \"M12.0469 17.9543L17.9558 12.0454\",\n                                  stroke: \"white\",\n                                  \"stroke-linecap\": \"round\",\n                                  \"stroke-linejoin\": \"round\"\n                                }\n                              }),\n                              _vm._v(\" \"),\n                              _c(\"path\", {\n                                attrs: {\n                                  d:\n                                    \"M13.8184 11.4547L15.7943 9.47873C16.4212 8.85205 17.2714 8.5 18.1578 8.5C19.0443 8.5 19.8945 8.85205 20.5214 9.47873V9.47873C21.1481 10.1057 21.5001 10.9558 21.5001 11.8423C21.5001 12.7287 21.1481 13.5789 20.5214 14.2058L18.5455 16.1818\",\n                                  stroke: \"white\",\n                                  \"stroke-linecap\": \"round\",\n                                  \"stroke-linejoin\": \"round\"\n                                }\n                              }),\n                              _vm._v(\" \"),\n                              _c(\"path\", {\n                                attrs: {\n                                  d:\n                                    \"M11.4547 13.8184L9.47873 15.7943C8.85205 16.4212 8.5 17.2714 8.5 18.1578C8.5 19.0443 8.85205 19.8945 9.47873 20.5214V20.5214C10.1057 21.1481 10.9558 21.5001 11.8423 21.5001C12.7287 21.5001 13.5789 21.1481 14.2058 20.5214L16.1818 18.5455\",\n                                  stroke: \"white\",\n                                  \"stroke-linecap\": \"round\",\n                                  \"stroke-linejoin\": \"round\"\n                                }\n                              })\n                            ]\n                          ),\n                          _vm._v(\" \"),\n                          _c(\"div\", { staticClass: \"mt-1\" }, [\n                            _vm._v(_vm._s(_vm.__(\"Link\")))\n                          ])\n                        ]\n                      )\n                    : _vm._e(),\n                  _vm._v(\" \"),\n                  _vm.allow_take_photo\n                    ? _c(\n                        \"button\",\n                        {\n                          staticClass: \"btn btn-file-upload\",\n                          on: { click: _vm.capture_image }\n                        },\n                        [\n                          _c(\n                            \"svg\",\n                            {\n                              attrs: {\n                                width: \"30\",\n                                height: \"30\",\n                                viewBox: \"0 0 30 30\",\n                                fill: \"none\",\n                                xmlns: \"http://www.w3.org/2000/svg\"\n                              }\n                            },\n                            [\n                              _c(\"circle\", {\n                                attrs: {\n                                  cx: \"15\",\n                                  cy: \"15\",\n                                  r: \"15\",\n                                  fill: \"#CE315B\"\n                                }\n                              }),\n                              _vm._v(\" \"),\n                              _c(\"path\", {\n                                attrs: {\n                                  d:\n                                    \"M11.5 10.5H9.5C8.67157 10.5 8 11.1716 8 12V20C8 20.8284 8.67157 21.5 9.5 21.5H20.5C21.3284 21.5 22 20.8284 22 20V12C22 11.1716 21.3284 10.5 20.5 10.5H18.5L17.3 8.9C17.1111 8.64819 16.8148 8.5 16.5 8.5H13.5C13.1852 8.5 12.8889 8.64819 12.7 8.9L11.5 10.5Z\",\n                                  stroke: \"white\",\n                                  \"stroke-linejoin\": \"round\"\n                                }\n                              }),\n                              _vm._v(\" \"),\n                              _c(\"circle\", {\n                                attrs: {\n                                  cx: \"15\",\n                                  cy: \"16\",\n                                  r: \"2.5\",\n                                  stroke: \"white\"\n                                }\n                              })\n                            ]\n                          ),\n                          _vm._v(\" \"),\n                          _c(\"div\", { staticClass: \"mt-1\" }, [\n                            _vm._v(_vm._s(_vm.__(\"Camera\")))\n                          ])\n                        ]\n                      )\n                    : _vm._e(),\n                  _vm._v(\" \"),\n                  _vm.google_drive_settings.enabled\n                    ? _c(\n                        \"button\",\n                        {\n                          staticClass: \"btn btn-file-upload\",\n                          on: { click: _vm.show_google_drive_picker }\n                        },\n                        [\n                          _c(\"svg\", { attrs: { width: \"30\", height: \"30\" } }, [\n                            _c(\"image\", {\n                              attrs: {\n                                \"xlink:href\":\n                                  \"/assets/frappe/icons/social/google_drive.svg\",\n                                width: \"30\",\n                                height: \"30\"\n                              }\n                            })\n                          ]),\n                          _vm._v(\" \"),\n                          _c(\"div\", { staticClass: \"mt-1\" }, [\n                            _vm._v(_vm._s(_vm.__(\"Google Drive\")))\n                          ])\n                        ]\n                      )\n                    : _vm._e()\n                ]),\n                _vm._v(\" \"),\n                _c(\"div\", { staticClass: \"text-muted text-medium\" }, [\n                  _vm._v(\"\\n\\t\\t\\t\\t\" + _vm._s(_vm.upload_notes) + \"\\n\\t\\t\\t\")\n                ])\n              ])\n            : _c(\"div\", [\n                _vm._v(\n                  \"\\n\\t\\t\\t\" + _vm._s(_vm.__(\"Drop files here\")) + \"\\n\\t\\t\"\n                )\n              ])\n        ]\n      ),\n      _vm._v(\" \"),\n      _c(\n        \"div\",\n        {\n          directives: [\n            {\n              name: \"show\",\n              rawName: \"v-show\",\n              value:\n                _vm.files.length &&\n                !_vm.show_file_browser &&\n                !_vm.show_web_link,\n              expression: \"files.length && !show_file_browser && !show_web_link\"\n            }\n          ],\n          staticClass: \"file-preview-area\"\n        },\n        [\n          !_vm.show_image_cropper\n            ? _c(\n                \"div\",\n                { staticClass: \"file-preview-container\" },\n                _vm._l(_vm.files, function(file, i) {\n                  return _c(\"FilePreview\", {\n                    key: file.name,\n                    attrs: { file: file },\n                    on: {\n                      remove: function($event) {\n                        return _vm.remove_file(file)\n                      },\n                      toggle_private: function($event) {\n                        file.private = !file.private\n                      },\n                      toggle_optimize: function($event) {\n                        file.optimize = !file.optimize\n                      },\n                      toggle_image_cropper: function($event) {\n                        return _vm.toggle_image_cropper(i)\n                      }\n                    }\n                  })\n                }),\n                1\n              )\n            : _vm._e(),\n          _vm._v(\" \"),\n          _vm.show_upload_button && _vm.currently_uploading === -1\n            ? _c(\"div\", { staticClass: \"flex align-center\" }, [\n                _c(\n                  \"button\",\n                  {\n                    staticClass: \"btn btn-primary btn-sm margin-right\",\n                    on: { click: _vm.upload_files }\n                  },\n                  [\n                    _vm.files.length === 1\n                      ? _c(\"span\", [\n                          _vm._v(\n                            \"\\n\\t\\t\\t\\t\\t\" +\n                              _vm._s(_vm.__(\"Upload file\")) +\n                              \"\\n\\t\\t\\t\\t\"\n                          )\n                        ])\n                      : _c(\"span\", [\n                          _vm._v(\n                            \"\\n\\t\\t\\t\\t\\t\" +\n                              _vm._s(\n                                _vm.__(\"Upload {0} files\", [_vm.files.length])\n                              ) +\n                              \"\\n\\t\\t\\t\\t\"\n                          )\n                        ])\n                  ]\n                ),\n                _vm._v(\" \"),\n                _c(\"div\", { staticClass: \"text-muted text-medium\" }, [\n                  _vm._v(\n                    \"\\n\\t\\t\\t\\t\" +\n                      _vm._s(\n                        _vm.__(\n                          \"Click on the lock icon to toggle public/private\"\n                        )\n                      ) +\n                      \"\\n\\t\\t\\t\"\n                  )\n                ])\n              ])\n            : _vm._e()\n        ]\n      ),\n      _vm._v(\" \"),\n      _vm.show_image_cropper\n        ? _c(\"ImageCropper\", {\n            attrs: {\n              file: _vm.files[_vm.crop_image_with_index],\n              attach_doc_image: _vm.attach_doc_image\n            },\n            on: {\n              toggle_image_cropper: function($event) {\n                return _vm.toggle_image_cropper(-1)\n              },\n              upload_after_crop: function($event) {\n                _vm.trigger_upload = true\n              }\n            }\n          })\n        : _vm._e(),\n      _vm._v(\" \"),\n      _vm.show_file_browser && !_vm.disable_file_browser\n        ? _c(\"FileBrowser\", {\n            ref: \"file_browser\",\n            on: {\n              \"hide-browser\": function($event) {\n                _vm.show_file_browser = false\n              }\n            }\n          })\n        : _vm._e(),\n      _vm._v(\" \"),\n      _vm.show_web_link\n        ? _c(\"WebLink\", {\n            ref: \"web_link\",\n            on: {\n              \"hide-web-link\": function($event) {\n                _vm.show_web_link = false\n              }\n            }\n          })\n        : _vm._e()\n    ],\n    1\n  )\n}\nvar __vue_staticRenderFns__ = []\n__vue_render__._withStripped = true\n\n  /* style */\n  const __vue_inject_styles__ = function (inject) {\n    if (!inject) return\n    inject(\"data-v-59e9fb3c_0\", { source: \"\\n.file-upload-area {\\n\\tmin-height: 16rem;\\n\\tdisplay: flex;\\n\\talign-items: center;\\n\\tjustify-content: center;\\n\\tborder: 1px dashed var(--dark-border-color);\\n\\tborder-radius: var(--border-radius);\\n\\tcursor: pointer;\\n\\tbackground-color: var(--bg-color);\\n}\\n.btn-file-upload {\\n\\tbackground-color: transparent;\\n\\tborder: none;\\n\\tbox-shadow: none;\\n\\tfont-size: var(--text-xs);\\n}\\n\", map: {\"version\":3,\"sources\":[\"../chdnext/chdnext/public/js/chdnext/file_uploader/FileUploader.vue\"],\"names\":[],\"mappings\":\";AAmjBA;CACA,iBAAA;CACA,aAAA;CACA,mBAAA;CACA,uBAAA;CACA,2CAAA;CACA,mCAAA;CACA,eAAA;CACA,iCAAA;AACA;AAEA;CACA,6BAAA;CACA,YAAA;CACA,gBAAA;CACA,yBAAA;AACA\",\"file\":\"FileUploader.vue\",\"sourcesContent\":[\"<template>\\n\\t<div class=\\\"file-uploader\\\"\\n\\t\\t@dragover.prevent=\\\"dragover\\\"\\n\\t\\t@dragleave.prevent=\\\"dragleave\\\"\\n\\t\\t@drop.prevent=\\\"dropfiles\\\"\\n\\t>\\n\\t\\t<div\\n\\t\\t\\tclass=\\\"file-upload-area\\\"\\n\\t\\t\\tv-show=\\\"files.length === 0 && !show_file_browser && !show_web_link\\\"\\n\\t\\t>\\n\\t\\t\\t<div v-if=\\\"!is_dragging\\\">\\n\\t\\t\\t\\t<div class=\\\"text-center\\\">\\n\\t\\t\\t\\t\\t{{ __('Drag and drop files here or upload from') }}\\n\\t\\t\\t\\t</div>\\n\\t\\t\\t\\t<div class=\\\"mt-2 text-center\\\">\\n\\t\\t\\t\\t\\t<button class=\\\"btn btn-file-upload\\\" @click=\\\"browse_files\\\">\\n\\t\\t\\t\\t\\t\\t<svg width=\\\"30\\\" height=\\\"30\\\" viewBox=\\\"0 0 30 30\\\" fill=\\\"none\\\" xmlns=\\\"http://www.w3.org/2000/svg\\\">\\n\\t\\t\\t\\t\\t\\t\\t<circle cx=\\\"15\\\" cy=\\\"15\\\" r=\\\"15\\\" fill=\\\"url(#paint0_linear)\\\"/>\\n\\t\\t\\t\\t\\t\\t\\t<path d=\\\"M13.5 22V19\\\" stroke=\\\"white\\\" stroke-linecap=\\\"round\\\" stroke-linejoin=\\\"round\\\"/>\\n\\t\\t\\t\\t\\t\\t\\t<path d=\\\"M16.5 22V19\\\" stroke=\\\"white\\\" stroke-linecap=\\\"round\\\" stroke-linejoin=\\\"round\\\"/>\\n\\t\\t\\t\\t\\t\\t\\t<path d=\\\"M10.5 22H19.5\\\" stroke=\\\"white\\\" stroke-linecap=\\\"round\\\" stroke-linejoin=\\\"round\\\"/>\\n\\t\\t\\t\\t\\t\\t\\t<path d=\\\"M7.5 16H22.5\\\" stroke=\\\"white\\\" stroke-linecap=\\\"round\\\" stroke-linejoin=\\\"round\\\"/>\\n\\t\\t\\t\\t\\t\\t\\t<path d=\\\"M21 8H9C8.17157 8 7.5 8.67157 7.5 9.5V17.5C7.5 18.3284 8.17157 19 9 19H21C21.8284 19 22.5 18.3284 22.5 17.5V9.5C22.5 8.67157 21.8284 8 21 8Z\\\" stroke=\\\"white\\\" stroke-linecap=\\\"round\\\" stroke-linejoin=\\\"round\\\"/>\\n\\t\\t\\t\\t\\t\\t\\t<defs>\\n\\t\\t\\t\\t\\t\\t\\t<linearGradient id=\\\"paint0_linear\\\" x1=\\\"0\\\" y1=\\\"0\\\" x2=\\\"0\\\" y2=\\\"30\\\" gradientUnits=\\\"userSpaceOnUse\\\">\\n\\t\\t\\t\\t\\t\\t\\t<stop stop-color=\\\"#2C9AF1\\\"/>\\n\\t\\t\\t\\t\\t\\t\\t<stop offset=\\\"1\\\" stop-color=\\\"#2490EF\\\"/>\\n\\t\\t\\t\\t\\t\\t\\t</linearGradient>\\n\\t\\t\\t\\t\\t\\t\\t</defs>\\n\\t\\t\\t\\t\\t\\t</svg>\\n\\t\\t\\t\\t\\t\\t<div class=\\\"mt-1\\\">{{ __('My Device') }}</div>\\n\\t\\t\\t\\t\\t</button>\\n\\t\\t\\t\\t\\t<input\\n\\t\\t\\t\\t\\t\\ttype=\\\"file\\\"\\n\\t\\t\\t\\t\\t\\tclass=\\\"hidden\\\"\\n\\t\\t\\t\\t\\t\\tref=\\\"file_input\\\"\\n\\t\\t\\t\\t\\t\\t@change=\\\"on_file_input\\\"\\n\\t\\t\\t\\t\\t\\t:multiple=\\\"allow_multiple\\\"\\n\\t\\t\\t\\t\\t\\t:accept=\\\"restrictions.allowed_file_types.join(', ')\\\"\\n\\t\\t\\t\\t\\t>\\n\\t\\t\\t\\t\\t<button class=\\\"btn btn-file-upload\\\" v-if=\\\"!disable_file_browser\\\" @click=\\\"show_file_browser = true\\\">\\n\\t\\t\\t\\t\\t\\t<svg width=\\\"30\\\" height=\\\"30\\\" viewBox=\\\"0 0 30 30\\\" fill=\\\"none\\\" xmlns=\\\"http://www.w3.org/2000/svg\\\">\\n\\t\\t\\t\\t\\t\\t\\t<circle cx=\\\"15\\\" cy=\\\"15\\\" r=\\\"15\\\" fill=\\\"#48BB74\\\"/>\\n\\t\\t\\t\\t\\t\\t\\t<path d=\\\"M13.0245 11.5H8C7.72386 11.5 7.5 11.7239 7.5 12V20C7.5 21.1046 8.39543 22 9.5 22H20.5C21.6046 22 22.5 21.1046 22.5 20V14.5C22.5 14.2239 22.2761 14 22 14H15.2169C15.0492 14 14.8926 13.9159 14.8 13.776L13.4414 11.724C13.3488 11.5841 13.1922 11.5 13.0245 11.5Z\\\" stroke=\\\"white\\\" stroke-miterlimit=\\\"10\\\" stroke-linecap=\\\"square\\\"/>\\n\\t\\t\\t\\t\\t\\t\\t<path d=\\\"M8.87939 9.5V8.5C8.87939 8.22386 9.10325 8 9.37939 8H20.6208C20.8969 8 21.1208 8.22386 21.1208 8.5V12\\\" stroke=\\\"white\\\" stroke-miterlimit=\\\"10\\\" stroke-linecap=\\\"round\\\" stroke-linejoin=\\\"round\\\"/>\\n\\t\\t\\t\\t\\t\\t</svg>\\n\\t\\t\\t\\t\\t\\t<div class=\\\"mt-1\\\">{{ __('Library') }}</div>\\n\\t\\t\\t\\t\\t</button>\\n\\t\\t\\t\\t\\t<button class=\\\"btn btn-file-upload\\\" v-if=\\\"allow_web_link\\\" @click=\\\"show_web_link = true\\\">\\n\\t\\t\\t\\t\\t\\t<svg width=\\\"30\\\" height=\\\"30\\\" viewBox=\\\"0 0 30 30\\\" fill=\\\"none\\\" xmlns=\\\"http://www.w3.org/2000/svg\\\">\\n\\t\\t\\t\\t\\t\\t\\t<circle cx=\\\"15\\\" cy=\\\"15\\\" r=\\\"15\\\" fill=\\\"#ECAC4B\\\"/>\\n\\t\\t\\t\\t\\t\\t\\t<path d=\\\"M12.0469 17.9543L17.9558 12.0454\\\" stroke=\\\"white\\\" stroke-linecap=\\\"round\\\" stroke-linejoin=\\\"round\\\"/>\\n\\t\\t\\t\\t\\t\\t\\t<path d=\\\"M13.8184 11.4547L15.7943 9.47873C16.4212 8.85205 17.2714 8.5 18.1578 8.5C19.0443 8.5 19.8945 8.85205 20.5214 9.47873V9.47873C21.1481 10.1057 21.5001 10.9558 21.5001 11.8423C21.5001 12.7287 21.1481 13.5789 20.5214 14.2058L18.5455 16.1818\\\" stroke=\\\"white\\\" stroke-linecap=\\\"round\\\" stroke-linejoin=\\\"round\\\"/>\\n\\t\\t\\t\\t\\t\\t\\t<path d=\\\"M11.4547 13.8184L9.47873 15.7943C8.85205 16.4212 8.5 17.2714 8.5 18.1578C8.5 19.0443 8.85205 19.8945 9.47873 20.5214V20.5214C10.1057 21.1481 10.9558 21.5001 11.8423 21.5001C12.7287 21.5001 13.5789 21.1481 14.2058 20.5214L16.1818 18.5455\\\" stroke=\\\"white\\\" stroke-linecap=\\\"round\\\" stroke-linejoin=\\\"round\\\"/>\\n\\t\\t\\t\\t\\t\\t</svg>\\n\\t\\t\\t\\t\\t\\t<div class=\\\"mt-1\\\">{{ __('Link') }}</div>\\n\\t\\t\\t\\t\\t</button>\\n\\t\\t\\t\\t\\t<button v-if=\\\"allow_take_photo\\\" class=\\\"btn btn-file-upload\\\" @click=\\\"capture_image\\\">\\n\\t\\t\\t\\t\\t\\t<svg width=\\\"30\\\" height=\\\"30\\\" viewBox=\\\"0 0 30 30\\\" fill=\\\"none\\\" xmlns=\\\"http://www.w3.org/2000/svg\\\">\\n\\t\\t\\t\\t\\t\\t\\t<circle cx=\\\"15\\\" cy=\\\"15\\\" r=\\\"15\\\" fill=\\\"#CE315B\\\"/>\\n\\t\\t\\t\\t\\t\\t\\t<path d=\\\"M11.5 10.5H9.5C8.67157 10.5 8 11.1716 8 12V20C8 20.8284 8.67157 21.5 9.5 21.5H20.5C21.3284 21.5 22 20.8284 22 20V12C22 11.1716 21.3284 10.5 20.5 10.5H18.5L17.3 8.9C17.1111 8.64819 16.8148 8.5 16.5 8.5H13.5C13.1852 8.5 12.8889 8.64819 12.7 8.9L11.5 10.5Z\\\" stroke=\\\"white\\\" stroke-linejoin=\\\"round\\\"/>\\n\\t\\t\\t\\t\\t\\t\\t<circle cx=\\\"15\\\" cy=\\\"16\\\" r=\\\"2.5\\\" stroke=\\\"white\\\"/>\\n\\t\\t\\t\\t\\t\\t</svg>\\n\\t\\t\\t\\t\\t\\t<div class=\\\"mt-1\\\">{{ __('Camera') }}</div>\\n\\t\\t\\t\\t\\t</button>\\n\\t\\t\\t\\t\\t<button v-if=\\\"google_drive_settings.enabled\\\" class=\\\"btn btn-file-upload\\\" @click=\\\"show_google_drive_picker\\\">\\n\\t\\t\\t\\t\\t\\t<svg width=\\\"30\\\" height=\\\"30\\\">\\n\\t\\t\\t\\t\\t\\t\\t<image xlink:href=\\\"/assets/frappe/icons/social/google_drive.svg\\\" width=\\\"30\\\" height=\\\"30\\\"/>\\n\\t\\t\\t\\t\\t\\t</svg>\\n\\t\\t\\t\\t\\t\\t<div class=\\\"mt-1\\\">{{ __('Google Drive') }}</div>\\n\\t\\t\\t\\t\\t</button>\\n\\t\\t\\t\\t</div>\\n\\t\\t\\t\\t<div class=\\\"text-muted text-medium\\\">\\n\\t\\t\\t\\t\\t{{ upload_notes }}\\n\\t\\t\\t\\t</div>\\n\\t\\t\\t</div>\\n\\t\\t\\t<div v-else>\\n\\t\\t\\t\\t{{ __('Drop files here') }}\\n\\t\\t\\t</div>\\n\\t\\t</div>\\n\\t\\t<div class=\\\"file-preview-area\\\" v-show=\\\"files.length && !show_file_browser && !show_web_link\\\">\\n\\t\\t\\t<div class=\\\"file-preview-container\\\" v-if=\\\"!show_image_cropper\\\">\\n\\t\\t\\t\\t<FilePreview\\n\\t\\t\\t\\t\\tv-for=\\\"(file, i) in files\\\"\\n\\t\\t\\t\\t\\t:key=\\\"file.name\\\"\\n\\t\\t\\t\\t\\t:file=\\\"file\\\"\\n\\t\\t\\t\\t\\t@remove=\\\"remove_file(file)\\\"\\n\\t\\t\\t\\t\\t@toggle_private=\\\"file.private = !file.private\\\"\\n\\t\\t\\t\\t\\t@toggle_optimize=\\\"file.optimize = !file.optimize\\\"\\n\\t\\t\\t\\t\\t@toggle_image_cropper=\\\"toggle_image_cropper(i)\\\"\\n\\t\\t\\t\\t/>\\n\\t\\t\\t</div>\\n\\t\\t\\t<div class=\\\"flex align-center\\\" v-if=\\\"show_upload_button && currently_uploading === -1\\\">\\n\\t\\t\\t\\t<button\\n\\t\\t\\t\\t\\tclass=\\\"btn btn-primary btn-sm margin-right\\\"\\n\\t\\t\\t\\t\\t@click=\\\"upload_files\\\"\\n\\t\\t\\t\\t>\\n\\t\\t\\t\\t\\t<span v-if=\\\"files.length === 1\\\">\\n\\t\\t\\t\\t\\t\\t{{ __('Upload file') }}\\n\\t\\t\\t\\t\\t</span>\\n\\t\\t\\t\\t\\t<span v-else>\\n\\t\\t\\t\\t\\t\\t{{ __('Upload {0} files', [files.length]) }}\\n\\t\\t\\t\\t\\t</span>\\n\\t\\t\\t\\t</button>\\n\\t\\t\\t\\t<div class=\\\"text-muted text-medium\\\">\\n\\t\\t\\t\\t\\t{{ __('Click on the lock icon to toggle public/private') }}\\n\\t\\t\\t\\t</div>\\n\\t\\t\\t</div>\\n\\t\\t</div>\\n\\t\\t<ImageCropper\\n\\t\\t\\tv-if=\\\"show_image_cropper\\\"\\n\\t\\t\\t:file=\\\"files[crop_image_with_index]\\\"\\n\\t\\t\\t:attach_doc_image=\\\"attach_doc_image\\\"\\n\\t\\t\\t@toggle_image_cropper=\\\"toggle_image_cropper(-1)\\\"\\n\\t\\t\\t@upload_after_crop=\\\"trigger_upload=true\\\"\\n\\t\\t/>\\n\\t\\t<FileBrowser\\n\\t\\t\\tref=\\\"file_browser\\\"\\n\\t\\t\\tv-if=\\\"show_file_browser && !disable_file_browser\\\"\\n\\t\\t\\t@hide-browser=\\\"show_file_browser = false\\\"\\n\\t\\t/>\\n\\t\\t<WebLink\\n\\t\\t\\tref=\\\"web_link\\\"\\n\\t\\t\\tv-if=\\\"show_web_link\\\"\\n\\t\\t\\t@hide-web-link=\\\"show_web_link = false\\\"\\n\\t\\t/>\\n\\t</div>\\n</template>\\n\\n<script>\\nimport FilePreview from './FilePreview.vue';\\nimport FileBrowser from './FileBrowser.vue';\\nimport WebLink from './WebLink.vue';\\nimport GoogleDrivePicker from '../../integrations/google_drive_picker';\\nimport ImageCropper from './ImageCropper.vue';\\n\\nexport default {\\n\\tname: 'FileUploader',\\n\\tprops: {\\n\\t\\tshow_upload_button: {\\n\\t\\t\\tdefault: true\\n\\t\\t},\\n\\t\\tdisable_file_browser: {\\n\\t\\t\\tdefault: false\\n\\t\\t},\\n\\t\\tallow_multiple: {\\n\\t\\t\\tdefault: true\\n\\t\\t},\\n\\t\\tas_dataurl: {\\n\\t\\t\\tdefault: false\\n\\t\\t},\\n\\t\\tdoctype: {\\n\\t\\t\\tdefault: null\\n\\t\\t},\\n\\t\\tdocname: {\\n\\t\\t\\tdefault: null\\n\\t\\t},\\n\\t\\tfieldname: {\\n\\t\\t\\tdefault: null\\n\\t\\t},\\n\\t\\tfolder: {\\n\\t\\t\\tdefault: 'Home'\\n\\t\\t},\\n\\t\\tmethod: {\\n\\t\\t\\tdefault: null\\n\\t\\t},\\n\\t\\ton_success: {\\n\\t\\t\\tdefault: null\\n\\t\\t},\\n\\t\\trestrictions: {\\n\\t\\t\\tdefault: () => ({\\n\\t\\t\\t\\tmax_file_size: null, // 2048 -> 2KB\\n\\t\\t\\t\\tmax_number_of_files: null,\\n\\t\\t\\t\\tallowed_file_types: [] // ['image/*', 'video/*', '.jpg', '.gif', '.pdf']\\n\\t\\t\\t})\\n\\t\\t},\\n\\t\\tattach_doc_image: {\\n\\t\\t\\tdefault: false\\n\\t\\t},\\n\\t\\tupload_notes: {\\n\\t\\t\\tdefault: null // \\\"Images or video, upto 2MB\\\"\\n\\t\\t}\\n\\t},\\n\\tcomponents: {\\n\\t\\tFilePreview,\\n\\t\\tFileBrowser,\\n\\t\\tWebLink,\\n\\t\\tImageCropper\\n\\t},\\n\\tdata() {\\n\\t\\treturn {\\n\\t\\t\\tfiles: [],\\n\\t\\t\\tis_dragging: false,\\n\\t\\t\\tcurrently_uploading: -1,\\n\\t\\t\\tshow_file_browser: false,\\n\\t\\t\\tshow_web_link: false,\\n\\t\\t\\tshow_image_cropper: false,\\n\\t\\t\\tcrop_image_with_index: -1,\\n\\t\\t\\ttrigger_upload: false,\\n\\t\\t\\tclose_dialog: false,\\n\\t\\t\\thide_dialog_footer: false,\\n\\t\\t\\tallow_take_photo: false,\\n\\t\\t\\tallow_web_link: true,\\n\\t\\t\\tgoogle_drive_settings: {\\n\\t\\t\\t\\tenabled: false\\n\\t\\t\\t}\\n\\t\\t}\\n\\t},\\n\\tcreated() {\\n\\t\\tthis.allow_take_photo = window.navigator.mediaDevices;\\n\\t\\tif (frappe.user_id !== \\\"Guest\\\") {\\n\\t\\t\\tfrappe.call({\\n\\t\\t\\t\\t// method only available after login\\n\\t\\t\\t\\tmethod: \\\"frappe.integrations.doctype.google_settings.google_settings.get_file_picker_settings\\\",\\n\\t\\t\\t\\tcallback: (resp) => {\\n\\t\\t\\t\\t\\tif (!resp.exc) {\\n\\t\\t\\t\\t\\t\\tthis.google_drive_settings = resp.message;\\n\\t\\t\\t\\t\\t}\\n\\t\\t\\t\\t}\\n\\t\\t\\t});\\n\\t\\t}\\n\\t\\tif (this.restrictions.max_file_size == null) {\\n\\t\\t\\tfrappe.call('frappe.core.doctype.file.file.get_max_file_size')\\n\\t\\t\\t\\t.then(res => {\\n\\t\\t\\t\\t\\tthis.restrictions.max_file_size = Number(res.message);\\n\\t\\t\\t\\t});\\n\\t\\t}\\n\\t},\\n\\twatch: {\\n\\t\\tfiles(newvalue, oldvalue) {\\n\\t\\t\\tif (!this.allow_multiple && newvalue.length > 1) {\\n\\t\\t\\t\\tthis.files = [newvalue[newvalue.length - 1]];\\n\\t\\t\\t}\\n\\t\\t}\\n\\t},\\n\\tcomputed: {\\n\\t\\tupload_complete() {\\n\\t\\t\\treturn this.files.length > 0\\n\\t\\t\\t\\t&& this.files.every(\\n\\t\\t\\t\\t\\tfile => file.total !== 0 && file.progress === file.total);\\n\\t\\t}\\n\\t},\\n\\tmethods: {\\n\\t\\tdragover() {\\n\\t\\t\\tthis.is_dragging = true;\\n\\t\\t},\\n\\t\\tdragleave() {\\n\\t\\t\\tthis.is_dragging = false;\\n\\t\\t},\\n\\t\\tdropfiles(e) {\\n\\t\\t\\tthis.is_dragging = false;\\n\\t\\t\\tthis.add_files(e.dataTransfer.files);\\n\\t\\t},\\n\\t\\tbrowse_files() {\\n\\t\\t\\tthis.$refs.file_input.click();\\n\\t\\t},\\n\\t\\ton_file_input(e) {\\n\\t\\t\\tthis.add_files(this.$refs.file_input.files);\\n\\t\\t},\\n\\t\\tremove_file(file) {\\n\\t\\t\\tthis.files = this.files.filter(f => f !== file);\\n\\t\\t},\\n\\t\\ttoggle_image_cropper(index) {\\n\\t\\t\\tthis.crop_image_with_index = this.show_image_cropper ? -1 : index;\\n\\t\\t\\tthis.hide_dialog_footer = !this.show_image_cropper;\\n\\t\\t\\tthis.show_image_cropper = !this.show_image_cropper;\\n\\t\\t},\\n\\t\\ttoggle_all_private() {\\n\\t\\t\\tlet flag;\\n\\t\\t\\tlet private_values = this.files.filter(file => file.private);\\n\\t\\t\\tif (private_values.length < this.files.length) {\\n\\t\\t\\t\\t// there are some private and some public\\n\\t\\t\\t\\t// set all to private\\n\\t\\t\\t\\tflag = true;\\n\\t\\t\\t} else {\\n\\t\\t\\t\\t// all are private, set all to public\\n\\t\\t\\t\\tflag = false;\\n\\t\\t\\t}\\n\\t\\t\\tthis.files = this.files.map(file => {\\n\\t\\t\\t\\tfile.private = flag;\\n\\t\\t\\t\\treturn file;\\n\\t\\t\\t});\\n\\t\\t},\\n\\t\\tadd_files(file_array) {\\n\\t\\t\\tlet files = Array.from(file_array)\\n\\t\\t\\t\\t.filter(this.check_restrictions)\\n\\t\\t\\t\\t.map(file => {\\n\\t\\t\\t\\t\\tlet is_image = file.type.startsWith('image');\\n\\t\\t\\t\\t\\treturn {\\n\\t\\t\\t\\t\\t\\tfile_obj: file,\\n\\t\\t\\t\\t\\t\\tcropper_file: file,\\n\\t\\t\\t\\t\\t\\tcrop_box_data: null,\\n\\t\\t\\t\\t\\t\\toptimize: this.attach_doc_image ? true : false,\\n\\t\\t\\t\\t\\t\\tname: file.name,\\n\\t\\t\\t\\t\\t\\tdoc: null,\\n\\t\\t\\t\\t\\t\\tprogress: 0,\\n\\t\\t\\t\\t\\t\\ttotal: 0,\\n\\t\\t\\t\\t\\t\\tfailed: false,\\n\\t\\t\\t\\t\\t\\trequest_succeeded: false,\\n\\t\\t\\t\\t\\t\\terror_message: null,\\n\\t\\t\\t\\t\\t\\tuploading: false,\\n\\t\\t\\t\\t\\t\\tprivate: !is_image\\n\\t\\t\\t\\t\\t}\\n\\t\\t\\t\\t});\\n\\t\\t\\tthis.files = this.files.concat(files);\\n\\t\\t\\tif(this.files.length != 0 && this.attach_doc_image) {\\n\\t\\t\\t\\tthis.toggle_image_cropper(0);\\n\\t\\t\\t}\\n\\t\\t},\\n\\t\\tcheck_restrictions(file) {\\n\\t\\t\\tlet { max_file_size, allowed_file_types } = this.restrictions;\\n\\n\\t\\t\\tlet mime_type = file.type;\\n\\t\\t\\tlet extension = '.' + file.name.split('.').pop();\\n\\n\\t\\t\\tlet is_correct_type = true;\\n\\t\\t\\tlet valid_file_size = true;\\n\\n\\t\\t\\tif (allowed_file_types.length) {\\n\\t\\t\\t\\tis_correct_type = allowed_file_types.some((type) => {\\n\\t\\t\\t\\t\\t// is this is a mime-type\\n\\t\\t\\t\\t\\tif (type.includes('/')) {\\n\\t\\t\\t\\t\\t\\tif (!file.type) return false;\\n\\t\\t\\t\\t\\t\\treturn file.type.match(type);\\n\\t\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\t\\t// otherwise this is likely an extension\\n\\t\\t\\t\\t\\tif (type[0] === '.') {\\n\\t\\t\\t\\t\\t\\treturn file.name.endsWith(type);\\n\\t\\t\\t\\t\\t}\\n\\t\\t\\t\\t\\treturn false;\\n\\t\\t\\t\\t});\\n\\t\\t\\t}\\n\\n\\t\\t\\tif (max_file_size && file.size != null) {\\n\\t\\t\\t\\tvalid_file_size = file.size < max_file_size;\\n\\t\\t\\t}\\n\\n\\t\\t\\tif (!is_correct_type) {\\n\\t\\t\\t\\tconsole.warn('File skipped because of invalid file type', file);\\n\\t\\t\\t\\tfrappe.show_alert({\\n\\t\\t\\t\\t\\tmessage: __('File \\\"{0}\\\" was skipped because of invalid file type', [file.name]),\\n\\t\\t\\t\\t\\tindicator: 'orange'\\n\\t\\t\\t\\t});\\n\\t\\t\\t}\\n\\t\\t\\tif (!valid_file_size) {\\n\\t\\t\\t\\tconsole.warn('File skipped because of invalid file size', file.size, file);\\n\\t\\t\\t\\tfrappe.show_alert({\\n\\t\\t\\t\\t\\tmessage: __('File \\\"{0}\\\" was skipped because size exceeds {1} MB', [file.name, max_file_size / (1024 * 1024)]),\\n\\t\\t\\t\\t\\tindicator: 'orange'\\n\\t\\t\\t\\t});\\n\\t\\t\\t}\\n\\n\\t\\t\\treturn is_correct_type && valid_file_size;\\n\\t\\t},\\n\\t\\tupload_files() {\\n\\t\\t\\tif (this.show_file_browser) {\\n\\t\\t\\t\\treturn this.upload_via_file_browser();\\n\\t\\t\\t}\\n\\t\\t\\tif (this.show_web_link) {\\n\\t\\t\\t\\treturn this.upload_via_web_link();\\n\\t\\t\\t}\\n\\t\\t\\tif (this.as_dataurl) {\\n\\t\\t\\t\\treturn this.return_as_dataurl();\\n\\t\\t\\t}\\n\\t\\t\\treturn frappe.run_serially(\\n\\t\\t\\t\\tthis.files.map(\\n\\t\\t\\t\\t\\t(file, i) =>\\n\\t\\t\\t\\t\\t\\t() => this.upload_file(file, i)\\n\\t\\t\\t\\t)\\n\\t\\t\\t);\\n\\t\\t},\\n\\t\\tupload_via_file_browser() {\\n\\t\\t\\tlet selected_file = this.$refs.file_browser.selected_node;\\n\\t\\t\\tif (!selected_file.value) {\\n\\t\\t\\t\\tfrappe.msgprint(__('Click on a file to select it.'));\\n\\t\\t\\t\\tthis.close_dialog = true;\\n\\t\\t\\t\\treturn Promise.reject();\\n\\t\\t\\t}\\n\\t\\t\\tthis.close_dialog = true;\\n\\t\\t\\treturn this.upload_file({\\n\\t\\t\\t\\tfile_url: selected_file.file_url\\n\\t\\t\\t});\\n\\t\\t},\\n\\t\\tupload_via_web_link() {\\n\\t\\t\\tlet file_url = this.$refs.web_link.url;\\n\\t\\t\\tif (!file_url) {\\n\\t\\t\\t\\tfrappe.msgprint(__('Invalid URL'));\\n\\t\\t\\t\\tthis.close_dialog = true;\\n\\t\\t\\t\\treturn Promise.reject();\\n\\t\\t\\t}\\n\\t\\t\\tfile_url = decodeURI(file_url)\\n\\t\\t\\tthis.close_dialog = true;\\n\\t\\t\\treturn this.upload_file({\\n\\t\\t\\t\\tfile_url\\n\\t\\t\\t});\\n\\t\\t},\\n\\t\\treturn_as_dataurl() {\\n\\t\\t\\tlet promises = this.files.map(file =>\\n\\t\\t\\t\\tfrappe.dom.file_to_base64(file.file_obj)\\n\\t\\t\\t\\t\\t.then(dataurl => {\\n\\t\\t\\t\\t\\t\\tfile.dataurl = dataurl;\\n\\t\\t\\t\\t\\t\\tthis.on_success && this.on_success(file);\\n\\t\\t\\t\\t\\t})\\n\\t\\t\\t);\\n\\t\\t\\tthis.close_dialog = true;\\n\\t\\t\\treturn Promise.all(promises);\\n\\t\\t},\\n\\t\\tupload_file(file, i) {\\n\\t\\t\\tthis.currently_uploading = i;\\n\\n\\t\\t\\treturn new Promise((resolve, reject) => {\\n\\t\\t\\t\\tlet xhr = new XMLHttpRequest();\\n\\t\\t\\t\\txhr.upload.addEventListener('loadstart', (e) => {\\n\\t\\t\\t\\t\\tfile.uploading = true;\\n\\t\\t\\t\\t})\\n\\t\\t\\t\\txhr.upload.addEventListener('progress', (e) => {\\n\\t\\t\\t\\t\\tif (e.lengthComputable) {\\n\\t\\t\\t\\t\\t\\tfile.progress = e.loaded;\\n\\t\\t\\t\\t\\t\\tfile.total = e.total;\\n\\t\\t\\t\\t\\t}\\n\\t\\t\\t\\t})\\n\\t\\t\\t\\txhr.upload.addEventListener('load', (e) => {\\n\\t\\t\\t\\t\\tfile.uploading = false;\\n\\t\\t\\t\\t\\tresolve();\\n\\t\\t\\t\\t})\\n\\t\\t\\t\\txhr.addEventListener('error', (e) => {\\n\\t\\t\\t\\t\\tfile.failed = true;\\n\\t\\t\\t\\t\\treject();\\n\\t\\t\\t\\t})\\n\\t\\t\\t\\txhr.onreadystatechange = () => {\\n\\t\\t\\t\\t\\tif (xhr.readyState == XMLHttpRequest.DONE) {\\n\\t\\t\\t\\t\\t\\tif (xhr.status === 200) {\\n\\t\\t\\t\\t\\t\\t\\tfile.request_succeeded = true;\\n\\t\\t\\t\\t\\t\\t\\tlet r = null;\\n\\t\\t\\t\\t\\t\\t\\tlet file_doc = null;\\n\\t\\t\\t\\t\\t\\t\\ttry {\\n\\t\\t\\t\\t\\t\\t\\t\\tr = JSON.parse(xhr.responseText);\\n\\t\\t\\t\\t\\t\\t\\t\\tif (r.message.doctype === 'File') {\\n\\t\\t\\t\\t\\t\\t\\t\\t\\tfile_doc = r.message;\\n\\t\\t\\t\\t\\t\\t\\t\\t}\\n\\t\\t\\t\\t\\t\\t\\t} catch(e) {\\n\\t\\t\\t\\t\\t\\t\\t\\tr = xhr.responseText;\\n\\t\\t\\t\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\t\\t\\t\\tfile.doc = file_doc;\\n\\n\\t\\t\\t\\t\\t\\t\\tif (this.on_success) {\\n\\t\\t\\t\\t\\t\\t\\t\\tthis.on_success(file_doc, r);\\n\\t\\t\\t\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\t\\t\\t\\tif (i == this.files.length - 1 && this.files.every(file => file.request_succeeded)) {\\n\\t\\t\\t\\t\\t\\t\\t\\tthis.close_dialog = true;\\n\\t\\t\\t\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\t\\t\\t} else if (xhr.status === 403) {\\n\\t\\t\\t\\t\\t\\t\\tfile.failed = true;\\n\\t\\t\\t\\t\\t\\t\\tlet response = JSON.parse(xhr.responseText);\\n\\t\\t\\t\\t\\t\\t\\tfile.error_message = `Not permitted. ${response._error_message || ''}`;\\n\\n\\t\\t\\t\\t\\t\\t} else if (xhr.status === 413) {\\n\\t\\t\\t\\t\\t\\t\\tfile.failed = true;\\n\\t\\t\\t\\t\\t\\t\\tfile.error_message = 'Size exceeds the maximum allowed file size.';\\n\\n\\t\\t\\t\\t\\t\\t} else {\\n\\t\\t\\t\\t\\t\\t\\tfile.failed = true;\\n\\t\\t\\t\\t\\t\\t\\tfile.error_message = xhr.status === 0 ? 'XMLHttpRequest Error' : `${xhr.status} : ${xhr.statusText}`;\\n\\n\\t\\t\\t\\t\\t\\t\\tlet error = null;\\n\\t\\t\\t\\t\\t\\t\\ttry {\\n\\t\\t\\t\\t\\t\\t\\t\\terror = JSON.parse(xhr.responseText);\\n\\t\\t\\t\\t\\t\\t\\t} catch(e) {\\n\\t\\t\\t\\t\\t\\t\\t\\t// pass\\n\\t\\t\\t\\t\\t\\t\\t}\\n\\t\\t\\t\\t\\t\\t\\tfrappe.request.cleanup({}, error);\\n\\t\\t\\t\\t\\t\\t}\\n\\t\\t\\t\\t\\t}\\n\\t\\t\\t\\t}\\n\\t\\t\\t\\txhr.open('POST', '/api/method/upload_file', true);\\n\\t\\t\\t\\txhr.setRequestHeader('Accept', 'application/json');\\n\\t\\t\\t\\txhr.setRequestHeader('X-Frappe-CSRF-Token', frappe.csrf_token);\\n\\n\\t\\t\\t\\tlet form_data = new FormData();\\n\\t\\t\\t\\tif (file.file_obj) {\\n\\t\\t\\t\\t\\tform_data.append('file', file.file_obj, file.name);\\n\\t\\t\\t\\t}\\n\\t\\t\\t\\tform_data.append('is_private', +file.private);\\n\\t\\t\\t\\tform_data.append('folder', this.folder);\\n\\n\\t\\t\\t\\tif (file.file_url) {\\n\\t\\t\\t\\t\\tform_data.append('file_url', file.file_url);\\n\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\tif (file.file_name) {\\n\\t\\t\\t\\t\\tform_data.append('file_name', file.file_name);\\n\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\tif (this.doctype && this.docname) {\\n\\t\\t\\t\\t\\tform_data.append('doctype', this.doctype);\\n\\t\\t\\t\\t\\tform_data.append('docname', this.docname);\\n\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\tif (this.fieldname) {\\n\\t\\t\\t\\t\\tform_data.append('fieldname', this.fieldname);\\n\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\tif (this.method) {\\n\\t\\t\\t\\t\\tform_data.append('method', this.method);\\n\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\tif (file.optimize) {\\n\\t\\t\\t\\t\\tform_data.append('optimize', true);\\n\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\tif (this.attach_doc_image) {\\n\\t\\t\\t\\t\\tform_data.append('max_width', 200);\\n\\t\\t\\t\\t\\tform_data.append('max_height', 200);\\n\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\txhr.send(form_data);\\n\\t\\t\\t});\\n\\t\\t},\\n\\t\\tcapture_image() {\\n\\t\\t\\tconst capture = new frappe.ui.Capture({\\n\\t\\t\\t\\tanimate: false,\\n\\t\\t\\t\\terror: true\\n\\t\\t\\t});\\n\\t\\t\\tcapture.show();\\n\\t\\t\\tcapture.submit(data_url => {\\n\\t\\t\\t\\tlet filename = `capture_${frappe.datetime.now_datetime().replaceAll(/[: -]/g, '_')}.png`;\\n\\t\\t\\t\\tthis.url_to_file(data_url, filename, 'image/png').then((file) =>\\n\\t\\t\\t\\t\\tthis.add_files([file])\\n\\t\\t\\t\\t);\\n\\t\\t\\t});\\n\\t\\t},\\n\\t\\tshow_google_drive_picker() {\\n\\t\\t\\tlet dialog = cur_dialog;\\n\\t\\t\\tdialog.hide();\\n\\t\\t\\tlet google_drive = new GoogleDrivePicker({\\n\\t\\t\\t\\tpickerCallback: data => this.google_drive_callback(data, dialog),\\n\\t\\t\\t\\t...this.google_drive_settings\\n\\t\\t\\t});\\n\\t\\t\\tgoogle_drive.loadPicker();\\n\\t\\t},\\n\\t\\tgoogle_drive_callback(data, dialog) {\\n\\t\\t\\tif (data.action == google.picker.Action.PICKED) {\\n\\t\\t\\t\\tthis.upload_file({\\n\\t\\t\\t\\t\\tfile_url: data.docs[0].url,\\n\\t\\t\\t\\t\\tfile_name: data.docs[0].name\\n\\t\\t\\t\\t});\\n\\t\\t\\t} else if (data.action == google.picker.Action.CANCEL) {\\n\\t\\t\\t\\tdialog.show();\\n\\t\\t\\t}\\n\\t\\t},\\n\\t\\turl_to_file(url, filename, mime_type) {\\n\\t\\t\\treturn fetch(url)\\n\\t\\t\\t\\t\\t.then(res => res.arrayBuffer())\\n\\t\\t\\t\\t\\t.then(buffer => new File([buffer], filename, { type: mime_type }));\\n\\t\\t},\\n\\t}\\n}\\n</script>\\n<style>\\n.file-upload-area {\\n\\tmin-height: 16rem;\\n\\tdisplay: flex;\\n\\talign-items: center;\\n\\tjustify-content: center;\\n\\tborder: 1px dashed var(--dark-border-color);\\n\\tborder-radius: var(--border-radius);\\n\\tcursor: pointer;\\n\\tbackground-color: var(--bg-color);\\n}\\n\\n.btn-file-upload {\\n\\tbackground-color: transparent;\\n\\tborder: none;\\n\\tbox-shadow: none;\\n\\tfont-size: var(--text-xs);\\n}\\n</style>\\n\"]}, media: undefined })\n\n  }\n  /* scoped */\n  const __vue_scope_id__ = undefined\n  /* module identifier */\n  const __vue_module_identifier__ = undefined\n  /* functional template */\n  const __vue_is_functional_template__ = false\n  /* component normalizer */\n  function __vue_normalize__(\n    template, style, script,\n    scope, functional, moduleIdentifier, shadowMode,\n    createInjector, createInjectorSSR, createInjectorShadow\n  ) {\n    const component = (typeof script === 'function' ? script.options : script) || {}\n\n    // For security concerns, we use only base name in production mode.\n    component.__file = \"<template>\\n\\t<div class=\\\"file-uploader\\\"\\n\\t\\t@dragover.prevent=\\\"dragover\\\"\\n\\t\\t@dragleave.prevent=\\\"dragleave\\\"\\n\\t\\t@drop.prevent=\\\"dropfiles\\\"\\n\\t>\\n\\t\\t<div\\n\\t\\t\\tclass=\\\"file-upload-area\\\"\\n\\t\\t\\tv-show=\\\"files.length === 0 && !show_file_browser && !show_web_link\\\"\\n\\t\\t>\\n\\t\\t\\t<div v-if=\\\"!is_dragging\\\">\\n\\t\\t\\t\\t<div class=\\\"text-center\\\">\\n\\t\\t\\t\\t\\t{{ __('Drag and drop files here or upload from') }}\\n\\t\\t\\t\\t</div>\\n\\t\\t\\t\\t<div class=\\\"mt-2 text-center\\\">\\n\\t\\t\\t\\t\\t<button class=\\\"btn btn-file-upload\\\" @click=\\\"browse_files\\\">\\n\\t\\t\\t\\t\\t\\t<svg width=\\\"30\\\" height=\\\"30\\\" viewBox=\\\"0 0 30 30\\\" fill=\\\"none\\\" xmlns=\\\"http://www.w3.org/2000/svg\\\">\\n\\t\\t\\t\\t\\t\\t\\t<circle cx=\\\"15\\\" cy=\\\"15\\\" r=\\\"15\\\" fill=\\\"url(#paint0_linear)\\\"/>\\n\\t\\t\\t\\t\\t\\t\\t<path d=\\\"M13.5 22V19\\\" stroke=\\\"white\\\" stroke-linecap=\\\"round\\\" stroke-linejoin=\\\"round\\\"/>\\n\\t\\t\\t\\t\\t\\t\\t<path d=\\\"M16.5 22V19\\\" stroke=\\\"white\\\" stroke-linecap=\\\"round\\\" stroke-linejoin=\\\"round\\\"/>\\n\\t\\t\\t\\t\\t\\t\\t<path d=\\\"M10.5 22H19.5\\\" stroke=\\\"white\\\" stroke-linecap=\\\"round\\\" stroke-linejoin=\\\"round\\\"/>\\n\\t\\t\\t\\t\\t\\t\\t<path d=\\\"M7.5 16H22.5\\\" stroke=\\\"white\\\" stroke-linecap=\\\"round\\\" stroke-linejoin=\\\"round\\\"/>\\n\\t\\t\\t\\t\\t\\t\\t<path d=\\\"M21 8H9C8.17157 8 7.5 8.67157 7.5 9.5V17.5C7.5 18.3284 8.17157 19 9 19H21C21.8284 19 22.5 18.3284 22.5 17.5V9.5C22.5 8.67157 21.8284 8 21 8Z\\\" stroke=\\\"white\\\" stroke-linecap=\\\"round\\\" stroke-linejoin=\\\"round\\\"/>\\n\\t\\t\\t\\t\\t\\t\\t<defs>\\n\\t\\t\\t\\t\\t\\t\\t<linearGradient id=\\\"paint0_linear\\\" x1=\\\"0\\\" y1=\\\"0\\\" x2=\\\"0\\\" y2=\\\"30\\\" gradientUnits=\\\"userSpaceOnUse\\\">\\n\\t\\t\\t\\t\\t\\t\\t<stop stop-color=\\\"#2C9AF1\\\"/>\\n\\t\\t\\t\\t\\t\\t\\t<stop offset=\\\"1\\\" stop-color=\\\"#2490EF\\\"/>\\n\\t\\t\\t\\t\\t\\t\\t</linearGradient>\\n\\t\\t\\t\\t\\t\\t\\t</defs>\\n\\t\\t\\t\\t\\t\\t</svg>\\n\\t\\t\\t\\t\\t\\t<div class=\\\"mt-1\\\">{{ __('My Device') }}</div>\\n\\t\\t\\t\\t\\t</button>\\n\\t\\t\\t\\t\\t<input\\n\\t\\t\\t\\t\\t\\ttype=\\\"file\\\"\\n\\t\\t\\t\\t\\t\\tclass=\\\"hidden\\\"\\n\\t\\t\\t\\t\\t\\tref=\\\"file_input\\\"\\n\\t\\t\\t\\t\\t\\t@change=\\\"on_file_input\\\"\\n\\t\\t\\t\\t\\t\\t:multiple=\\\"allow_multiple\\\"\\n\\t\\t\\t\\t\\t\\t:accept=\\\"restrictions.allowed_file_types.join(', ')\\\"\\n\\t\\t\\t\\t\\t>\\n\\t\\t\\t\\t\\t<button class=\\\"btn btn-file-upload\\\" v-if=\\\"!disable_file_browser\\\" @click=\\\"show_file_browser = true\\\">\\n\\t\\t\\t\\t\\t\\t<svg width=\\\"30\\\" height=\\\"30\\\" viewBox=\\\"0 0 30 30\\\" fill=\\\"none\\\" xmlns=\\\"http://www.w3.org/2000/svg\\\">\\n\\t\\t\\t\\t\\t\\t\\t<circle cx=\\\"15\\\" cy=\\\"15\\\" r=\\\"15\\\" fill=\\\"#48BB74\\\"/>\\n\\t\\t\\t\\t\\t\\t\\t<path d=\\\"M13.0245 11.5H8C7.72386 11.5 7.5 11.7239 7.5 12V20C7.5 21.1046 8.39543 22 9.5 22H20.5C21.6046 22 22.5 21.1046 22.5 20V14.5C22.5 14.2239 22.2761 14 22 14H15.2169C15.0492 14 14.8926 13.9159 14.8 13.776L13.4414 11.724C13.3488 11.5841 13.1922 11.5 13.0245 11.5Z\\\" stroke=\\\"white\\\" stroke-miterlimit=\\\"10\\\" stroke-linecap=\\\"square\\\"/>\\n\\t\\t\\t\\t\\t\\t\\t<path d=\\\"M8.87939 9.5V8.5C8.87939 8.22386 9.10325 8 9.37939 8H20.6208C20.8969 8 21.1208 8.22386 21.1208 8.5V12\\\" stroke=\\\"white\\\" stroke-miterlimit=\\\"10\\\" stroke-linecap=\\\"round\\\" stroke-linejoin=\\\"round\\\"/>\\n\\t\\t\\t\\t\\t\\t</svg>\\n\\t\\t\\t\\t\\t\\t<div class=\\\"mt-1\\\">{{ __('Library') }}</div>\\n\\t\\t\\t\\t\\t</button>\\n\\t\\t\\t\\t\\t<button class=\\\"btn btn-file-upload\\\" v-if=\\\"allow_web_link\\\" @click=\\\"show_web_link = true\\\">\\n\\t\\t\\t\\t\\t\\t<svg width=\\\"30\\\" height=\\\"30\\\" viewBox=\\\"0 0 30 30\\\" fill=\\\"none\\\" xmlns=\\\"http://www.w3.org/2000/svg\\\">\\n\\t\\t\\t\\t\\t\\t\\t<circle cx=\\\"15\\\" cy=\\\"15\\\" r=\\\"15\\\" fill=\\\"#ECAC4B\\\"/>\\n\\t\\t\\t\\t\\t\\t\\t<path d=\\\"M12.0469 17.9543L17.9558 12.0454\\\" stroke=\\\"white\\\" stroke-linecap=\\\"round\\\" stroke-linejoin=\\\"round\\\"/>\\n\\t\\t\\t\\t\\t\\t\\t<path d=\\\"M13.8184 11.4547L15.7943 9.47873C16.4212 8.85205 17.2714 8.5 18.1578 8.5C19.0443 8.5 19.8945 8.85205 20.5214 9.47873V9.47873C21.1481 10.1057 21.5001 10.9558 21.5001 11.8423C21.5001 12.7287 21.1481 13.5789 20.5214 14.2058L18.5455 16.1818\\\" stroke=\\\"white\\\" stroke-linecap=\\\"round\\\" stroke-linejoin=\\\"round\\\"/>\\n\\t\\t\\t\\t\\t\\t\\t<path d=\\\"M11.4547 13.8184L9.47873 15.7943C8.85205 16.4212 8.5 17.2714 8.5 18.1578C8.5 19.0443 8.85205 19.8945 9.47873 20.5214V20.5214C10.1057 21.1481 10.9558 21.5001 11.8423 21.5001C12.7287 21.5001 13.5789 21.1481 14.2058 20.5214L16.1818 18.5455\\\" stroke=\\\"white\\\" stroke-linecap=\\\"round\\\" stroke-linejoin=\\\"round\\\"/>\\n\\t\\t\\t\\t\\t\\t</svg>\\n\\t\\t\\t\\t\\t\\t<div class=\\\"mt-1\\\">{{ __('Link') }}</div>\\n\\t\\t\\t\\t\\t</button>\\n\\t\\t\\t\\t\\t<button v-if=\\\"allow_take_photo\\\" class=\\\"btn btn-file-upload\\\" @click=\\\"capture_image\\\">\\n\\t\\t\\t\\t\\t\\t<svg width=\\\"30\\\" height=\\\"30\\\" viewBox=\\\"0 0 30 30\\\" fill=\\\"none\\\" xmlns=\\\"http://www.w3.org/2000/svg\\\">\\n\\t\\t\\t\\t\\t\\t\\t<circle cx=\\\"15\\\" cy=\\\"15\\\" r=\\\"15\\\" fill=\\\"#CE315B\\\"/>\\n\\t\\t\\t\\t\\t\\t\\t<path d=\\\"M11.5 10.5H9.5C8.67157 10.5 8 11.1716 8 12V20C8 20.8284 8.67157 21.5 9.5 21.5H20.5C21.3284 21.5 22 20.8284 22 20V12C22 11.1716 21.3284 10.5 20.5 10.5H18.5L17.3 8.9C17.1111 8.64819 16.8148 8.5 16.5 8.5H13.5C13.1852 8.5 12.8889 8.64819 12.7 8.9L11.5 10.5Z\\\" stroke=\\\"white\\\" stroke-linejoin=\\\"round\\\"/>\\n\\t\\t\\t\\t\\t\\t\\t<circle cx=\\\"15\\\" cy=\\\"16\\\" r=\\\"2.5\\\" stroke=\\\"white\\\"/>\\n\\t\\t\\t\\t\\t\\t</svg>\\n\\t\\t\\t\\t\\t\\t<div class=\\\"mt-1\\\">{{ __('Camera') }}</div>\\n\\t\\t\\t\\t\\t</button>\\n\\t\\t\\t\\t\\t<button v-if=\\\"google_drive_settings.enabled\\\" class=\\\"btn btn-file-upload\\\" @click=\\\"show_google_drive_picker\\\">\\n\\t\\t\\t\\t\\t\\t<svg width=\\\"30\\\" height=\\\"30\\\">\\n\\t\\t\\t\\t\\t\\t\\t<image xlink:href=\\\"/assets/frappe/icons/social/google_drive.svg\\\" width=\\\"30\\\" height=\\\"30\\\"/>\\n\\t\\t\\t\\t\\t\\t</svg>\\n\\t\\t\\t\\t\\t\\t<div class=\\\"mt-1\\\">{{ __('Google Drive') }}</div>\\n\\t\\t\\t\\t\\t</button>\\n\\t\\t\\t\\t</div>\\n\\t\\t\\t\\t<div class=\\\"text-muted text-medium\\\">\\n\\t\\t\\t\\t\\t{{ upload_notes }}\\n\\t\\t\\t\\t</div>\\n\\t\\t\\t</div>\\n\\t\\t\\t<div v-else>\\n\\t\\t\\t\\t{{ __('Drop files here') }}\\n\\t\\t\\t</div>\\n\\t\\t</div>\\n\\t\\t<div class=\\\"file-preview-area\\\" v-show=\\\"files.length && !show_file_browser && !show_web_link\\\">\\n\\t\\t\\t<div class=\\\"file-preview-container\\\" v-if=\\\"!show_image_cropper\\\">\\n\\t\\t\\t\\t<FilePreview\\n\\t\\t\\t\\t\\tv-for=\\\"(file, i) in files\\\"\\n\\t\\t\\t\\t\\t:key=\\\"file.name\\\"\\n\\t\\t\\t\\t\\t:file=\\\"file\\\"\\n\\t\\t\\t\\t\\t@remove=\\\"remove_file(file)\\\"\\n\\t\\t\\t\\t\\t@toggle_private=\\\"file.private = !file.private\\\"\\n\\t\\t\\t\\t\\t@toggle_optimize=\\\"file.optimize = !file.optimize\\\"\\n\\t\\t\\t\\t\\t@toggle_image_cropper=\\\"toggle_image_cropper(i)\\\"\\n\\t\\t\\t\\t/>\\n\\t\\t\\t</div>\\n\\t\\t\\t<div class=\\\"flex align-center\\\" v-if=\\\"show_upload_button && currently_uploading === -1\\\">\\n\\t\\t\\t\\t<button\\n\\t\\t\\t\\t\\tclass=\\\"btn btn-primary btn-sm margin-right\\\"\\n\\t\\t\\t\\t\\t@click=\\\"upload_files\\\"\\n\\t\\t\\t\\t>\\n\\t\\t\\t\\t\\t<span v-if=\\\"files.length === 1\\\">\\n\\t\\t\\t\\t\\t\\t{{ __('Upload file') }}\\n\\t\\t\\t\\t\\t</span>\\n\\t\\t\\t\\t\\t<span v-else>\\n\\t\\t\\t\\t\\t\\t{{ __('Upload {0} files', [files.length]) }}\\n\\t\\t\\t\\t\\t</span>\\n\\t\\t\\t\\t</button>\\n\\t\\t\\t\\t<div class=\\\"text-muted text-medium\\\">\\n\\t\\t\\t\\t\\t{{ __('Click on the lock icon to toggle public/private') }}\\n\\t\\t\\t\\t</div>\\n\\t\\t\\t</div>\\n\\t\\t</div>\\n\\t\\t<ImageCropper\\n\\t\\t\\tv-if=\\\"show_image_cropper\\\"\\n\\t\\t\\t:file=\\\"files[crop_image_with_index]\\\"\\n\\t\\t\\t:attach_doc_image=\\\"attach_doc_image\\\"\\n\\t\\t\\t@toggle_image_cropper=\\\"toggle_image_cropper(-1)\\\"\\n\\t\\t\\t@upload_after_crop=\\\"trigger_upload=true\\\"\\n\\t\\t/>\\n\\t\\t<FileBrowser\\n\\t\\t\\tref=\\\"file_browser\\\"\\n\\t\\t\\tv-if=\\\"show_file_browser && !disable_file_browser\\\"\\n\\t\\t\\t@hide-browser=\\\"show_file_browser = false\\\"\\n\\t\\t/>\\n\\t\\t<WebLink\\n\\t\\t\\tref=\\\"web_link\\\"\\n\\t\\t\\tv-if=\\\"show_web_link\\\"\\n\\t\\t\\t@hide-web-link=\\\"show_web_link = false\\\"\\n\\t\\t/>\\n\\t</div>\\n</template>\\n\\n<script>\\nimport FilePreview from './FilePreview.vue';\\nimport FileBrowser from './FileBrowser.vue';\\nimport WebLink from './WebLink.vue';\\nimport GoogleDrivePicker from '../../integrations/google_drive_picker';\\nimport ImageCropper from './ImageCropper.vue';\\n\\nexport default {\\n\\tname: 'FileUploader',\\n\\tprops: {\\n\\t\\tshow_upload_button: {\\n\\t\\t\\tdefault: true\\n\\t\\t},\\n\\t\\tdisable_file_browser: {\\n\\t\\t\\tdefault: false\\n\\t\\t},\\n\\t\\tallow_multiple: {\\n\\t\\t\\tdefault: true\\n\\t\\t},\\n\\t\\tas_dataurl: {\\n\\t\\t\\tdefault: false\\n\\t\\t},\\n\\t\\tdoctype: {\\n\\t\\t\\tdefault: null\\n\\t\\t},\\n\\t\\tdocname: {\\n\\t\\t\\tdefault: null\\n\\t\\t},\\n\\t\\tfieldname: {\\n\\t\\t\\tdefault: null\\n\\t\\t},\\n\\t\\tfolder: {\\n\\t\\t\\tdefault: 'Home'\\n\\t\\t},\\n\\t\\tmethod: {\\n\\t\\t\\tdefault: null\\n\\t\\t},\\n\\t\\ton_success: {\\n\\t\\t\\tdefault: null\\n\\t\\t},\\n\\t\\trestrictions: {\\n\\t\\t\\tdefault: () => ({\\n\\t\\t\\t\\tmax_file_size: null, // 2048 -> 2KB\\n\\t\\t\\t\\tmax_number_of_files: null,\\n\\t\\t\\t\\tallowed_file_types: [] // ['image/*', 'video/*', '.jpg', '.gif', '.pdf']\\n\\t\\t\\t})\\n\\t\\t},\\n\\t\\tattach_doc_image: {\\n\\t\\t\\tdefault: false\\n\\t\\t},\\n\\t\\tupload_notes: {\\n\\t\\t\\tdefault: null // \\\"Images or video, upto 2MB\\\"\\n\\t\\t}\\n\\t},\\n\\tcomponents: {\\n\\t\\tFilePreview,\\n\\t\\tFileBrowser,\\n\\t\\tWebLink,\\n\\t\\tImageCropper\\n\\t},\\n\\tdata() {\\n\\t\\treturn {\\n\\t\\t\\tfiles: [],\\n\\t\\t\\tis_dragging: false,\\n\\t\\t\\tcurrently_uploading: -1,\\n\\t\\t\\tshow_file_browser: false,\\n\\t\\t\\tshow_web_link: false,\\n\\t\\t\\tshow_image_cropper: false,\\n\\t\\t\\tcrop_image_with_index: -1,\\n\\t\\t\\ttrigger_upload: false,\\n\\t\\t\\tclose_dialog: false,\\n\\t\\t\\thide_dialog_footer: false,\\n\\t\\t\\tallow_take_photo: false,\\n\\t\\t\\tallow_web_link: true,\\n\\t\\t\\tgoogle_drive_settings: {\\n\\t\\t\\t\\tenabled: false\\n\\t\\t\\t}\\n\\t\\t}\\n\\t},\\n\\tcreated() {\\n\\t\\tthis.allow_take_photo = window.navigator.mediaDevices;\\n\\t\\tif (frappe.user_id !== \\\"Guest\\\") {\\n\\t\\t\\tfrappe.call({\\n\\t\\t\\t\\t// method only available after login\\n\\t\\t\\t\\tmethod: \\\"frappe.integrations.doctype.google_settings.google_settings.get_file_picker_settings\\\",\\n\\t\\t\\t\\tcallback: (resp) => {\\n\\t\\t\\t\\t\\tif (!resp.exc) {\\n\\t\\t\\t\\t\\t\\tthis.google_drive_settings = resp.message;\\n\\t\\t\\t\\t\\t}\\n\\t\\t\\t\\t}\\n\\t\\t\\t});\\n\\t\\t}\\n\\t\\tif (this.restrictions.max_file_size == null) {\\n\\t\\t\\tfrappe.call('frappe.core.doctype.file.file.get_max_file_size')\\n\\t\\t\\t\\t.then(res => {\\n\\t\\t\\t\\t\\tthis.restrictions.max_file_size = Number(res.message);\\n\\t\\t\\t\\t});\\n\\t\\t}\\n\\t},\\n\\twatch: {\\n\\t\\tfiles(newvalue, oldvalue) {\\n\\t\\t\\tif (!this.allow_multiple && newvalue.length > 1) {\\n\\t\\t\\t\\tthis.files = [newvalue[newvalue.length - 1]];\\n\\t\\t\\t}\\n\\t\\t}\\n\\t},\\n\\tcomputed: {\\n\\t\\tupload_complete() {\\n\\t\\t\\treturn this.files.length > 0\\n\\t\\t\\t\\t&& this.files.every(\\n\\t\\t\\t\\t\\tfile => file.total !== 0 && file.progress === file.total);\\n\\t\\t}\\n\\t},\\n\\tmethods: {\\n\\t\\tdragover() {\\n\\t\\t\\tthis.is_dragging = true;\\n\\t\\t},\\n\\t\\tdragleave() {\\n\\t\\t\\tthis.is_dragging = false;\\n\\t\\t},\\n\\t\\tdropfiles(e) {\\n\\t\\t\\tthis.is_dragging = false;\\n\\t\\t\\tthis.add_files(e.dataTransfer.files);\\n\\t\\t},\\n\\t\\tbrowse_files() {\\n\\t\\t\\tthis.$refs.file_input.click();\\n\\t\\t},\\n\\t\\ton_file_input(e) {\\n\\t\\t\\tthis.add_files(this.$refs.file_input.files);\\n\\t\\t},\\n\\t\\tremove_file(file) {\\n\\t\\t\\tthis.files = this.files.filter(f => f !== file);\\n\\t\\t},\\n\\t\\ttoggle_image_cropper(index) {\\n\\t\\t\\tthis.crop_image_with_index = this.show_image_cropper ? -1 : index;\\n\\t\\t\\tthis.hide_dialog_footer = !this.show_image_cropper;\\n\\t\\t\\tthis.show_image_cropper = !this.show_image_cropper;\\n\\t\\t},\\n\\t\\ttoggle_all_private() {\\n\\t\\t\\tlet flag;\\n\\t\\t\\tlet private_values = this.files.filter(file => file.private);\\n\\t\\t\\tif (private_values.length < this.files.length) {\\n\\t\\t\\t\\t// there are some private and some public\\n\\t\\t\\t\\t// set all to private\\n\\t\\t\\t\\tflag = true;\\n\\t\\t\\t} else {\\n\\t\\t\\t\\t// all are private, set all to public\\n\\t\\t\\t\\tflag = false;\\n\\t\\t\\t}\\n\\t\\t\\tthis.files = this.files.map(file => {\\n\\t\\t\\t\\tfile.private = flag;\\n\\t\\t\\t\\treturn file;\\n\\t\\t\\t});\\n\\t\\t},\\n\\t\\tadd_files(file_array) {\\n\\t\\t\\tlet files = Array.from(file_array)\\n\\t\\t\\t\\t.filter(this.check_restrictions)\\n\\t\\t\\t\\t.map(file => {\\n\\t\\t\\t\\t\\tlet is_image = file.type.startsWith('image');\\n\\t\\t\\t\\t\\treturn {\\n\\t\\t\\t\\t\\t\\tfile_obj: file,\\n\\t\\t\\t\\t\\t\\tcropper_file: file,\\n\\t\\t\\t\\t\\t\\tcrop_box_data: null,\\n\\t\\t\\t\\t\\t\\toptimize: this.attach_doc_image ? true : false,\\n\\t\\t\\t\\t\\t\\tname: file.name,\\n\\t\\t\\t\\t\\t\\tdoc: null,\\n\\t\\t\\t\\t\\t\\tprogress: 0,\\n\\t\\t\\t\\t\\t\\ttotal: 0,\\n\\t\\t\\t\\t\\t\\tfailed: false,\\n\\t\\t\\t\\t\\t\\trequest_succeeded: false,\\n\\t\\t\\t\\t\\t\\terror_message: null,\\n\\t\\t\\t\\t\\t\\tuploading: false,\\n\\t\\t\\t\\t\\t\\tprivate: !is_image\\n\\t\\t\\t\\t\\t}\\n\\t\\t\\t\\t});\\n\\t\\t\\tthis.files = this.files.concat(files);\\n\\t\\t\\tif(this.files.length != 0 && this.attach_doc_image) {\\n\\t\\t\\t\\tthis.toggle_image_cropper(0);\\n\\t\\t\\t}\\n\\t\\t},\\n\\t\\tcheck_restrictions(file) {\\n\\t\\t\\tlet { max_file_size, allowed_file_types } = this.restrictions;\\n\\n\\t\\t\\tlet mime_type = file.type;\\n\\t\\t\\tlet extension = '.' + file.name.split('.').pop();\\n\\n\\t\\t\\tlet is_correct_type = true;\\n\\t\\t\\tlet valid_file_size = true;\\n\\n\\t\\t\\tif (allowed_file_types.length) {\\n\\t\\t\\t\\tis_correct_type = allowed_file_types.some((type) => {\\n\\t\\t\\t\\t\\t// is this is a mime-type\\n\\t\\t\\t\\t\\tif (type.includes('/')) {\\n\\t\\t\\t\\t\\t\\tif (!file.type) return false;\\n\\t\\t\\t\\t\\t\\treturn file.type.match(type);\\n\\t\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\t\\t// otherwise this is likely an extension\\n\\t\\t\\t\\t\\tif (type[0] === '.') {\\n\\t\\t\\t\\t\\t\\treturn file.name.endsWith(type);\\n\\t\\t\\t\\t\\t}\\n\\t\\t\\t\\t\\treturn false;\\n\\t\\t\\t\\t});\\n\\t\\t\\t}\\n\\n\\t\\t\\tif (max_file_size && file.size != null) {\\n\\t\\t\\t\\tvalid_file_size = file.size < max_file_size;\\n\\t\\t\\t}\\n\\n\\t\\t\\tif (!is_correct_type) {\\n\\t\\t\\t\\tconsole.warn('File skipped because of invalid file type', file);\\n\\t\\t\\t\\tfrappe.show_alert({\\n\\t\\t\\t\\t\\tmessage: __('File \\\"{0}\\\" was skipped because of invalid file type', [file.name]),\\n\\t\\t\\t\\t\\tindicator: 'orange'\\n\\t\\t\\t\\t});\\n\\t\\t\\t}\\n\\t\\t\\tif (!valid_file_size) {\\n\\t\\t\\t\\tconsole.warn('File skipped because of invalid file size', file.size, file);\\n\\t\\t\\t\\tfrappe.show_alert({\\n\\t\\t\\t\\t\\tmessage: __('File \\\"{0}\\\" was skipped because size exceeds {1} MB', [file.name, max_file_size / (1024 * 1024)]),\\n\\t\\t\\t\\t\\tindicator: 'orange'\\n\\t\\t\\t\\t});\\n\\t\\t\\t}\\n\\n\\t\\t\\treturn is_correct_type && valid_file_size;\\n\\t\\t},\\n\\t\\tupload_files() {\\n\\t\\t\\tif (this.show_file_browser) {\\n\\t\\t\\t\\treturn this.upload_via_file_browser();\\n\\t\\t\\t}\\n\\t\\t\\tif (this.show_web_link) {\\n\\t\\t\\t\\treturn this.upload_via_web_link();\\n\\t\\t\\t}\\n\\t\\t\\tif (this.as_dataurl) {\\n\\t\\t\\t\\treturn this.return_as_dataurl();\\n\\t\\t\\t}\\n\\t\\t\\treturn frappe.run_serially(\\n\\t\\t\\t\\tthis.files.map(\\n\\t\\t\\t\\t\\t(file, i) =>\\n\\t\\t\\t\\t\\t\\t() => this.upload_file(file, i)\\n\\t\\t\\t\\t)\\n\\t\\t\\t);\\n\\t\\t},\\n\\t\\tupload_via_file_browser() {\\n\\t\\t\\tlet selected_file = this.$refs.file_browser.selected_node;\\n\\t\\t\\tif (!selected_file.value) {\\n\\t\\t\\t\\tfrappe.msgprint(__('Click on a file to select it.'));\\n\\t\\t\\t\\tthis.close_dialog = true;\\n\\t\\t\\t\\treturn Promise.reject();\\n\\t\\t\\t}\\n\\t\\t\\tthis.close_dialog = true;\\n\\t\\t\\treturn this.upload_file({\\n\\t\\t\\t\\tfile_url: selected_file.file_url\\n\\t\\t\\t});\\n\\t\\t},\\n\\t\\tupload_via_web_link() {\\n\\t\\t\\tlet file_url = this.$refs.web_link.url;\\n\\t\\t\\tif (!file_url) {\\n\\t\\t\\t\\tfrappe.msgprint(__('Invalid URL'));\\n\\t\\t\\t\\tthis.close_dialog = true;\\n\\t\\t\\t\\treturn Promise.reject();\\n\\t\\t\\t}\\n\\t\\t\\tfile_url = decodeURI(file_url)\\n\\t\\t\\tthis.close_dialog = true;\\n\\t\\t\\treturn this.upload_file({\\n\\t\\t\\t\\tfile_url\\n\\t\\t\\t});\\n\\t\\t},\\n\\t\\treturn_as_dataurl() {\\n\\t\\t\\tlet promises = this.files.map(file =>\\n\\t\\t\\t\\tfrappe.dom.file_to_base64(file.file_obj)\\n\\t\\t\\t\\t\\t.then(dataurl => {\\n\\t\\t\\t\\t\\t\\tfile.dataurl = dataurl;\\n\\t\\t\\t\\t\\t\\tthis.on_success && this.on_success(file);\\n\\t\\t\\t\\t\\t})\\n\\t\\t\\t);\\n\\t\\t\\tthis.close_dialog = true;\\n\\t\\t\\treturn Promise.all(promises);\\n\\t\\t},\\n\\t\\tupload_file(file, i) {\\n\\t\\t\\tthis.currently_uploading = i;\\n\\n\\t\\t\\treturn new Promise((resolve, reject) => {\\n\\t\\t\\t\\tlet xhr = new XMLHttpRequest();\\n\\t\\t\\t\\txhr.upload.addEventListener('loadstart', (e) => {\\n\\t\\t\\t\\t\\tfile.uploading = true;\\n\\t\\t\\t\\t})\\n\\t\\t\\t\\txhr.upload.addEventListener('progress', (e) => {\\n\\t\\t\\t\\t\\tif (e.lengthComputable) {\\n\\t\\t\\t\\t\\t\\tfile.progress = e.loaded;\\n\\t\\t\\t\\t\\t\\tfile.total = e.total;\\n\\t\\t\\t\\t\\t}\\n\\t\\t\\t\\t})\\n\\t\\t\\t\\txhr.upload.addEventListener('load', (e) => {\\n\\t\\t\\t\\t\\tfile.uploading = false;\\n\\t\\t\\t\\t\\tresolve();\\n\\t\\t\\t\\t})\\n\\t\\t\\t\\txhr.addEventListener('error', (e) => {\\n\\t\\t\\t\\t\\tfile.failed = true;\\n\\t\\t\\t\\t\\treject();\\n\\t\\t\\t\\t})\\n\\t\\t\\t\\txhr.onreadystatechange = () => {\\n\\t\\t\\t\\t\\tif (xhr.readyState == XMLHttpRequest.DONE) {\\n\\t\\t\\t\\t\\t\\tif (xhr.status === 200) {\\n\\t\\t\\t\\t\\t\\t\\tfile.request_succeeded = true;\\n\\t\\t\\t\\t\\t\\t\\tlet r = null;\\n\\t\\t\\t\\t\\t\\t\\tlet file_doc = null;\\n\\t\\t\\t\\t\\t\\t\\ttry {\\n\\t\\t\\t\\t\\t\\t\\t\\tr = JSON.parse(xhr.responseText);\\n\\t\\t\\t\\t\\t\\t\\t\\tif (r.message.doctype === 'File') {\\n\\t\\t\\t\\t\\t\\t\\t\\t\\tfile_doc = r.message;\\n\\t\\t\\t\\t\\t\\t\\t\\t}\\n\\t\\t\\t\\t\\t\\t\\t} catch(e) {\\n\\t\\t\\t\\t\\t\\t\\t\\tr = xhr.responseText;\\n\\t\\t\\t\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\t\\t\\t\\tfile.doc = file_doc;\\n\\n\\t\\t\\t\\t\\t\\t\\tif (this.on_success) {\\n\\t\\t\\t\\t\\t\\t\\t\\tthis.on_success(file_doc, r);\\n\\t\\t\\t\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\t\\t\\t\\tif (i == this.files.length - 1 && this.files.every(file => file.request_succeeded)) {\\n\\t\\t\\t\\t\\t\\t\\t\\tthis.close_dialog = true;\\n\\t\\t\\t\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\t\\t\\t} else if (xhr.status === 403) {\\n\\t\\t\\t\\t\\t\\t\\tfile.failed = true;\\n\\t\\t\\t\\t\\t\\t\\tlet response = JSON.parse(xhr.responseText);\\n\\t\\t\\t\\t\\t\\t\\tfile.error_message = `Not permitted. ${response._error_message || ''}`;\\n\\n\\t\\t\\t\\t\\t\\t} else if (xhr.status === 413) {\\n\\t\\t\\t\\t\\t\\t\\tfile.failed = true;\\n\\t\\t\\t\\t\\t\\t\\tfile.error_message = 'Size exceeds the maximum allowed file size.';\\n\\n\\t\\t\\t\\t\\t\\t} else {\\n\\t\\t\\t\\t\\t\\t\\tfile.failed = true;\\n\\t\\t\\t\\t\\t\\t\\tfile.error_message = xhr.status === 0 ? 'XMLHttpRequest Error' : `${xhr.status} : ${xhr.statusText}`;\\n\\n\\t\\t\\t\\t\\t\\t\\tlet error = null;\\n\\t\\t\\t\\t\\t\\t\\ttry {\\n\\t\\t\\t\\t\\t\\t\\t\\terror = JSON.parse(xhr.responseText);\\n\\t\\t\\t\\t\\t\\t\\t} catch(e) {\\n\\t\\t\\t\\t\\t\\t\\t\\t// pass\\n\\t\\t\\t\\t\\t\\t\\t}\\n\\t\\t\\t\\t\\t\\t\\tfrappe.request.cleanup({}, error);\\n\\t\\t\\t\\t\\t\\t}\\n\\t\\t\\t\\t\\t}\\n\\t\\t\\t\\t}\\n\\t\\t\\t\\txhr.open('POST', '/api/method/upload_file', true);\\n\\t\\t\\t\\txhr.setRequestHeader('Accept', 'application/json');\\n\\t\\t\\t\\txhr.setRequestHeader('X-Frappe-CSRF-Token', frappe.csrf_token);\\n\\n\\t\\t\\t\\tlet form_data = new FormData();\\n\\t\\t\\t\\tif (file.file_obj) {\\n\\t\\t\\t\\t\\tform_data.append('file', file.file_obj, file.name);\\n\\t\\t\\t\\t}\\n\\t\\t\\t\\tform_data.append('is_private', +file.private);\\n\\t\\t\\t\\tform_data.append('folder', this.folder);\\n\\n\\t\\t\\t\\tif (file.file_url) {\\n\\t\\t\\t\\t\\tform_data.append('file_url', file.file_url);\\n\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\tif (file.file_name) {\\n\\t\\t\\t\\t\\tform_data.append('file_name', file.file_name);\\n\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\tif (this.doctype && this.docname) {\\n\\t\\t\\t\\t\\tform_data.append('doctype', this.doctype);\\n\\t\\t\\t\\t\\tform_data.append('docname', this.docname);\\n\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\tif (this.fieldname) {\\n\\t\\t\\t\\t\\tform_data.append('fieldname', this.fieldname);\\n\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\tif (this.method) {\\n\\t\\t\\t\\t\\tform_data.append('method', this.method);\\n\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\tif (file.optimize) {\\n\\t\\t\\t\\t\\tform_data.append('optimize', true);\\n\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\tif (this.attach_doc_image) {\\n\\t\\t\\t\\t\\tform_data.append('max_width', 200);\\n\\t\\t\\t\\t\\tform_data.append('max_height', 200);\\n\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\txhr.send(form_data);\\n\\t\\t\\t});\\n\\t\\t},\\n\\t\\tcapture_image() {\\n\\t\\t\\tconst capture = new frappe.ui.Capture({\\n\\t\\t\\t\\tanimate: false,\\n\\t\\t\\t\\terror: true\\n\\t\\t\\t});\\n\\t\\t\\tcapture.show();\\n\\t\\t\\tcapture.submit(data_url => {\\n\\t\\t\\t\\tlet filename = `capture_${frappe.datetime.now_datetime().replaceAll(/[: -]/g, '_')}.png`;\\n\\t\\t\\t\\tthis.url_to_file(data_url, filename, 'image/png').then((file) =>\\n\\t\\t\\t\\t\\tthis.add_files([file])\\n\\t\\t\\t\\t);\\n\\t\\t\\t});\\n\\t\\t},\\n\\t\\tshow_google_drive_picker() {\\n\\t\\t\\tlet dialog = cur_dialog;\\n\\t\\t\\tdialog.hide();\\n\\t\\t\\tlet google_drive = new GoogleDrivePicker({\\n\\t\\t\\t\\tpickerCallback: data => this.google_drive_callback(data, dialog),\\n\\t\\t\\t\\t...this.google_drive_settings\\n\\t\\t\\t});\\n\\t\\t\\tgoogle_drive.loadPicker();\\n\\t\\t},\\n\\t\\tgoogle_drive_callback(data, dialog) {\\n\\t\\t\\tif (data.action == google.picker.Action.PICKED) {\\n\\t\\t\\t\\tthis.upload_file({\\n\\t\\t\\t\\t\\tfile_url: data.docs[0].url,\\n\\t\\t\\t\\t\\tfile_name: data.docs[0].name\\n\\t\\t\\t\\t});\\n\\t\\t\\t} else if (data.action == google.picker.Action.CANCEL) {\\n\\t\\t\\t\\tdialog.show();\\n\\t\\t\\t}\\n\\t\\t},\\n\\t\\turl_to_file(url, filename, mime_type) {\\n\\t\\t\\treturn fetch(url)\\n\\t\\t\\t\\t\\t.then(res => res.arrayBuffer())\\n\\t\\t\\t\\t\\t.then(buffer => new File([buffer], filename, { type: mime_type }));\\n\\t\\t},\\n\\t}\\n}\\n</script>\\n<style>\\n.file-upload-area {\\n\\tmin-height: 16rem;\\n\\tdisplay: flex;\\n\\talign-items: center;\\n\\tjustify-content: center;\\n\\tborder: 1px dashed var(--dark-border-color);\\n\\tborder-radius: var(--border-radius);\\n\\tcursor: pointer;\\n\\tbackground-color: var(--bg-color);\\n}\\n\\n.btn-file-upload {\\n\\tbackground-color: transparent;\\n\\tborder: none;\\n\\tbox-shadow: none;\\n\\tfont-size: var(--text-xs);\\n}\\n</style>\\n\"\n\n    if (!component.render) {\n      component.render = template.render\n      component.staticRenderFns = template.staticRenderFns\n      component._compiled = true\n\n      if (functional) component.functional = true\n    }\n\n    component._scopeId = scope\n\n    if (true) {\n      let hook\n      if (false) {\n        // In SSR.\n        hook = function(context) {\n          // 2.3 injection\n          context =\n            context || // cached call\n            (this.$vnode && this.$vnode.ssrContext) || // stateful\n            (this.parent && this.parent.$vnode && this.parent.$vnode.ssrContext) // functional\n          // 2.2 with runInNewContext: true\n          if (!context && typeof __VUE_SSR_CONTEXT__ !== 'undefined') {\n            context = __VUE_SSR_CONTEXT__\n          }\n          // inject component styles\n          if (style) {\n            style.call(this, createInjectorSSR(context))\n          }\n          // register component module identifier for async chunk inference\n          if (context && context._registeredComponents) {\n            context._registeredComponents.add(moduleIdentifier)\n          }\n        }\n        // used by ssr in case component is cached and beforeCreate\n        // never gets called\n        component._ssrRegister = hook\n      }\n      else if (style) {\n        hook = shadowMode \n          ? function(context) {\n              style.call(this, createInjectorShadow(context, this.$root.$options.shadowRoot))\n            }\n          : function(context) {\n              style.call(this, createInjector(context))\n            }\n      }\n\n      if (hook !== undefined) {\n        if (component.functional) {\n          // register for functional component in vue file\n          const originalRender = component.render\n          component.render = function renderWithStyleInjection(h, context) {\n            hook.call(context)\n            return originalRender(h, context)\n          }\n        } else {\n          // inject component registration as beforeCreate hook\n          const existing = component.beforeCreate\n          component.beforeCreate = existing ? [].concat(existing, hook) : [hook]\n        }\n      }\n    }\n\n    return component\n  }\n  /* style inject */\n  function __vue_create_injector__() {\n    const styles = __vue_create_injector__.styles || (__vue_create_injector__.styles = {})\n    const isOldIE =\n      typeof navigator !== 'undefined' &&\n      /msie [6-9]\\\\b/.test(navigator.userAgent.toLowerCase())\n\n    return function addStyle(id, css) {\n      if (document.querySelector('style[data-vue-ssr-id~=\"' + id + '\"]')) return // SSR styles are present.\n\n      const group = isOldIE ? css.media || 'default' : id\n      const style = styles[group] || (styles[group] = { ids: [], parts: [], element: undefined })\n\n      if (!style.ids.includes(id)) {\n        let code = css.source\n        let index = style.ids.length\n\n        style.ids.push(id)\n\n        if (false && css.map) {\n          // https://developer.chrome.com/devtools/docs/javascript-debugging\n          // this makes source maps inside style tags work properly in Chrome\n          code += '\\n/*# sourceURL=' + css.map.sources[0] + ' */'\n          // http://stackoverflow.com/a/26603875\n          code +=\n            '\\n/*# sourceMappingURL=data:application/json;base64,' +\n            btoa(unescape(encodeURIComponent(JSON.stringify(css.map)))) +\n            ' */'\n        }\n\n        if (isOldIE) {\n          style.element = style.element || document.querySelector('style[data-group=' + group + ']')\n        }\n\n        if (!style.element) {\n          const head = document.head || document.getElementsByTagName('head')[0]\n          const el = style.element = document.createElement('style')\n          el.type = 'text/css'\n\n          if (css.media) el.setAttribute('media', css.media)\n          if (isOldIE) {\n            el.setAttribute('data-group', group)\n            el.setAttribute('data-next-index', '0')\n          }\n\n          head.appendChild(el)\n        }\n\n        if (isOldIE) {\n          index = parseInt(style.element.getAttribute('data-next-index'))\n          style.element.setAttribute('data-next-index', index + 1)\n        }\n\n        if (style.element.styleSheet) {\n          style.parts.push(code)\n          style.element.styleSheet.cssText = style.parts\n            .filter(Boolean)\n            .join('\\n')\n        } else {\n          const textNode = document.createTextNode(code)\n          const nodes = style.element.childNodes\n          if (nodes[index]) style.element.removeChild(nodes[index])\n          if (nodes.length) style.element.insertBefore(textNode, nodes[index])\n          else style.element.appendChild(textNode)\n        }\n      }\n    }\n  }\n  /* style inject SSR */\n  \n  /* style inject shadow dom */\n  \n\n  \n  const __vue_component__ = /*#__PURE__*/__vue_normalize__(\n    { render: __vue_render__, staticRenderFns: __vue_staticRenderFns__ },\n    __vue_inject_styles__,\n    __vue_script__,\n    __vue_scope_id__,\n    __vue_is_functional_template__,\n    __vue_module_identifier__,\n    false,\n    __vue_create_injector__,\n    undefined,\n    undefined\n  )\n\n  export default __vue_component__", "import FileUploaderComponent from './FileUploader.vue';\n\nexport default class FileUploader {\n\tconstructor({\n\t\twrapper,\n\t\tmethod,\n\t\ton_success,\n\t\tdoctype,\n\t\tdocname,\n\t\tfieldname,\n\t\tfiles,\n\t\tfolder,\n\t\trestrictions,\n\t\tupload_notes,\n\t\tallow_multiple,\n\t\tas_dataurl,\n\t\tdisable_file_browser,\n\t\tattach_doc_image,\n\t\tfrm\n\t} = {}) {\n\n\t\tfrm && frm.attachments.max_reached(true);\n\n\t\tif (!wrapper) {\n\t\t\tthis.make_dialog();\n\t\t} else {\n\t\t\tthis.wrapper = wrapper.get ? wrapper.get(0) : wrapper;\n\t\t}\n\n\t\tif (attach_doc_image) {\n\t\t\trestrictions.allowed_file_types = ['image/jpeg', 'image/png'];\n\t\t}\n\n\t\tthis.$fileuploader = new Vue({\n\t\t\tel: this.wrapper,\n\t\t\trender: h => h(FileUploaderComponent, {\n\t\t\t\tprops: {\n\t\t\t\t\tshow_upload_button: !Boolean(this.dialog),\n\t\t\t\t\tdoctype,\n\t\t\t\t\tdocname,\n\t\t\t\t\tfieldname,\n\t\t\t\t\tmethod,\n\t\t\t\t\tfolder,\n\t\t\t\t\ton_success,\n\t\t\t\t\trestrictions,\n\t\t\t\t\tupload_notes,\n\t\t\t\t\tallow_multiple,\n\t\t\t\t\tas_dataurl,\n\t\t\t\t\tdisable_file_browser,\n\t\t\t\t\tattach_doc_image,\n\t\t\t\t}\n\t\t\t})\n\t\t});\n\n\t\tthis.uploader = this.$fileuploader.$children[0];\n\n\t\tthis.uploader.$watch('files', (files) => {\n\t\t\tlet all_private = files.every(file => file.private);\n\t\t\tif (this.dialog) {\n\t\t\t\tthis.dialog.set_secondary_action_label(all_private ? __('Set all public') : __('Set all private'));\n\t\t\t}\n\t\t}, { deep: true });\n\n\t\tthis.uploader.$watch('trigger_upload', (trigger_upload) => {\n\t\t\tif (trigger_upload) {\n\t\t\t\tthis.upload_files();\n\t\t\t}\n\t\t});\n\n\t\tthis.uploader.$watch('close_dialog', (close_dialog) => {\n\t\t\tif (close_dialog) {\n\t\t\t\tthis.dialog && this.dialog.hide();\n\t\t\t}\n\t\t});\n\n\t\tthis.uploader.$watch('hide_dialog_footer', (hide_dialog_footer) => {\n\t\t\tif (hide_dialog_footer) {\n\t\t\t\tthis.dialog && this.dialog.footer.addClass('hide');\n\t\t\t\tthis.dialog.$wrapper.data('bs.modal')._config.backdrop = 'static';\n\t\t\t} else {\n\t\t\t\tthis.dialog && this.dialog.footer.removeClass('hide');\n\t\t\t\tthis.dialog.$wrapper.data('bs.modal')._config.backdrop = true;\n\t\t\t}\n\t\t});\n\n\t\tif (files && files.length) {\n\t\t\tthis.uploader.add_files(files);\n\t\t}\n\t}\n\n\tupload_files() {\n\t\tthis.dialog && this.dialog.get_primary_btn().prop('disabled', true);\n\t\tthis.dialog && this.dialog.get_secondary_btn().prop('disabled', true);\n\t\treturn this.uploader.upload_files();\n\t}\n\n\tmake_dialog() {\n\t\tthis.dialog = new frappe.ui.Dialog({\n\t\t\ttitle: __('Upload'),\n\t\t\tprimary_action_label: __('Upload'),\n\t\t\tprimary_action: () => this.upload_files(),\n\t\t\tsecondary_action_label: __('Set all private'),\n\t\t\tsecondary_action: () => {\n\t\t\t\tthis.uploader.toggle_all_private();\n\t\t\t}\n\t\t});\n\n\t\tthis.wrapper = this.dialog.body;\n\t\tthis.dialog.show();\n\t\tthis.dialog.$wrapper.on('hidden.bs.modal', function() {\n\t\t\t$(this).data('bs.modal', null);\n\t\t\t$(this).remove();\n\t\t});\n\t}\n}\n", "// Copyright (c) 2015, Frappe Technologies Pvt. Ltd. and Contributors\n// MIT License. See license.txt\n\nimport FileUploader from './file_uploader';\n\nfrappe.provide('frappe.ui');\nfrappe.ui.FileUploader = FileUploader;\n"],
  "mappings": "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AAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;A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;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEnB,QAAI,CAAC,UAAU,QAAQ;AACrB,gBAAU,SAAS,SAAS;AAC5B,gBAAU,kBAAkB,SAAS;AACrC,gBAAU,YAAY;AAEtB,UAAI;AAAY,kBAAU,aAAa;AAAA;AAGzC,cAAU,WAAW;AAErB,QAAI,MAAM;AACR,UAAI;AACJ,UAAI,OAAO;AAET,eAAO,SAAS,SAAS;AAEvB,oBACE,WACC,KAAK,UAAU,KAAK,OAAO,cAC3B,KAAK,UAAU,KAAK,OAAO,UAAU,KAAK,OAAO,OAAO;AAE3D,cAAI,CAAC,WAAW,OAAO,wBAAwB,aAAa;AAC1D,sBAAU;AAAA;AAGZ,cAAI,OAAO;AACT,kBAAM,KAAK,MAAM,kBAAkB;AAAA;AAGrC,cAAI,WAAW,QAAQ,uBAAuB;AAC5C,oBAAQ,sBAAsB,IAAI;AAAA;AAAA;AAKtC,kBAAU,eAAe;AAAA,iBAElB,OAAO;AACd,eAAO,aACH,SAAS,SAAS;AAChB,gBAAM,KAAK,MAAM,qBAAqB,SAAS,KAAK,MAAM,SAAS;AAAA,YAErE,SAAS,SAAS;AAChB,gBAAM,KAAK,MAAM,eAAe;AAAA;AAAA;AAIxC,UAAI,SAAS,QAAW;AACtB,YAAI,UAAU,YAAY;AAExB,gBAAM,iBAAiB,UAAU;AACjC,oBAAU,SAAS,kCAAkC,GAAG,SAAS;AAC/D,iBAAK,KAAK;AACV,mBAAO,eAAe,GAAG;AAAA;AAAA,eAEtB;AAEL,gBAAM,WAAW,UAAU;AAC3B,oBAAU,eAAe,WAAW,GAAG,OAAO,UAAU,QAAQ,CAAC;AAAA;AAAA;AAAA;AAKvE,WAAO;AAAA;AAGT,sCAAmC;AACjC,UAAM,SAAS,yBAAwB,UAAW,0BAAwB,SAAS;AACnF,UAAM,UACJ,OAAO,cAAc,eACrB,gBAAgB,KAAK,UAAU,UAAU;AAE3C,WAAO,kBAAkB,IAAI,KAAK;AAChC,UAAI,SAAS,cAAc,6BAA6B,KAAK;AAAO;AAEpE,YAAM,QAAQ,UAAU,IAAI,SAAS,YAAY;AACjD,YAAM,QAAQ,OAAO,UAAW,QAAO,SAAS,CAAE,KAAK,IAAI,OAAO,IAAI,SAAS;AAE/E,UAAI,CAAC,MAAM,IAAI,SAAS,KAAK;AAC3B,YAAI,OAAO,IAAI;AACf,YAAI,QAAQ,MAAM,IAAI;AAEtB,cAAM,IAAI,KAAK;AAEf,YAAI,OAAkB;AAGpB,kBAAQ,qBAAqB,IAAI,IAAI,QAAQ,KAAK;AAElD,kBACE,yDACA,KAAK,SAAS,mBAAmB,KAAK,UAAU,IAAI,UACpD;AAAA;AAGJ,YAAI,SAAS;AACX,gBAAM,UAAU,MAAM,WAAW,SAAS,cAAc,sBAAsB,QAAQ;AAAA;AAGxF,YAAI,CAAC,MAAM,SAAS;AAClB,gBAAM,OAAO,SAAS,QAAQ,SAAS,qBAAqB,QAAQ;AACpE,gBAAM,KAAK,MAAM,UAAU,SAAS,cAAc;AAClD,aAAG,OAAO;AAEV,cAAI,IAAI;AAAO,eAAG,aAAa,SAAS,IAAI;AAC5C,cAAI,SAAS;AACX,eAAG,aAAa,cAAc;AAC9B,eAAG,aAAa,mBAAmB;AAAA;AAGrC,eAAK,YAAY;AAAA;AAGnB,YAAI,SAAS;AACX,kBAAQ,SAAS,MAAM,QAAQ,aAAa;AAC5C,gBAAM,QAAQ,aAAa,mBAAmB,QAAQ;AAAA;AAGxD,YAAI,MAAM,QAAQ,YAAY;AAC5B,gBAAM,MAAM,KAAK;AACjB,gBAAM,QAAQ,WAAW,UAAU,MAAM,MACtC,OAAO,SACP,KAAK;AAAA,eACH;AACL,gBAAM,WAAW,SAAS,eAAe;AACzC,gBAAM,QAAQ,MAAM,QAAQ;AAC5B,cAAI,MAAM;AAAQ,kBAAM,QAAQ,YAAY,MAAM;AAClD,cAAI,MAAM;AAAQ,kBAAM,QAAQ,aAAa,UAAU,MAAM;AAAA;AACxD,kBAAM,QAAQ,YAAY;AAAA;AAAA;AAAA;AAAA;AAWvC,MAAM,qBAAiC,mCACrC,CAAE,QAAQ,iBAAgB,iBAAiB,2BAC3C,wBACA,iBACA,mBACA,iCACA,4BACA,OACA,0BACA,QACA;AAGF,MAAO,uBAAQ;;;AClwCjB,2BAAkC;AAAA,IACjC,YAAY;AAAA,MACX;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,QACG,IAAI;AAEP,aAAO,IAAI,YAAY,YAAY;AAEnC,UAAI,CAAC,SAAS;AACb,aAAK;AAAA,aACC;AACN,aAAK,UAAU,QAAQ,MAAM,QAAQ,IAAI,KAAK;AAAA;AAG/C,UAAI,kBAAkB;AACrB,qBAAa,qBAAqB,CAAC,cAAc;AAAA;AAGlD,WAAK,gBAAgB,IAAI,IAAI;AAAA,QAC5B,IAAI,KAAK;AAAA,QACT,QAAQ,OAAK,EAAE,sBAAuB;AAAA,UACrC,OAAO;AAAA,YACN,oBAAoB,CAAC,QAAQ,KAAK;AAAA,YAClC;AAAA,YACA;AAAA,YACA;AAAA,YACA;AAAA,YACA;AAAA,YACA;AAAA,YACA;AAAA,YACA;AAAA,YACA;AAAA,YACA;AAAA,YACA;AAAA,YACA;AAAA;AAAA;AAAA;AAKH,WAAK,WAAW,KAAK,cAAc,UAAU;AAE7C,WAAK,SAAS,OAAO,SAAS,CAAC,WAAU;AACxC,YAAI,cAAc,OAAM,MAAM,UAAQ,KAAK;AAC3C,YAAI,KAAK,QAAQ;AAChB,eAAK,OAAO,2BAA2B,cAAc,GAAG,oBAAoB,GAAG;AAAA;AAAA,SAE9E,CAAE,MAAM;AAEX,WAAK,SAAS,OAAO,kBAAkB,CAAC,mBAAmB;AAC1D,YAAI,gBAAgB;AACnB,eAAK;AAAA;AAAA;AAIP,WAAK,SAAS,OAAO,gBAAgB,CAAC,iBAAiB;AACtD,YAAI,cAAc;AACjB,eAAK,UAAU,KAAK,OAAO;AAAA;AAAA;AAI7B,WAAK,SAAS,OAAO,sBAAsB,CAAC,uBAAuB;AAClE,YAAI,oBAAoB;AACvB,eAAK,UAAU,KAAK,OAAO,OAAO,SAAS;AAC3C,eAAK,OAAO,SAAS,KAAK,YAAY,QAAQ,WAAW;AAAA,eACnD;AACN,eAAK,UAAU,KAAK,OAAO,OAAO,YAAY;AAC9C,eAAK,OAAO,SAAS,KAAK,YAAY,QAAQ,WAAW;AAAA;AAAA;AAI3D,UAAI,SAAS,MAAM,QAAQ;AAC1B,aAAK,SAAS,UAAU;AAAA;AAAA;AAAA,IAI1B,eAAe;AACd,WAAK,UAAU,KAAK,OAAO,kBAAkB,KAAK,YAAY;AAC9D,WAAK,UAAU,KAAK,OAAO,oBAAoB,KAAK,YAAY;AAChE,aAAO,KAAK,SAAS;AAAA;AAAA,IAGtB,cAAc;AACb,WAAK,SAAS,IAAI,OAAO,GAAG,OAAO;AAAA,QAClC,OAAO,GAAG;AAAA,QACV,sBAAsB,GAAG;AAAA,QACzB,gBAAgB,MAAM,KAAK;AAAA,QAC3B,wBAAwB,GAAG;AAAA,QAC3B,kBAAkB,MAAM;AACvB,eAAK,SAAS;AAAA;AAAA;AAIhB,WAAK,UAAU,KAAK,OAAO;AAC3B,WAAK,OAAO;AACZ,WAAK,OAAO,SAAS,GAAG,mBAAmB,WAAW;AACrD,UAAE,MAAM,KAAK,YAAY;AACzB,UAAE,MAAM;AAAA;AAAA;AAAA;AA7GX,MAAO,wBAAP;;;ACGA,SAAO,QAAQ;AACf,SAAO,GAAG,eAAe;",
  "names": []
}
